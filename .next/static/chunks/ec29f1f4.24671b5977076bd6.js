"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6737],{2938:function(t,e,i){i.d(e,{B:function(){return sh},C:function(){return so},H:function(){return ic},I:function(){return E},L:function(){return m},P:function(){return nH},Q:function(){return ez},R:function(){return io},T:function(){return th},V:function(){return ik},Y:function(){return tq},a:function(){return ig},a6:function(){return tw},ac:function(){return tm},af:function(){return e2},ag:function(){return e3},ah:function(){return e5},ai:function(){return e4},aj:function(){return e7},ak:function(){return e9},al:function(){return e6},am:function(){return e8},b:function(){return tv},bA:function(){return nP},bB:function(){return nS},bC:function(){return nE},bD:function(){return nA},bE:function(){return nC},bF:function(){return nq},bH:function(){return nO},bI:function(){return nM},bJ:function(){return nD},bK:function(){return nL},bL:function(){return nF},bM:function(){return nI},bP:function(){return tO},bc:function(){return nt},bd:function(){return ne},be:function(){return ni},bf:function(){return na},bg:function(){return nn},bh:function(){return nr},bi:function(){return nl},bj:function(){return nh},bk:function(){return no},bl:function(){return nd},bm:function(){return nu},bn:function(){return nc},bo:function(){return np},bp:function(){return nf},bq:function(){return ng},br:function(){return nb},bs:function(){return nm},bt:function(){return nv},bu:function(){return ny},bv:function(){return nw},bw:function(){return nk},bx:function(){return n$},by:function(){return nx},bz:function(){return nT},c:function(){return te},d:function(){return O},e:function(){return C},f:function(){return tt},g:function(){return ta},h:function(){return a6},i:function(){return tg},j:function(){return iS},k:function(){return V},l:function(){return e$},m:function(){return nG},o:function(){return tr},p:function(){return ti},q:function(){return nB},r:function(){return nY},s:function(){return eU},t:function(){return a8},u:function(){return nQ},v:function(){return tk},w:function(){return ns},x:function(){return nj}});var s,a,n,r,l,h,o=i(2265),d=i(1001);Symbol(0);let u=Symbol(0),c=Symbol(0),p=Symbol(0),f=Symbol(0),g=Symbol(0),b=Symbol(0),m={ea:u,dc:c,A:p,fa:f,Zc:g,Pd:b,Hf:Symbol(0),If:Symbol(0),Jf:Symbol(0)};class v extends d.P{get length(){return this.B.length}get readonly(){return this[m.Zc]}indexOf(t){return this.B.indexOf(t)}getById(t){var e;return""===t?null:null!==(e=this.B.find(e=>e.id===t))&&void 0!==e?e:null}toArray(){return[...this.B]}[(n=m.Zc,Symbol.iterator)](){return this.B.values()}[m.ea](t,e){let i=this.B.length;""+i in this||Object.defineProperty(this,i,{get(){return this.B[i]}}),this.B.includes(t)||(this.B.push(t),this.dispatchEvent(new d.D("add",{detail:t,trigger:e})))}[m.dc](t,e){let i=this.B.indexOf(t);if(i>=0){var s;null===(s=this[m.If])||void 0===s||s.call(this,t,e),this.B.splice(i,1),this.dispatchEvent(new d.D("remove",{detail:t,trigger:e}))}}[m.A](t){var e;for(let e of[...this.B])this[m.dc](e,t);this.B=[],this[m.Pd](!1,t),null===(e=this[m.Hf])||void 0===e||e.call(this)}[m.Pd](t,e){this[m.Zc]!==t&&(this[m.Zc]=t,this.dispatchEvent(new d.D("readonly-change",{detail:t,trigger:e})))}constructor(){super(...arguments),this.B=[],this[n]=!1}}var y={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},w="undefined"!=typeof window&&void 0!==window.document?window.document:{},k="fullscreenEnabled"in w&&Object.keys(y)||"webkitFullscreenEnabled"in w&&["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]||"mozFullScreenEnabled"in w&&["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"]||"msFullscreenEnabled"in w&&["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]||[],$={requestFullscreen:function(t){return t[k[y.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[k[y.requestFullscreen]]},get exitFullscreen(){return w[k[y.exitFullscreen]].bind(w)},get fullscreenPseudoClass(){return":"+k[y.fullscreen]},addEventListener:function(t,e,i){return w.addEventListener(k[y[t]],e,i)},removeEventListener:function(t,e,i){return w.removeEventListener(k[y[t]],e,i)},get fullscreenEnabled(){return!!w[k[y.fullscreenEnabled]]},set fullscreenEnabled(val){},get fullscreenElement(){return w[k[y.fullscreenElement]]},set fullscreenElement(val){},get onfullscreenchange(){return w[("on"+k[y.fullscreenchange]).toLowerCase()]},set onfullscreenchange(handler){return w[("on"+k[y.fullscreenchange]).toLowerCase()]=handler},get onfullscreenerror(){return w[("on"+k[y.fullscreenerror]).toLowerCase()]},set onfullscreenerror(handler){return w[("on"+k[y.fullscreenerror]).toLowerCase()]=handler}};let x=$.fullscreenEnabled;class T extends d.V{get active(){return this.Qd}get supported(){return x}onConnect(){(0,d.l)($,"fullscreenchange",this.Rd.bind(this)),(0,d.l)($,"fullscreenerror",this._c.bind(this)),(0,d.v)(this.Ga.bind(this))}async Ga(){x&&await this.exit()}Rd(t){let e=P(this.el);e!==this.Qd&&(e||(this.ec=!1),this.Qd=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}_c(t){this.ec&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ec=!1)}async enter(){try{if(this.ec=!0,!this.el||P(this.el))return;return S(),$.requestFullscreen(this.el)}catch(t){throw this.ec=!1,t}}async exit(){if(this.el&&P(this.el))return S(),$.exitFullscreen()}constructor(){super(...arguments),this.ec=!1,this.Qd=!1}}function P(t){if($.fullscreenElement===t)return!0;try{return t.matches($.fullscreenPseudoClass)}catch(t){return!1}}function S(){if(!x)throw Error("[vidstack] no fullscreen API")}let E="undefined"==typeof document,A=E?"":(null===(s=navigator)||void 0===s?void 0:s.userAgent.toLowerCase())||"",C=!E&&/iphone|ipad|ipod|ios|crios|fxios/i.test(A),q=!E&&/(iphone|ipod)/gi.test((null===(a=navigator)||void 0===a?void 0:a.platform)||""),O=!E&&!!window.chrome,M=!E&&(!!window.safari||C);function D(){return!E&&!(0,d.n)(window.screen.orientation)&&!(0,d.n)(window.screen.orientation.lock)&&(0,d.o)(screen.orientation.unlock)}function L(t,e){return!E&&(t||(t=document.createElement("audio")),t.canPlayType(e).length>0)}function j(t,e){return!E&&(t||(t=document.createElement("video")),t.canPlayType(e).length>0)}function F(t){return!E&&(t||(t=document.createElement("video")),t.canPlayType("application/vnd.apple.mpegurl").length>0)}function I(t){return!E&&!!document.pictureInPictureEnabled&&!(null==t?void 0:t.disablePictureInPicture)}function R(t){return!E&&(0,d.o)(null==t?void 0:t.webkitSupportsPresentationMode)&&(0,d.o)(null==t?void 0:t.webkitSetPresentationMode)}async function W(){let t=document.createElement("video");return t.volume=.5,await (0,d.Q)(0),.5===t.volume}function V(){var t,e,i,s,a,n,r,l;if(E)return!1;let h=E?void 0:null!==(a=null!==(s=null===(t=window)||void 0===t?void 0:t.ManagedMediaSource)&&void 0!==s?s:null===(e=window)||void 0===e?void 0:e.MediaSource)&&void 0!==a?a:null===(i=window)||void 0===i?void 0:i.WebKitMediaSource;if((0,d.n)(h))return!1;let o=h&&(0,d.o)(h.isTypeSupported)&&h.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),u=E?void 0:null!==(l=null===(n=window)||void 0===n?void 0:n.SourceBuffer)&&void 0!==l?l:null===(r=window)||void 0===r?void 0:r.WebKitSourceBuffer,c=(0,d.n)(u)||!(0,d.n)(u.prototype)&&(0,d.o)(u.prototype.appendBuffer)&&(0,d.o)(u.prototype.remove);return!!o&&!!c}let N=class t extends d.V{get type(){return this.ma()}get locked(){return this.Db()}get portrait(){return this.ma().startsWith("portrait")}get landscape(){return this.ma().startsWith("landscape")}get supported(){return t.supported}onConnect(){if(this.supported)(0,d.l)(screen.orientation,"change",this.Lf.bind(this));else{let t=window.matchMedia("(orientation: landscape)");t.onchange=this.Lf.bind(this),(0,d.v)(()=>t.onchange=null)}(0,d.v)(this.Ga.bind(this))}async Ga(){this.supported&&this.Db()&&await this.unlock()}Lf(t){this.ma.set(this.Kf()),this.dispatch("orientation-change",{detail:{orientation:(0,d.p)(this.ma),lock:this.$c},trigger:t})}async lock(t){(0,d.p)(this.Db)||this.$c===t||(this.Mf(),await screen.orientation.lock(t),this.Db.set(!0),this.$c=t)}async unlock(){(0,d.p)(this.Db)&&(this.Mf(),this.$c=void 0,await screen.orientation.unlock(),this.Db.set(!1))}Mf(){if(!this.supported)throw Error("[vidstack] no orientation API")}Kf(){return E?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}constructor(){super(...arguments),this.ma=(0,d.s)(this.Kf()),this.Db=(0,d.s)(!1)}};N.supported=D();let H=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Y=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),G=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,K=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),z=/\.(m3u8)($|\?)/i,B=/\.(mpd)($|\?)/i,U=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),_=new Set(["application/dash+xml"]);function Q(t){let{src:e,type:i}=t;return(0,d.i)(e)?H.test(e)||Y.has(i)||e.startsWith("blob:")&&"audio/object"===i:"audio/object"===i}function X(t){return(0,d.i)(t.src)?G.test(t.src)||K.has(t.type)||t.src.startsWith("blob:")&&"video/object"===t.type||Z(t)&&(E||F()):"video/object"===t.type}function Z(t){let{src:e,type:i}=t;return(0,d.i)(e)&&z.test(e)||U.has(i)}function J(t){let{src:e,type:i}=t;return(0,d.i)(e)&&B.test(e)||_.has(i)}function tt(t){return(0,d.i)(t.src)&&(Q(t)||X(t)||Z(t))}function te(t,e){let i=new URLSearchParams;for(let t of Object.keys(e))i.set(t,e[t]+"");return t+"?"+i.toString()}function ti(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preconnect";if(E)return!1;let i=document.querySelector('link[href="'.concat(t,'"]'));if(!(0,d.R)(i))return!0;let s=document.createElement("link");return s.rel=e,s.href=t,s.crossOrigin="true",document.head.append(s),!0}let ts={};function ta(t){if(ts[t])return ts[t].promise;let e=(0,d.f)(),i=document.querySelector('script[src="'.concat(t,'"]'));if(!(0,d.R)(i))return e.resolve(),e.promise;let s=document.createElement("script");return s.src=t,s.onload=()=>{e.resolve(),delete ts[t]},s.onerror=()=>{e.reject(),delete ts[t]},setTimeout(()=>document.head.append(s),0),e.promise}function tn(t){return"use-credentials"===t?"include":(0,d.i)(t)?"same-origin":void 0}function tr(t){let{title:e,src:i,download:s}=t,a=(0,d.k)(s)||""===s?i.src:(0,d.i)(s)?s:null==s?void 0:s.url;return!function(t){let{url:e,src:i,download:s}=t;return(0,d.i)(e)&&(s&&!0!==s||Q(i)||X(i))}({url:a,src:i,download:s})?null:{url:a,name:!(0,d.k)(s)&&!(0,d.i)(s)&&(null==s?void 0:s.filename)||e.toLowerCase()||"media"}}function tl(t){return!(0,d.i)(t)&&"width"in t&&"height"in t&&(0,d.j)(t.width)&&(0,d.j)(t.height)}class th{get length(){return this.ua.length}start(t){var e;return null!==(e=this.ua[t][0])&&void 0!==e?e:1/0}end(t){var e;return null!==(e=this.ua[t][1])&&void 0!==e?e:1/0}constructor(t,e){(0,d.g)(t)?this.ua=t:(0,d.n)(t)||(0,d.n)(e)?this.ua=[]:this.ua=[[t,e]]}}function to(t){if(!t.length)return null;let e=t.start(0);for(let i=1;i<t.length;i++){let s=t.start(i);s<e&&(e=s)}return e}function td(t){if(!t.length)return null;let e=t.end(0);for(let i=1;i<t.length;i++){let s=t.end(i);s>e&&(e=s)}return e}let tu=Symbol(0),tc=Symbol(0),tp=Symbol(0),tf=Symbol(0),tg={Eb:tu,na:tc,Fb:tp,_:tf,ib:Symbol(0),$:Symbol(0),Nf:Symbol(0)};function tb(t,e){return e>=t.startTime&&e<t.endTime}function tm(t,e,i){let s=null,a=(0,d.S)();function n(){let n=(0,d.i)(e)?[e]:e,r=t.toArray().find(t=>n.includes(t.kind)&&"showing"===t.mode);if(r!==s){if(!r){i(null),s=null;return}2==r.readyState?i(r):(i(null),(0,d.a)(()=>{let t=(0,d.l)(r,"load",()=>{i(r),t()},{once:!0})},a)),s=r}}return n(),(0,d.l)(t,"mode-change",n)}class tv extends d.P{static createId(t){var e,i;return"vds-".concat(t.type,"-").concat(t.kind,"-").concat(null!==(i=null!==(e=t.src)&&void 0!==e?e:t.label)&&void 0!==i?i:"?")}get metadata(){return this.Of}get regions(){return this.ad}get cues(){return this.C}get activeCues(){return this.Gb}get readyState(){return this[tg.na]}get mode(){return this.V}set mode(t){this.setMode(t)}addCue(t,e){let i=0,s=this.C.length;for(i=0;i<s&&!(t.endTime<=this.C[i].startTime);i++);if(i===s?this.C.push(t):this.C.splice(i,0,t),!(t instanceof TextTrackCue)){var a;null===(a=this[tg.$])||void 0===a||a.track.addCue(t)}this.dispatchEvent(new d.D("add-cue",{detail:t,trigger:e})),tb(t,this.va)&&this[tg.Fb](this.va,e)}removeCue(t,e){let i=this.C.indexOf(t);if(i>=0){var s;let a=this.Gb.includes(t);this.C.splice(i,1),null===(s=this[tg.$])||void 0===s||s.track.removeCue(t),this.dispatchEvent(new d.D("remove-cue",{detail:t,trigger:e})),a&&this[tg.Fb](this.va,e)}}setMode(t,e){var i;this.V!==t&&(this.V=t,"disabled"===t?(this.Gb=[],this.Pf()):2===this.readyState?this[tg.Fb](this.va,e):this.Qf(),this.dispatchEvent(new d.D("mode-change",{detail:this,trigger:e})),null===(i=this[tg.ib])||void 0===i||i.call(this))}[(r=tg.na,l=tg.ib,h=tg.$,tg.Fb)](t,e){if(this.va=t,"disabled"===this.mode||!this.C.length)return;let i=[];for(let e=0,s=this.C.length;e<s;e++){let s=this.C[e];tb(s,t)&&i.push(s)}let s=i.length!==this.Gb.length;if(!s){for(let t=0;t<i.length;t++)if(!this.Gb.includes(i[t])){s=!0;break}}this.Gb=i,s&&this.Pf(e)}[tg._](){this._=!0,"disabled"!==this.V&&this.Qf()}$h(t){i.e(7922).then(i.bind(i,7922)).then(e=>{let{parseText:i,VTTCue:s,VTTRegion:a}=e;(0,d.i)(t.content)&&"json"!==t.type?i(t.content,{type:t.type}).then(t=>{let{cues:e,regions:i}=t;this.C=e,this.ad=i,this.Ha()}):(this.Rf(t.content,s,a),3!==this.readyState&&this.Ha())})}async Qf(){if(this._&&!(this[tg.na]>0)){if(this[tg.na]=1,this.dispatchEvent(new d.D("load-start")),!this.src){this.Ha();return}try{var t,e;let{parseResponse:s,VTTCue:a,VTTRegion:n}=await i.e(7922).then(i.bind(i,7922)),r=null===(t=this[tg.Eb])||void 0===t?void 0:t.call(this),l=fetch(this.src,{headers:"json"===this.type?{"Content-Type":"application/json"}:void 0,credentials:tn(r)});if("json"===this.type)this.Rf(await (await l).text(),a,n);else{let{errors:t,metadata:i,regions:a,cues:n}=await s(l,{type:this.type,encoding:this.encoding});if((null===(e=t[0])||void 0===e?void 0:e.code)===0)throw t[0];this.Of=i,this.ad=a,this.C=n}this.Ha()}catch(t){this.Sf(t)}}}Ha(){if(this[tg.na]=2,!this.src||"vtt"!==this.type){let t=this[tg.$];if(t&&!t.managed)for(let e of this.C)t.track.addCue(e)}let t=new d.D("load");this[tg.Fb](this.va,t),this.dispatchEvent(t)}Sf(t){this[tg.na]=3,this.dispatchEvent(new d.D("error",{detail:t}))}Rf(t,e,i){try{let{regions:s,cues:a}=function(t,e,i){let s=(0,d.i)(t)?JSON.parse(t):t,a=[],n=[];return s.regions&&i&&(a=s.regions.map(t=>Object.assign(new i,t))),(s.cues||(0,d.g)(s))&&(n=((0,d.g)(s)?s:s.cues).filter(t=>(0,d.j)(t.startTime)&&(0,d.j)(t.endTime)).map(t=>Object.assign(new e(0,0,""),t))),{regions:a,cues:n}}(t,e,i);this.ad=s,this.C=a}catch(t){this.Sf(t)}}Pf(t){this.dispatchEvent(new d.D("cue-change",{trigger:t}))}constructor(t){for(let e of(super(),this.id="",this.label="",this.language="",this.default=!1,this._=!1,this.va=0,this.V="disabled",this.Of={},this.ad=[],this.C=[],this.Gb=[],this[r]=0,this[l]=null,this[h]=null,Object.keys(t)))this[e]=t[e];this.type||(this.type="vtt"),!E&&t.content?this.$h(t):t.src||(this[tg.na]=2)}}let ty=/captions|subtitles/;function tw(t){return ty.test(t.kind)}let tk=new d.T({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new th,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:D(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return q&&"video"===this.mediaType&&(!this.playsInline||!$.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new th,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new th,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(tw).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return"unknown"!==this.providedViewType?this.providedViewType:this.inferredViewType},get streamType(){return"unknown"!==this.providedStreamType?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){var t$;return Math.max(0,(null!==(t$=to(this.buffered))&&void 0!==t$?t$:0)-this.clipStartTime)},get bufferedEnd(){var tx;let t=null!==(tx=td(this.buffered))&&void 0!==tx?tx:0;return Math.min(this.duration,Math.max(0,t-this.clipStartTime))},get seekableStart(){var tT;return Math.max(0,(null!==(tT=to(this.seekable))&&void 0!==tT?tT:0)-this.clipStartTime)},get seekableEnd(){var tP;let t=this.canPlay?null!==(tP=td(this.seekable))&&void 0!==tP?tP:1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,t-this.clipStartTime)):t},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return"airplay"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},get isGoogleCastConnected(){return"google-cast"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){var tS;return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(null!==(tS=this.liveSyncPosition)&&void 0!==tS?tS:this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),tE=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),tA=new Set([...tE,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function tC(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?tE:tA;tk.reset(t,t=>i.has(t)),(0,d.t)()}let tq=(0,d.U)();function tO(){return(0,d.O)(tq)}class tM{setTarget(t){this.H=t}getPlayer(t){var e;return this.f||null===(e=null!=t?t:this.H)||void 0===e||e.dispatchEvent(new d.D("find-media-player",{detail:t=>void(this.f=t),bubbles:!0,composed:!0})),this.f}setPlayer(t){this.f=t}startLoading(t){this.t("media-start-loading",t)}startLoadingPoster(t){this.t("media-poster-start-loading",t)}requestAirPlay(t){this.t("media-airplay-request",t)}requestGoogleCast(t){this.t("media-google-cast-request",t)}play(t){this.t("media-play-request",t)}pause(t){this.t("media-pause-request",t)}mute(t){this.t("media-mute-request",t)}unmute(t){this.t("media-unmute-request",t)}enterFullscreen(t,e){this.t("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.t("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.t("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.t("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.t("media-enter-pip-request",t)}exitPictureInPicture(t){this.t("media-exit-pip-request",t)}seeking(t,e){this.t("media-seeking-request",e,t)}seek(t,e){this.t("media-seek-request",e,t)}seekToLiveEdge(t){this.t("media-live-edge-request",t)}changeVolume(t,e){this.t("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.t("media-audio-track-change-request",e,t)}changeQuality(t,e){this.t("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,i){this.t("media-text-track-change-request",i,{index:t,mode:e})}changePlaybackRate(t,e){this.t("media-rate-change-request",e,t)}changeAudioGain(t,e){this.t("media-audio-gain-change-request",e,t)}resumeControls(t){this.t("media-resume-controls-request",t)}pauseControls(t){this.t("media-pause-controls-request",t)}togglePaused(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){let i=this.getPlayer(null==e?void 0:e.target);i&&(i.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=this.Sd;i[s]&&tw(i[s])||(s=-1),-1===s&&(s=i.findIndex(t=>tw(t)&&t.default)),-1===s&&(s=i.findIndex(t=>tw(t))),s>=0&&this.changeTextTrackMode(s,"showing",t),this.Sd=-1}disableCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=e.state.textTrack;if(s){let e=i.indexOf(s);this.changeTextTrackMode(e,"disabled",t),this.Sd=e}}toggleCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.t("media-user-loop-change-request",e,t)}t(t,e,i){var s,a,n;let r=new d.D(t,{bubbles:!0,composed:!0,cancelable:!0,detail:i,trigger:e}),l=(null==e?void 0:e.target)||null;l&&l instanceof d.W&&(l=l.el),l=!l||l===document||l===window||l===document.body||(null===(s=this.f)||void 0===s?void 0:s.el)&&l instanceof Node&&!this.f.el.contains(l)?null!==(n=this.H)&&void 0!==n?n:null===(a=this.getPlayer())||void 0===a?void 0:a.el:null!=l?l:this.H,this.f&&("media-play-request"!==t||this.f.state.canLoad)?this.f.canPlayQueue.k(t,()=>null==l?void 0:l.dispatchEvent(r)):null==l||l.dispatchEvent(r)}Wa(t){}constructor(t){this.cc=t,this.H=null,this.f=null,this.Sd=-1}}let tD=Math.min,tL=Math.max,tj=Math.round,tF=Math.floor,tI=t=>({x:t,y:t}),tR={left:"right",right:"left",bottom:"top",top:"bottom"},tW={start:"end",end:"start"};function tV(t,e){return"function"==typeof t?t(e):t}function tN(t){return t.split("-")[0]}function tH(t){return t.split("-")[1]}function tY(t){return"x"===t?"y":"x"}function tG(t){return"y"===t?"height":"width"}function tK(t){return["top","bottom"].includes(tN(t))?"y":"x"}function tz(t){return t.replace(/start|end/g,t=>tW[t])}function tB(t){return t.replace(/left|right|bottom|top/g,t=>tR[t])}function tU(t){let{x:e,y:i,width:s,height:a}=t;return{width:s,height:a,top:i,left:e,right:e+s,bottom:i+a,x:e,y:i}}function t_(t,e,i){let s,{reference:a,floating:n}=t,r=tK(e),l=tY(tK(e)),h=tG(l),o=tN(e),d="y"===r,u=a.x+a.width/2-n.width/2,c=a.y+a.height/2-n.height/2,p=a[h]/2-n[h]/2;switch(o){case"top":s={x:u,y:a.y-n.height};break;case"bottom":s={x:u,y:a.y+a.height};break;case"right":s={x:a.x+a.width,y:c};break;case"left":s={x:a.x-n.width,y:c};break;default:s={x:a.x,y:a.y}}switch(tH(e)){case"start":s[l]-=p*(i&&d?-1:1);break;case"end":s[l]+=p*(i&&d?-1:1)}return s}let tQ=async(t,e,i)=>{let{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:r}=i,l=n.filter(Boolean),h=await (null==r.isRTL?void 0:r.isRTL(e)),o=await r.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:u}=t_(o,s,h),c=s,p={},f=0;for(let i=0;i<l.length;i++){let{name:n,fn:g}=l[i],{x:b,y:m,data:v,reset:y}=await g({x:d,y:u,initialPlacement:s,placement:c,strategy:a,middlewareData:p,rects:o,platform:r,elements:{reference:t,floating:e}});d=null!=b?b:d,u=null!=m?m:u,p={...p,[n]:{...p[n],...v}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(c=y.placement),y.rects&&(o=!0===y.rects?await r.getElementRects({reference:t,floating:e,strategy:a}):y.rects),{x:d,y:u}=t_(o,c,h)),i=-1)}return{x:d,y:u,placement:c,strategy:a,middlewareData:p}};async function tX(t,e){var i;void 0===e&&(e={});let{x:s,y:a,platform:n,rects:r,elements:l,strategy:h}=t,{boundary:o="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:c=!1,padding:p=0}=tV(e,t),f="number"!=typeof p?{top:0,right:0,bottom:0,left:0,...p}:{top:p,right:p,bottom:p,left:p},g=l[c?"floating"===u?"reference":"floating":u],b=tU(await n.getClippingRect({element:null==(i=await (null==n.isElement?void 0:n.isElement(g)))||i?g:g.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(l.floating)),boundary:o,rootBoundary:d,strategy:h})),m="floating"===u?{x:s,y:a,width:r.floating.width,height:r.floating.height}:r.reference,v=await (null==n.getOffsetParent?void 0:n.getOffsetParent(l.floating)),y=await (null==n.isElement?void 0:n.isElement(v))&&await (null==n.getScale?void 0:n.getScale(v))||{x:1,y:1},w=tU(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:h}):m);return{top:(b.top-w.top+f.top)/y.y,bottom:(w.bottom-b.bottom+f.bottom)/y.y,left:(b.left-w.left+f.left)/y.x,right:(w.right-b.right+f.right)/y.x}}function tZ(t){return t1(t)?(t.nodeName||"").toLowerCase():"#document"}function tJ(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function t0(t){var e;return null==(e=(t1(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function t1(t){return t instanceof Node||t instanceof tJ(t).Node}function t2(t){return t instanceof Element||t instanceof tJ(t).Element}function t3(t){return t instanceof HTMLElement||t instanceof tJ(t).HTMLElement}function t5(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof tJ(t).ShadowRoot)}function t4(t){let{overflow:e,overflowX:i,overflowY:s,display:a}=t8(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(a)}function t7(t){let e=t9(),i=t8(t);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(t=>(i.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(i.contain||"").includes(t))}function t9(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function t6(t){return["html","body","#document"].includes(tZ(t))}function t8(t){return tJ(t).getComputedStyle(t)}function et(t){return t2(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ee(t){if("html"===tZ(t))return t;let e=t.assignedSlot||t.parentNode||t5(t)&&t.host||t0(t);return t5(e)?e.host:e}function ei(t,e,i){var s;void 0===e&&(e=[]),void 0===i&&(i=!0);let a=function t(e){let i=ee(e);return t6(i)?e.ownerDocument?e.ownerDocument.body:e.body:t3(i)&&t4(i)?i:t(i)}(t),n=a===(null==(s=t.ownerDocument)?void 0:s.body),r=tJ(a);return n?e.concat(r,r.visualViewport||[],t4(a)?a:[],r.frameElement&&i?ei(r.frameElement):[]):e.concat(a,ei(a,[],i))}function es(t){let e=t8(t),i=parseFloat(e.width)||0,s=parseFloat(e.height)||0,a=t3(t),n=a?t.offsetWidth:i,r=a?t.offsetHeight:s,l=tj(i)!==n||tj(s)!==r;return l&&(i=n,s=r),{width:i,height:s,$:l}}function ea(t){return t2(t)?t:t.contextElement}function en(t){let e=ea(t);if(!t3(e))return tI(1);let i=e.getBoundingClientRect(),{width:s,height:a,$:n}=es(e),r=(n?tj(i.width):i.width)/s,l=(n?tj(i.height):i.height)/a;return r&&Number.isFinite(r)||(r=1),l&&Number.isFinite(l)||(l=1),{x:r,y:l}}let er=tI(0);function el(t){let e=tJ(t);return t9()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:er}function eh(t,e,i,s){var a;void 0===e&&(e=!1),void 0===i&&(i=!1);let n=t.getBoundingClientRect(),r=ea(t),l=tI(1);e&&(s?t2(s)&&(l=en(s)):l=en(t));let h=(void 0===(a=i)&&(a=!1),s&&(!a||s===tJ(r))&&a)?el(r):tI(0),o=(n.left+h.x)/l.x,d=(n.top+h.y)/l.y,u=n.width/l.x,c=n.height/l.y;if(r){let t=tJ(r),e=s&&t2(s)?tJ(s):s,i=t,a=i.frameElement;for(;a&&s&&e!==i;){let t=en(a),e=a.getBoundingClientRect(),s=t8(a),n=e.left+(a.clientLeft+parseFloat(s.paddingLeft))*t.x,r=e.top+(a.clientTop+parseFloat(s.paddingTop))*t.y;o*=t.x,d*=t.y,u*=t.x,c*=t.y,o+=n,d+=r,a=(i=tJ(a)).frameElement}}return tU({width:u,height:c,x:o,y:d})}let eo=[":popover-open",":modal"];function ed(t){return eo.some(e=>{try{return t.matches(e)}catch(t){return!1}})}function eu(t){return eh(t0(t)).left+et(t).scrollLeft}function ec(t,e,i){let s;if("viewport"===e)s=function(t,e){let i=tJ(t),s=t0(t),a=i.visualViewport,n=s.clientWidth,r=s.clientHeight,l=0,h=0;if(a){n=a.width,r=a.height;let t=t9();(!t||t&&"fixed"===e)&&(l=a.offsetLeft,h=a.offsetTop)}return{width:n,height:r,x:l,y:h}}(t,i);else if("document"===e)s=function(t){let e=t0(t),i=et(t),s=t.ownerDocument.body,a=tL(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),n=tL(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight),r=-i.scrollLeft+eu(t),l=-i.scrollTop;return"rtl"===t8(s).direction&&(r+=tL(e.clientWidth,s.clientWidth)-a),{width:a,height:n,x:r,y:l}}(t0(t));else if(t2(e))s=function(t,e){let i=eh(t,!0,"fixed"===e),s=i.top+t.clientTop,a=i.left+t.clientLeft,n=t3(t)?en(t):tI(1),r=t.clientWidth*n.x;return{width:r,height:t.clientHeight*n.y,x:a*n.x,y:s*n.y}}(e,i);else{let i=el(t);s={...e,x:e.x-i.x,y:e.y-i.y}}return tU(s)}function ep(t){return"static"===t8(t).position}function ef(t,e){return t3(t)&&"fixed"!==t8(t).position?e?e(t):t.offsetParent:null}function eg(t,e){let i=tJ(t);if(ed(t))return i;if(!t3(t)){let e=ee(t);for(;e&&!t6(e);){if(t2(e)&&!ep(e))return e;e=ee(e)}return i}let s=ef(t,e);for(;s&&["table","td","th"].includes(tZ(s))&&ep(s);)s=ef(s,e);return s&&t6(s)&&ep(s)&&!t7(s)?i:s||function(t){let e=ee(t);for(;t3(e)&&!t6(e);){if(t7(e))return e;e=ee(e)}return null}(t)||i}let eb=async function(t){let e=this.getOffsetParent||eg,i=this.getDimensions,s=await i(t.floating);return{reference:function(t,e,i){let s=t3(e),a=t0(e),n="fixed"===i,r=eh(t,!0,n,e),l={scrollLeft:0,scrollTop:0},h=tI(0);if(s||!s&&!n){if(("body"!==tZ(e)||t4(a))&&(l=et(e)),s){let t=eh(e,!0,n,e);h.x=t.x+e.clientLeft,h.y=t.y+e.clientTop}else a&&(h.x=eu(a))}return{x:r.left+l.scrollLeft-h.x,y:r.top+l.scrollTop-h.y,width:r.width,height:r.height}}(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},em={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:s,strategy:a}=t,n="fixed"===a,r=t0(s),l=!!e&&ed(e.floating);if(s===r||l&&n)return i;let h={scrollLeft:0,scrollTop:0},o=tI(1),d=tI(0),u=t3(s);if((u||!u&&!n)&&(("body"!==tZ(s)||t4(r))&&(h=et(s)),t3(s))){let t=eh(s);o=en(s),d.x=t.x+s.clientLeft,d.y=t.y+s.clientTop}return{width:i.width*o.x,height:i.height*o.y,x:i.x*o.x-h.scrollLeft*o.x+d.x,y:i.y*o.y-h.scrollTop*o.y+d.y}},getDocumentElement:t0,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:s,strategy:a}=t,n=[..."clippingAncestors"===i?ed(e)?[]:function(t,e){let i=e.get(t);if(i)return i;let s=ei(t,[],!1).filter(t=>t2(t)&&"body"!==tZ(t)),a=null,n="fixed"===t8(t).position,r=n?ee(t):t;for(;t2(r)&&!t6(r);){let e=t8(r),i=t7(r);i||"fixed"!==e.position||(a=null),(n?!i&&!a:!i&&"static"===e.position&&!!a&&["absolute","fixed"].includes(a.position)||t4(r)&&!i&&function t(e,i){let s=ee(e);return!(s===i||!t2(s)||t6(s))&&("fixed"===t8(s).position||t(s,i))}(t,r))?s=s.filter(t=>t!==r):a=e,r=ee(r)}return e.set(t,s),s}(e,this._c):[].concat(i),s],r=n[0],l=n.reduce((t,i)=>{let s=ec(e,i,a);return t.top=tL(s.top,t.top),t.right=tD(s.right,t.right),t.bottom=tD(s.bottom,t.bottom),t.left=tL(s.left,t.left),t},ec(e,r,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:eg,getElementRects:eb,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:e,height:i}=es(t);return{width:e,height:i}},getScale:en,isElement:t2,isRTL:function(t){return"rtl"===t8(t).direction}},ev=(t,e,i)=>{let s=new Map,a={platform:em,...i},n={...a.platform,_c:s};return tQ(t,e,{...a,platform:n})};function ey(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(t.toFixed(e))}function ew(t){var e,i;return null!==(i=null===(e=String(t).split(".")[1])||void 0===e?void 0:e.length)&&void 0!==i?i:0}function ek(t,e,i){return Math.max(t,Math.min(i,e))}function e$(t,e,i){if(t)return(0,d.l)(t,e,i)}function ex(t,e){return(0,d.X)(e.target)&&t.contains(e.target)}let eT=new Set;if(!E){let t=function(){for(let t of eT)try{t()}catch(t){}window.requestAnimationFrame(t)};t()}function eP(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}function eS(t,e){if(!(t.hasAttribute("aria-label")||t.hasAttribute("data-no-label"))){if(!(0,d.o)(e)){(0,d.Y)(t,"aria-label",e);return}E?i():(0,d.e)(i)}function i(){(0,d.Y)(t,"aria-label",e())}}function eE(t){let e=getComputedStyle(t);return"none"!==e.display&&parseInt(e.opacity)>0}function eA(t,e){var i;return i=()=>e(!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):eE(t))),eT.add(i),()=>eT.delete(i)}function eC(t,e,i){for(;e;){if(e===t)return!0;if(null==i?void 0:i(e))break;e=e.parentElement}return!1}function eq(t,e){(0,d.l)(t,"pointerup",t=>{0!==t.button||t.defaultPrevented||e(t)}),(0,d.l)(t,"keydown",t=>{(0,d.z)(t)&&e(t)})}function eO(t){return(0,d.Z)(t)&&(t.touches.length>1||t.changedTouches.length>1)}function eM(t){if(E)return t();let e=(0,d.S)(),i=window.requestAnimationFrame(()=>{(0,d.a)(t,e),i=-1});return()=>void window.cancelAnimationFrame(i)}function eD(t,e,i,s){let{offsetVarName:a,xOffset:n,yOffset:r,...l}=s;if(!t)return;let h=i.replace(" ","-").replace("-center","");if((0,d._)(t,"visibility",e?null:"hidden"),!e)return;let o=i.includes("top"),u=t=>i.includes("left")?"calc(-1 * ".concat(t,")"):t,c=t=>o?"calc(-1 * ".concat(t,")"):t;return function(t,e,i,s){let a;void 0===s&&(s={});let{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:h="function"==typeof IntersectionObserver,animationFrame:o=!1}=s,d=ea(t),u=n||r?[...d?ei(d):[],...ei(e)]:[];u.forEach(t=>{n&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)});let c=d&&h?function(t,e){let i,s=null,a=t0(t);function n(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return!function r(l,h){void 0===l&&(l=!1),void 0===h&&(h=1),n();let{left:o,top:d,width:u,height:c}=t.getBoundingClientRect();if(l||e(),!u||!c)return;let p=tF(d),f=tF(a.clientWidth-(o+u)),g={rootMargin:-p+"px "+-f+"px "+-tF(a.clientHeight-(d+c))+"px "+-tF(o)+"px",threshold:tL(0,tD(1,h))||1},b=!0;function m(t){let e=t[0].intersectionRatio;if(e!==h){if(!b)return r();e?r(!1,e):i=setTimeout(()=>{r(!1,1e-7)},1e3)}b=!1}try{s=new IntersectionObserver(m,{...g,root:a.ownerDocument})}catch(t){s=new IntersectionObserver(m,g)}s.observe(t)}(!0),n}(d,i):null,p=-1,f=null;l&&(f=new ResizeObserver(t=>{let[s]=t;s&&s.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var t;null==(t=f)||t.observe(e)})),i()}),d&&!o&&f.observe(d),f.observe(e));let g=o?eh(t):null;return o&&function e(){let s=eh(t);g&&(s.x!==g.x||s.y!==g.y||s.width!==g.width||s.height!==g.height)&&i(),g=s,a=requestAnimationFrame(e)}(),i(),()=>{var t;u.forEach(t=>{n&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)}),null==c||c(),null==(t=f)||t.disconnect(),f=null,o&&cancelAnimationFrame(a)}}(e,t,()=>{var s,d,p;ev(e,t,{placement:h,middleware:[...null!==(s=l.middleware)&&void 0!==s?s:[],{name:"flip",options:d={fallbackAxisSideDirection:"start",crossAxis:!1},async fn(t){var e,i,s,a,n;let{placement:r,middlewareData:l,rects:h,initialPlacement:o,platform:u,elements:c}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=tV(d,t);if(null!=(e=l.arrow)&&e.alignmentOffset)return{};let w=tN(r),k=tN(o)===o,$=await (null==u.isRTL?void 0:u.isRTL(c.floating)),x=g||(k||!v?[tB(o)]:function(t){let e=tB(t);return[tz(t),e,tz(e)]}(o));g||"none"===m||x.push(...function(t,e,i,s){let a=tH(t),n=function(t,e,i){let s=["left","right"],a=["right","left"];switch(t){case"top":case"bottom":if(i)return e?a:s;return e?s:a;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(tN(t),"start"===i,s);return a&&(n=n.map(t=>t+"-"+a),e&&(n=n.concat(n.map(tz)))),n}(o,v,m,$));let T=[o,...x],P=await tX(t,y),S=[],E=(null==(i=l.flip)?void 0:i.overflows)||[];if(p&&S.push(P[w]),f){let t=function(t,e,i){void 0===i&&(i=!1);let s=tH(t),a=tY(tK(t)),n=tG(a),r="x"===a?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return e.reference[n]>e.floating[n]&&(r=tB(r)),[r,tB(r)]}(r,h,$);S.push(P[t[0]],P[t[1]])}if(E=[...E,{placement:r,overflows:S}],!S.every(t=>t<=0)){let t=((null==(s=l.flip)?void 0:s.index)||0)+1,e=T[t];if(e)return{data:{index:t,overflows:E},reset:{placement:e}};let i=null==(a=E.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:a.placement;if(!i)switch(b){case"bestFit":{let t=null==(n=E.map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:n[0];t&&(i=t);break}case"initialPlacement":i=o}if(r!==i)return{reset:{placement:i}}}return{}}},(void 0===p&&(p={}),{name:"shift",options:p,async fn(t){let{x:e,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:n=!1,limiter:r={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...l}=tV(p,t),h={x:e,y:i},o=await tX(t,l),d=tK(tN(s)),u=tY(d),c=h[u],f=h[d];if(a){let t="y"===u?"top":"left",e="y"===u?"bottom":"right",i=c+o[t],s=c-o[e];c=tL(i,tD(c,s))}if(n){let t="y"===d?"top":"left",e="y"===d?"bottom":"right",i=f+o[t],s=f-o[e];f=tL(i,tD(f,s))}let g=r.fn({...t,[u]:c,[d]:f});return{...g,data:{x:g.x-e,y:g.y-i}}}})],...l}).then(e=>{var s;let{x:l,y:h,middlewareData:d}=e,p=!!(null===(s=d.flip)||void 0===s?void 0:s.index);o=i.includes(p?"bottom":"top"),t.setAttribute("data-placement",p?i.startsWith("top")?i.replace("top","bottom"):i.replace("bottom","top"):i),Object.assign(t.style,{top:"calc(".concat(h+"px"," + ").concat(c(r?r+"px":"var(--".concat(a,"-y-offset, 0px)")),")"),left:"calc(".concat(l+"px"," + ").concat(u(n?n+"px":"var(--".concat(a,"-x-offset, 0px)")),")")})})})}function eL(t){return t instanceof HTMLElement}class ej extends d.V{}class eF extends ej{get canIdle(){return this.Vd()}set canIdle(t){this.Vd.set(t)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:t}=this.$props;return this.Tf()||t()}set hideOnMouseLeave(t){this.Tf.set(t)}get showing(){return this.$state.controlsVisible()}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.Wd(),this.Hb||this.bd(!0,t,e)}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultDelay,e=arguments.length>1?arguments[1]:void 0;this.Wd(),this.Hb||this.bd(!1,t,e)}pause(t){this.Hb=!0,this.Wd(),this.bd(!0,0,t)}resume(t){this.Hb=!1,this.$state.paused()||this.bd(!1,this.defaultDelay,t)}onConnect(){(0,d.e)(this.Ib.bind(this))}Ib(){let{viewType:t}=this.$state;if(!this.Vd())return;if("audio"===t()){this.show();return}(0,d.e)(this.ai.bind(this)),(0,d.e)(this.gc.bind(this));let e=this.hc.bind(this),i=this.jb.bind(this);this.listen("can-play",t=>this.show(0,t)),this.listen("play",e),this.listen("pause",i),this.listen("auto-play-fail",i)}ai(){let{started:t,pointer:e,paused:i}=this.$state;if(!t()||"fine"!==e())return;let s=this.hideOnMouseLeave;s&&this.Ud()||(0,d.e)(()=>{i()||this.listen("pointermove",this.Uf.bind(this))}),s&&(this.listen("mouseenter",this.bi.bind(this)),this.listen("mouseleave",this.ci.bind(this)))}gc(){let{paused:t,started:e,autoPlayError:i}=this.$state;if(t()||i()&&!e())return;let s=this.Uf.bind(this);(0,d.e)(()=>{for(let t of["coarse"===this.$state.pointer()?"touchend":"pointerup","keydown"])this.listen(t,s,{passive:!1})})}hc(t){this.show(0,t),this.hide(void 0,t)}jb(t){this.show(0,t)}bi(t){this.Ud.set(!1),this.show(0,t),this.hide(void 0,t)}ci(t){this.Ud.set(!0),this.hide(0,t)}Wd(){window.clearTimeout(this.Td),this.Td=-1}Uf(t){if(!(t.MEDIA_GESTURE||this.Hb||eO(t))){if((0,d.y)(t)){if("Escape"===t.key){var e;null===(e=this.el)||void 0===e||e.focus(),this.fc=null}else this.fc&&(t.preventDefault(),requestAnimationFrame(()=>{var t;null===(t=this.fc)||void 0===t||t.focus(),this.fc=null}))}this.show(0,t),this.hide(this.defaultDelay,t)}}bd(t,e,i){if(0===e){this.F(t,i);return}this.Td=window.setTimeout(()=>{this.scope&&this.F(t&&!this.Hb,i)},e)}F(t,e){var i;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&(null===(i=this.el)||void 0===i?void 0:i.contains(document.activeElement))&&(this.fc=document.activeElement,requestAnimationFrame(()=>{var t;null===(t=this.el)||void 0===t||t.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}constructor(){super(...arguments),this.Td=-2,this.Hb=!1,this.Tf=(0,d.s)(!1),this.Ud=(0,d.s)(!1),this.fc=null,this.Vd=(0,d.s)(!0),this.defaultDelay=2e3}}var eI=function(t,e,i){var s=null,a=null,n=i&&i.leading,r=i&&i.trailing;null==n&&(n=!0),null==r&&(r=!n),!0==n&&(r=!1);var l=function(){s&&(clearTimeout(s),s=null)},h=function(){var i=n&&!s,l=this,h=arguments;if(a=function(){return t.apply(l,h)},s||(s=setTimeout(function(){if(s=null,r)return a()},e)),i)return i=!1,a()};return h.cancel=l,h.flush=function(){var t=a;l(),t&&t()},h};class eR{async getVolume(){return this.I.volume}async setVolume(t){this.I.volume=t,this.save()}async getMuted(){return this.I.muted}async setMuted(t){this.I.muted=t,this.save()}async getTime(){return this.I.time}async setTime(t,e){let i=t<0;this.I.time=i?null:t,i||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.I.lang}async setLang(t){this.I.lang=t,this.save()}async getCaptions(){return this.I.captions}async setCaptions(t){this.I.captions=t,this.save()}async getPlaybackRate(){return this.I.rate}async setPlaybackRate(t){this.I.rate=t,this.save()}async getAudioGain(){return this.I.audioGain}async setAudioGain(t){this.I.audioGain=t,this.save()}async getVideoQuality(){return this.I.quality}async setVideoQuality(t){this.I.quality=t,this.save()}onChange(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vds-player",s=i?localStorage.getItem(i):null,a=e?localStorage.getItem(e):null;this.playerId=i,this.mediaId=e,this.I={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...s?JSON.parse(s):{},time:a?+a:null}}save(){if(E||!this.playerId)return;let t=JSON.stringify({...this.I,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){var t;if(E||!this.mediaId)return;let e=(null!==(t=this.I.time)&&void 0!==t?t:0).toString();localStorage.setItem(this.mediaId,e)}constructor(){this.playerId="vds-player",this.mediaId=null,this.I={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=eI(this.saveTime.bind(this),1e3)}}class eW{canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.F.bind(this))}addTrack(t){this.wa.add(t),this.di(t)}removeTrack(t){var e,i;null===(i=t[tg.$])||void 0===i||null===(e=i.remove)||void 0===e||e.call(i),t[tg.$]=null,this.wa.delete(t)}changeTrack(t){let e=null==t?void 0:t[tg.$];e&&"showing"!==e.track.mode&&(e.track.mode="showing"),this.K=t}setDisplay(t){this.Vf=t,this.F()}detach(){for(let t of(this.m&&(this.m.textTracks.onchange=null),this.wa))this.removeTrack(t);this.wa.clear(),this.m=null,this.K=null}di(t){var e,i;if(!this.m)return;let s=null!==(i=t[e=tg.$])&&void 0!==i?i:t[e]=this.ei(t);eL(s)&&(this.m.append(s),s.track.mode=s.default?"showing":"disabled")}ei(t){let e=document.createElement("track"),i=t.default||"showing"===t.mode,s=t.src&&"vtt"===t.type;return e.id=t.id,e.src=s?t.src:"",e.label=t.label,e.kind=t.kind,e.default=i,t.language&&(e.srclang=t.language),i&&!s&&this.Wf(t,e.track),e}Wf(t,e){var i;if((!t.src||"vtt"!==t.type)&&(null===(i=e.cues)||void 0===i||!i.length))for(let i of t.cues)e.addCue(i)}F(t){for(let e of this.wa){let i=e[tg.$];if(!i)continue;if(!this.Vf){i.track.mode=i.managed?"hidden":"disabled";continue}let s="showing"===i.track.mode;s&&this.Wf(e,i.track),e.setMode(s?"showing":"disabled",t)}}constructor(){this.priority=0,this.Vf=!0,this.m=null,this.K=null,this.wa=new Set}}class eV{Yd(){let{nativeControls:t}=this.a.$state;this.Xf=t(),this.Ia()}add(t){this.cd.push(t),this.Ia()}remove(t){t.detach(),this.cd.splice(this.cd.indexOf(t),1),this.Ia()}Yf(t){requestAnimationFrame(()=>{if(this.m=t,t)for(let e of(this.xa=new eW,this.xa.attach(t),this.Xd))this.Zf(e);this.Ia()})}Zf(t){var e;tw(t)&&(null===(e=this.xa)||void 0===e||e.addTrack(t))}hi(t){var e;tw(t)&&(null===(e=this.xa)||void 0===e||e.removeTrack(t))}Zd(t){this.Zf(t.detail)}gi(t){this.hi(t.detail)}Ia(){var t,e,i,s,a,n,r;let l=this.Xd.selected;if(this.m&&(this.Xf||(null==l?void 0:l[tg.Nf]))){null===(i=this.kb)||void 0===i||i.changeTrack(null),null===(s=this.xa)||void 0===s||s.setDisplay(!0),null===(a=this.xa)||void 0===a||a.changeTrack(l);return}if(null===(t=this.xa)||void 0===t||t.setDisplay(!1),null===(e=this.xa)||void 0===e||e.changeTrack(null),!l){null===(n=this.kb)||void 0===n||n.changeTrack(null);return}let h=this.cd.sort((t,e)=>t.priority-e.priority).find(t=>t.canRender(l,this.m));this.kb!==h&&(null===(r=this.kb)||void 0===r||r.detach(),null==h||h.attach(this.m),this.kb=null!=h?h:null),null==h||h.changeTrack(l)}fi(){var t,e;null===(t=this.xa)||void 0===t||t.detach(),this.xa=null,null===(e=this.kb)||void 0===e||e.detach(),this.kb=null}constructor(t){this.a=t,this.m=null,this.cd=[],this.Xf=!1,this.xa=null,this.kb=null;let e=t.textTracks;this.Xd=e,(0,d.e)(this.Yd.bind(this)),(0,d.v)(this.fi.bind(this)),(0,d.l)(e,"add",this.Zd.bind(this)),(0,d.l)(e,"remove",this.gi.bind(this)),(0,d.l)(e,"mode-change",this.Ia.bind(this))}}var eN=function(t,e,i){var s=null,a=null,n=function(){s&&(clearTimeout(s),a=null,s=null)},r=function(){if(!e)return t.apply(this,arguments);var r=this,l=arguments,h=i&&!s;if(n(),a=function(){t.apply(r,l)},s=setTimeout(function(){if(s=null,!h){var t=a;return a=null,t()}},e),h)return a()};return r.cancel=n,r.flush=function(){var t=a;n(),t&&t()},r};class eH extends v{get selected(){let t=this.B.find(t=>"showing"===t.mode&&tw(t));return null!=t?t:null}get selectedIndex(){let t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.nb}set preferredLang(t){this.nb=t,this.ag(t)}add(t,e){let i=t instanceof tv?t:new tv(t),s="captions"===t.kind||"subtitles"===t.kind?"captions":t.kind;return this.lb[s]&&t.default&&delete t.default,i.addEventListener("mode-change",this.bg),this[m.ea](i,e),i[tg.Eb]=this[tg.Eb],this._&&i[tg._](),t.default&&(this.lb[s]=i),this.cg(),this}remove(t,e){if(this._d=t,this.B.includes(t))return t===this.lb[t.kind]&&delete this.lb[t.kind],t.mode="disabled",t[tg.ib]=null,t.removeEventListener("mode-change",this.bg),this[m.dc](t,e),this._d=null,this}clear(t){for(let e of[...this.B])this.remove(e,t);return this}getByKind(t){let e=Array.isArray(t)?t:[t];return this.B.filter(t=>e.includes(t.kind))}[tg._](){if(!this._){for(let t of this.B)t[tg._]();this._=!0,this.cg()}}ii(t){let e=t.detail;if(this.mb&&tw(e)&&e!==this._d&&this.dg(e),"showing"===e.mode){let t=tw(e)?["captions","subtitles"]:[e.kind];for(let i of this.B)"showing"===i.mode&&i!=e&&t.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new d.D("mode-change",{detail:t.detail,trigger:t}))}dg(t){var e,i;"disabled"!==t.mode&&this.ag(t.language),null===(i=this.mb)||void 0===i||null===(e=i.setCaptions)||void 0===e||e.call(i,"showing"===t.mode)}ag(t){var e,i;null===(i=this.mb)||void 0===i||null===(e=i.setLang)||void 0===e||e.call(i,this.nb=t)}setStorage(t){this.mb=t}constructor(){super(),this._=!1,this.lb={},this.mb=null,this.nb=null,this.cg=eN(async()=>{var t;if(!this._)return;!this.nb&&this.mb&&(this.nb=await this.mb.getLang());let e=await (null===(t=this.mb)||void 0===t?void 0:t.getCaptions());for(let t of[["captions","subtitles"],"chapters","descriptions","metadata"]){let i=this.getByKind(t);if(i.find(t=>"showing"===t.mode))continue;let s=this.nb?i.find(t=>t.language===this.nb):null,a=(0,d.g)(t)?this.lb[t.find(t=>this.lb[t])||""]:this.lb[t],n=null!=s?s:a,r=n&&tw(n);n&&(!r||!1!==e)&&(n.mode="showing",r&&this.dg(n))}},300),this._d=null,this.bg=this.ii.bind(this)}}let eY=Symbol(0);class eG extends v{get selected(){var t;return null!==(t=this.B.find(t=>t.selected))&&void 0!==t?t:null}get selectedIndex(){return this.B.findIndex(t=>t.selected)}[m.If](t,e){this[m.fa](t,!1,e)}[m.ea](t,e){t[eY]=!1,Object.defineProperty(t,"selected",{get(){return this[eY]},set:e=>{var i;this.readonly||(null===(i=this[m.Jf])||void 0===i||i.call(this),this[m.fa](t,e))}}),super[m.ea](t,e)}[m.fa](t,e,i){if(e===(null==t?void 0:t[eY]))return;let s=this.selected;t&&(t[eY]=e),(e?s!==t:s===t)&&(s&&(s[eY]=!1),this.dispatchEvent(new d.D("change",{detail:{prev:s,current:this.selected},trigger:i})))}}class eK extends eG{}let ez={Xa:Symbol(0),Ja:Symbol(0)};class eB extends eG{get auto(){return this.dd||this.readonly}[m.Jf](){this[ez.Xa](!1)}[m.Hf](t){this[ez.Ja]=void 0,this[ez.Xa](!1,t)}autoSelect(t){var e;this.readonly||this.dd||!this[ez.Ja]||(null===(e=this[ez.Ja])||void 0===e||e.call(this,t),this[ez.Xa](!0,t))}getBySrc(t){return this.B.find(e=>e.src===t)}[ez.Xa](t,e){this.dd!==t&&(this.dd=t,this.dispatchEvent(new d.D("auto-change",{detail:t,trigger:e})))}constructor(){super(...arguments),this.dd=!1,this.switch="current"}}function eU(t,e){return[...t].sort(e?eQ:e_)}function e_(t,e){var i,s;return t.height===e.height?(null!==(i=t.bitrate)&&void 0!==i?i:0)-(null!==(s=e.bitrate)&&void 0!==s?s:0):t.height-e.height}function eQ(t,e){var i,s;return e.height===t.height?(null!==(i=e.bitrate)&&void 0!==i?i:0)-(null!==(s=t.bitrate)&&void 0!==s?s:0):e.height-t.height}let eX=new Set(["Shift","Alt","Meta","Control"]),eZ='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class eJ extends ej{onConnect(){(0,d.e)(this.ji.bind(this))}ji(){let{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;let i="player"===e()?this.el:document,s=(0,d.s)(!1);i===this.el?(this.listen("focusin",()=>s.set(!0)),this.listen("focusout",t=>{this.el.contains(t.target)||s.set(!1)})):((0,d.p)(s)||s.set(document.querySelector("[data-media-player]")===this.el),(0,d.l)(document,"focusin",t=>{let e=t.composedPath().find(t=>t instanceof Element&&"media-player"===t.localName);void 0!==e&&s.set(this.el===e)})),(0,d.e)(()=>{s()&&((0,d.l)(i,"keyup",this.ic.bind(this)),(0,d.l)(i,"keydown",this.jc.bind(this)),(0,d.l)(i,"keydown",this.ki.bind(this),{capture:!0}))})}ic(t){let e=document.activeElement;if(!t.key||!this.$state.canSeek()||(null==e?void 0:e.matches(eZ)))return;let{method:i,value:s}=this.$d(t);if(!(0,d.i)(s)&&!(0,d.g)(s)){var a,n;null==s||null===(a=s.onKeyUp)||void 0===a||a.call(s,{event:t,player:this.a.player,remote:this.a.remote}),null==s||null===(n=s.callback)||void 0===n||n.call(s,t,this.a.remote);return}if((null==i?void 0:i.startsWith("seek"))&&(t.preventDefault(),t.stopPropagation(),this.Jb?(this.eg(t,"seekForward"===i),this.Jb=null):(this.a.remote.seek(this.ed,t),this.ed=void 0)),null==i?void 0:i.startsWith("volume")){let e=this.el.querySelector("[data-media-volume-slider]");null==e||e.dispatchEvent(new KeyboardEvent("keyup",{key:"volumeUp"===i?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}jc(t){var e,i,s,a;if(!t.key||eX.has(t.key))return;let n=document.activeElement;if((null==n?void 0:n.matches(eZ))||(0,d.z)(t)&&(null==n?void 0:n.matches('button, [role="button"]')))return;let{method:r,value:l}=this.$d(t),h=!t.metaKey&&/^[0-9]$/.test(t.key);if(!(0,d.i)(l)&&!(0,d.g)(l)&&!h){null==l||null===(e=l.onKeyDown)||void 0===e||e.call(l,{event:t,player:this.a.player,remote:this.a.remote}),null==l||null===(i=l.callback)||void 0===i||i.call(l,t,this.a.remote);return}if(!r&&h){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(r){switch(t.preventDefault(),t.stopPropagation(),r){case"seekForward":case"seekBackward":this.Ka(t,r,"seekForward"===r);break;case"volumeUp":case"volumeDown":let e=this.el.querySelector("[data-media-volume-slider]");if(e)e.dispatchEvent(new KeyboardEvent("keydown",{key:"volumeUp"===r?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{let e=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+("volumeUp"===r?+e:-e),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":let i=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,i+("speedUp"===r?.25:-.25))),t);break;default:null===(s=(a=this.a.remote)[r])||void 0===s||s.call(a,t)}this.$state.lastKeyboardAction.set({action:r,event:t})}}ki(t){var e,i;i=e=t.target,(!E&&i instanceof HTMLAudioElement||!E&&e instanceof HTMLVideoElement)&&this.$d(t).method&&t.preventDefault()}$d(t){let e={...this.$props.keyShortcuts(),...this.a.ariaKeys},i=Object.keys(e).find(i=>{var s;let a=e[i],n=(0,d.g)(a)?a.join(" "):(0,d.i)(a)?a:null==a?void 0:a.keys;return null===(s=(0,d.g)(n)?n:null==n?void 0:n.split(" "))||void 0===s?void 0:s.some(e=>e.replace(/Shift\+(\d)/g,(t,e)=>e0[e-1]).replace(/Control/g,"Ctrl").split("+").every(e=>eX.has(e)?t[e.toLowerCase()+"Key"]:t.key===e.replace("Space"," ")))});return{method:i,value:i?e[i]:null}}li(t,e){var i;let s=t.shiftKey?10:5;return this.ed=Math.max(0,Math.min((null!==(i=this.ed)&&void 0!==i?i:this.$state.currentTime())+("seekForward"===e?+s:-s),this.$state.duration()))}eg(t,e){var i;null===(i=this.Jb)||void 0===i||i.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Ka(t,e,i){this.$state.canSeek()&&(this.Jb||(this.Jb=this.el.querySelector("[data-media-time-slider]")),this.Jb?this.eg(t,i):this.a.remote.seeking(this.li(t,e),t))}constructor(t){super(),this.a=t,this.Jb=null}}let e0=["!","@","#","$","%","^","&","*","(",")"];class e1 extends d.V{onAttach(t){let{$props:e,ariaKeys:i}=tO(),s=t.getAttribute("aria-keyshortcuts");if(s){i[this.ae]=s,E||(0,d.v)(()=>{delete i[this.ae]});return}let a=e.keyShortcuts()[this.ae];if(a){let e=(0,d.g)(a)?a.join(" "):(0,d.i)(a)?a:null==a?void 0:a.keys;t.setAttribute("aria-keyshortcuts",(0,d.g)(e)?e.join(" "):e)}}constructor(t){super(),this.ae=t}}let e2={type:"color"},e3={type:"radio",values:{"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"}},e5={type:"slider",min:0,max:400,step:25,upIcon:null,downIcon:null},e4={type:"slider",min:0,max:100,step:5,upIcon:null,downIcon:null},e7={type:"radio",values:["None","Drop Shadow","Raised","Depressed","Outline"]},e9={fontFamily:"pro-sans",fontSize:"100%",textColor:"#ffffff",textOpacity:"100%",textShadow:"none",textBg:"#000000",textBgOpacity:"100%",displayBg:"#000000",displayBgOpacity:"0%"},e6=Object.keys(e9).reduce((t,e)=>({...t,[e]:(0,d.s)(e9[e])}),{});if(!E)for(let t of Object.keys(e6)){let e=localStorage.getItem("vds-player:".concat((0,d.m)(t)));(0,d.i)(e)&&e6[t].set(e)}function e8(){for(let t of Object.keys(e6)){let e=e9[t];e6[t].set(e)}}class it{canPlay(t){return!!Q(t)&&(E||!(0,d.i)(t.src)||"?"===t.type||L(this.target,t.type))}mediaType(){return"audio"}async load(t){if(E)throw Error("[vidstack] can not load audio provider server-side");return new(await i.e(2295).then(i.bind(i,2295))).AudioProvider(this.target,t)}constructor(){this.name="audio"}}class ie{canPlay(t){return!!X(t)&&(E||!(0,d.i)(t.src)||"?"===t.type||j(this.target,t.type))}mediaType(){return"video"}async load(t){if(E)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return i$})).VideoProvider(this.target,t)}constructor(){this.name="video"}}let ii=null,is=[],ia=[];function ir(){return null!=ii?ii:ii=new AudioContext}function il(){ii&&0===is.length&&0===ia.length&&ii.close().then(()=>{ii=null})}class ih{get currentGain(){var t,e,i;return null!==(i=null===(e=this.ya)||void 0===e?void 0:null===(t=e.gain)||void 0===t?void 0:t.value)&&void 0!==i?i:null}get supported(){return!0}setGain(t){let e=this.currentGain;if(t!==this.currentGain){if(1===t&&1!==e){this.removeGain();return}!this.ya&&(this.ya=function(){let t=ir(),e=t.createGain();return e.connect(t.destination),is.push(e),e}(),this.La&&this.La.connect(this.ya)),this.La||(this.La=function(t,e){let i=ir().createMediaElementSource(t);return e&&i.connect(e),ia.push(i),i}(this.a,this.ya)),this.ya.gain.value=t,this.F(t)}}removeGain(){this.ya&&(this.La&&this.La.connect(ir().destination),this.fg(),this.F(null))}destroy(){this.mi(),this.fg()}mi(){if(this.La)try{!function(t){let e=ia.indexOf(t);-1!==e&&(ia.splice(e,1),t.disconnect(),il())}(this.La)}catch(t){}finally{this.La=null}}fg(){if(this.ya)try{!function(t){let e=is.indexOf(t);-1!==e&&(is.splice(e,1),t.disconnect(),il())}(this.ya)}catch(t){}finally{this.ya=null}}constructor(t,e){this.a=t,this.F=e,this.ya=null,this.La=null}}class io{Ya(){(0,d.n)(this.za)&&this.gg()}aa(){(0,d.j)(this.za)&&window.cancelAnimationFrame(this.za),this.za=void 0}gg(){this.za=window.requestAnimationFrame(()=>{(0,d.n)(this.za)||(this.Ma(),this.gg())})}constructor(t){this.Ma=t}}class id{get a(){return this.p.media}get c(){return this.b.delegate.c}de(){this.be=!1,this.ce=!1,this.ga.aa(),this.Za.empty()}lc(){let t=this.a.currentTime;this.b.$state.realCurrentTime()!==t&&this.Kb(t)}ni(){this.G("loadstart",this.Na),this.G("abort",this.hg),this.G("emptied",this.pi),this.G("error",this.R),this.G("volumechange",this.Oa)}qi(){this.be||(this.Za.add(this.G("loadeddata",this.ri),this.G("loadedmetadata",this.si),this.G("canplay",this.fd),this.G("canplaythrough",this.ti),this.G("durationchange",this.ee),this.G("play",this.hc),this.G("progress",this.ob),this.G("stalled",this.ui),this.G("suspend",this.vi),this.G("ratechange",this.wi)),this.be=!0)}xi(){this.ce||(this.Za.add(this.G("pause",this.jb),this.G("playing",this.yi),this.G("seeked",this.pb),this.G("seeking",this.zi),this.G("ended",this.mc),this.G("waiting",this.fe)),this.ce=!0)}G(t,e){return(0,d.l)(this.a,t,e.bind(this))}Bi(t){}Kb(t,e){let i={currentTime:Math.min(t,this.b.$state.seekableEnd()),played:this.a.played};this.c("time-update",i,e)}Na(t){if(3===this.a.networkState){this.hg(t);return}this.qi(),this.c("load-start",void 0,t)}hg(t){this.c("abort",void 0,t)}pi(){this.c("emptied",void 0,event)}ri(t){this.c("loaded-data",void 0,t)}si(t){this.xi(),this.c("loaded-metadata",void 0,t),(C||M&&Z(this.b.$state.source()))&&this.b.delegate.Ha(this.ge(),t)}ge(){return{provider:(0,d.p)(this.b.$provider),duration:this.a.duration,buffered:this.a.buffered,seekable:this.a.seekable}}hc(t){this.b.$state.canPlay&&this.c("play",void 0,t)}jb(t){(1!==this.a.readyState||this.kc)&&(this.kc=!1,this.ga.aa(),this.c("pause",void 0,t))}fd(t){this.b.delegate.Ha(this.ge(),t)}ti(t){this.b.$state.started()||this.c("can-play-through",this.ge(),t)}yi(t){this.a.paused||(this.kc=!1,this.c("playing",void 0,t),this.ga.Ya())}ui(t){this.c("stalled",void 0,t),this.a.readyState<3&&(this.kc=!0,this.c("waiting",void 0,t))}fe(t){this.a.readyState<3&&(this.kc=!0,this.c("waiting",void 0,t))}mc(t){this.ga.aa(),this.Kb(this.a.duration,t),this.c("end",void 0,t),this.b.$state.loop()&&(0,d.a0)(this.a.controls)&&(this.a.controls=!1)}oi(){this.b.$state.paused()&&(0,d.l)(this.a,"timeupdate",this.nc.bind(this))}nc(t){this.Kb(this.a.currentTime,t)}ee(t){this.b.$state.ended()&&this.Kb(this.a.duration,t),this.c("duration-change",this.a.duration,t)}Oa(t){let e={volume:this.a.volume,muted:this.a.muted};this.c("volume-change",e,t)}pb(t){this.Kb(this.a.currentTime,t),this.c("seeked",this.a.currentTime,t),Math.trunc(this.a.currentTime)===Math.trunc(this.a.duration)&&ew(this.a.duration)>ew(this.a.currentTime)&&(this.Kb(this.a.duration,t),this.a.ended||this.b.player.dispatch(new d.D("media-play-request",{trigger:t})))}zi(t){this.c("seeking",this.a.currentTime,t)}ob(t){let e={buffered:this.a.buffered,seekable:this.a.seekable};this.c("progress",e,t)}vi(t){this.c("suspend",void 0,t)}wi(t){this.c("rate-change",this.a.playbackRate,t)}R(t){let e=this.a.error;if(!e)return;let i={message:e.message,code:e.code,mediaError:e};this.c("error",i,t)}constructor(t,e){this.p=t,this.b=e,this.Za=(0,d.$)(),this.kc=!1,this.be=!1,this.ce=!1,this.ga=new io(this.lc.bind(this)),this.ig=void 0,this.Ai=void 0,this.ni(),(0,d.e)(this.oi.bind(this)),(0,d.v)(this.de.bind(this))}}class iu{get oc(){return this.p.media.audioTracks}Ci(t){let e=t.track;if(""===e.label)return;let i={id:e.id.toString()||"native-audio-".concat(this.b.audioTracks.length),label:e.label,language:e.language,kind:e.kind,selected:!1};this.b.audioTracks[m.ea](i,t),e.enabled&&(i.selected=!0)}Di(t){let e=this.b.audioTracks.getById(t.track.id);e&&this.b.audioTracks[m.dc](e,t)}Ei(t){let e=this.jg();if(!e)return;let i=this.b.audioTracks.getById(e.id);i&&this.b.audioTracks[m.fa](i,!0,t)}jg(){return Array.from(this.oc).find(t=>t.enabled)}Fi(t){let{current:e}=t.detail;if(!e)return;let i=this.oc.getTrackById(e.id);if(i){let t=this.jg();t&&(t.enabled=!1),i.enabled=!0}}constructor(t,e){this.p=t,this.b=e,this.oc.onaddtrack=this.Ci.bind(this),this.oc.onremovetrack=this.Di.bind(this),this.oc.onchange=this.Ei.bind(this),(0,d.l)(this.b.audioTracks,"change",this.Fi.bind(this))}}class ic{setup(){new id(this,this.b),"audioTracks"in this.media&&new iu(this,this.b),(0,d.v)(()=>{for(let t of(this.audioGain.destroy(),this.a.srcObject=null,this.a.removeAttribute("src"),this.a.querySelectorAll("source")))t.remove();this.a.load()})}get type(){return""}get media(){return this.a}get currentSrc(){return this.L}setPlaybackRate(t){this.a.playbackRate=t}async play(){return this.a.play()}async pause(){return this.a.pause()}setMuted(t){this.a.muted=t}setVolume(t){this.a.volume=t}setCurrentTime(t){this.a.currentTime=t}setPlaysInline(t){(0,d.Y)(this.a,"playsinline",t)}async loadSource(t,e){let{src:i,type:s}=t;(this.a.preload=e||"",!E&&void 0!==window.MediaStream&&i instanceof window.MediaStream)?(this.pc(),this.a.srcObject=i):(this.a.srcObject=null,(0,d.i)(i)?"?"!==s?this.he({src:i,type:s}):(this.pc(),this.a.src=this.kg(i)):(this.pc(),this.a.src=window.URL.createObjectURL(i))),this.a.load(),this.L={src:i,type:s}}he(t,e){let i=this.a.querySelector("source[data-vds]"),s=null!=i?i:document.createElement("source");(0,d.Y)(s,"src",this.kg(t.src)),(0,d.Y)(s,"type","?"!==t.type?t.type:e),(0,d.Y)(s,"data-vds",""),i||this.a.append(s)}pc(){var t;null===(t=this.a.querySelector("source[data-vds]"))||void 0===t||t.remove()}kg(t){let{clipStartTime:e,clipEndTime:i}=this.b.$state,s=e(),a=i();return s>0&&a>0?"".concat(t,"#t=").concat(s,",").concat(a):s>0?"".concat(t,"#t=").concat(s):a>0?"".concat(t,"#t=0,").concat(a):t}constructor(t,e){this.a=t,this.b=e,this.scope=(0,d.d)(),this.L=null,this.audioGain=new ih(this.a,t=>{this.b.delegate.c("audio-gain-change",t)})}}class ip{get supported(){return this.qb()}ie(){var t;!E&&(null===(t=this.a)||void 0===t?void 0:t.remote)&&this.lg&&(this.a.remote.watchAvailability(t=>{this.qb.set(t)}).catch(()=>{this.qb.set(!1)}),(0,d.e)(this.Gi.bind(this)))}Gi(){if(!this.qb())return;let t=this.je.bind(this);for(let e of(t(),(0,d.l)(this.a,"playing",t),["connecting","connect","disconnect"]))(0,d.l)(this.a.remote,e,t)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.ma&&this.a.webkitShowPlaybackTargetPicker?this.a.webkitShowPlaybackTargetPicker():this.a.remote.prompt()}je(t){let e=this.a.remote.state;if(e===this.Aa)return;let i={type:this.ma,state:e};this.b.delegate.c("remote-playback-change",i,t),this.Aa=e}constructor(t,e){this.a=t,this.b=e,this.qb=(0,d.s)(!1),this.ie()}}class ig extends ip{get lg(){return"WebKitPlaybackTargetAvailabilityEvent"in window}constructor(){super(...arguments),this.ma="airplay"}}class ib{Zd(t){var e;let i=t.track;if(!i||Array.from(this.m.children).find(t=>t.track===i))return;let s=new tv({id:i.id,kind:i.kind,label:null!==(e=i.label)&&void 0!==e?e:"",language:i.language,type:"vtt"});s[tg.$]={track:i},s[tg.na]=2,s[tg.Nf]=!0;let a=0,n=t=>{if(i.cues)for(let e=a;e<i.cues.length;e++)s.addCue(i.cues[e],t),a++};n(t),i.oncuechange=n,this.b.textTracks.add(s,t),s.setMode(i.mode,t)}de(){for(let e of(this.m.textTracks.onaddtrack=null,this.b.textTracks)){var t;let i=null===(t=e[tg.$])||void 0===t?void 0:t.track;(null==i?void 0:i.oncuechange)&&(i.oncuechange=null)}}constructor(t,e){this.m=t,this.b=e,t.textTracks.onaddtrack=this.Zd.bind(this),(0,d.v)(this.de.bind(this))}}class im{get active(){return document.pictureInPictureElement===this.m}get supported(){return I(this.m)}async enter(){return this.m.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}Hi(t){this.F(!0,t)}Ii(t){this.F(!1,t)}constructor(t,e){this.m=t,this.a=e,this.F=(t,e)=>{this.a.delegate.c("picture-in-picture-change",t,e)},(0,d.l)(this.m,"enterpictureinpicture",this.Hi.bind(this)),(0,d.l)(this.m,"leavepictureinpicture",this.Ii.bind(this))}}class iv{get qb(){return R(this.m)}async gd(t){this.V!==t&&this.m.webkitSetPresentationMode(t)}ib(t){var e;let i=this.V;this.V=this.m.webkitPresentationMode,null===(e=this.a.player)||void 0===e||e.dispatch(new d.D("video-presentation-change",{detail:this.V,trigger:t})),["fullscreen","picture-in-picture"].forEach(e=>{(this.V===e||i===e)&&this.a.delegate.c("".concat(e,"-change"),this.V===e,t)})}constructor(t,e){this.m=t,this.a=e,this.V="inline",(0,d.l)(this.m,"webkitpresentationmodechanged",this.ib.bind(this))}}class iy{get active(){return"fullscreen"===this.Pa.V}get supported(){return this.Pa.qb}async enter(){this.Pa.gd("fullscreen")}async exit(){this.Pa.gd("inline")}constructor(t){this.Pa=t}}class iw{get active(){return"picture-in-picture"===this.Pa.V}get supported(){return this.Pa.qb}async enter(){this.Pa.gd("picture-in-picture")}async exit(){this.Pa.gd("inline")}constructor(t){this.Pa=t}}class ik extends ic{get type(){return"video"}setup(){super.setup(),F(this.video)&&new ib(this.video,this.b),this.b.textRenderers.Yf(this.video),(0,d.v)(()=>{this.b.textRenderers.Yf(null)}),"video"===this.type&&this.b.delegate.c("provider-setup",this)}get video(){return this.a}constructor(t,e){super(t,e),this.$$PROVIDER_TYPE="VIDEO",(0,d.a)(()=>{if(this.airPlay=new ig(t,e),R(t)){let i=new iv(t,e);this.fullscreen=new iy(i),this.pictureInPicture=new iw(i)}else I(t)&&(this.pictureInPicture=new im(t,e))},this.scope)}}var i$=Object.freeze({__proto__:null,VideoProvider:ik});function ix(t){try{let e=new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t);return null!=e?e:null}catch(t){return null}}let iT=t=>"dash-".concat((0,d.m)(t));class iP{get instance(){return this.d}setup(t){this.d=t().create();let e=this.Ji.bind(this);for(let i of Object.values(t.events))this.d.on(i,e);for(let e of(this.d.on(t.events.ERROR,this.R.bind(this)),this.tb))e(this.d);this.b.player.dispatch("dash-instance",{detail:this.d}),this.d.initialize(this.m,void 0,!1),this.d.updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.sb}),this.d.on(t.events.FRAGMENT_LOADING_STARTED,this.Ki.bind(this)),this.d.on(t.events.FRAGMENT_LOADING_COMPLETED,this.Li.bind(this)),this.d.on(t.events.MANIFEST_LOADED,this.Mi.bind(this)),this.d.on(t.events.QUALITY_CHANGE_RENDERED,this._a.bind(this)),this.d.on(t.events.TEXT_TRACKS_ADDED,this.Ni.bind(this)),this.d.on(t.events.TRACK_CHANGE_RENDERED,this.qc.bind(this)),this.b.qualities[ez.Ja]=this.ke.bind(this),(0,d.l)(this.b.qualities,"change",this.le.bind(this)),(0,d.l)(this.b.audioTracks,"change",this.me.bind(this)),this.rb=(0,d.e)(this.ne.bind(this))}ba(t){return new d.D(iT(t.type),{detail:t})}ne(){if(!this.b.$state.live())return;let t=new io(this.oe.bind(this));return t.Ya(),t.aa.bind(t)}oe(){if(!this.d)return;let t=this.d.duration()-this.d.time();this.b.$state.liveSyncPosition.set(isNaN(t)?1/0:t)}Ji(t){var e;null===(e=this.b.player)||void 0===e||e.dispatch(this.ba(t))}Oi(t){var e,i;let s=null===(e=this.Lb)||void 0===e?void 0:e[tg.$],a=(null==s?void 0:s.track).cues;if(!s||!a)return;let n=this.Lb.id,r=null!==(i=this.pe[n])&&void 0!==i?i:0,l=this.ba(t);for(let t=r;t<a.length;t++){let e=a[t];e.positionAlign||(e.positionAlign="auto"),this.Lb.addCue(e,l)}this.pe[n]=a.length}Ni(t){if(!this.d)return;let e=t.tracks,i=[...this.m.textTracks].filter(t=>"manualMode"in t),s=this.ba(t);for(let t=0;t<i.length;t++){var a,n,r,l,h,o;let d=e[t],u=i[t],c=new tv({id:"dash-".concat(d.kind,"-").concat(t),label:null!==(h=null!==(l=null!==(r=null!==(n=null==d?void 0:d.label)&&void 0!==n?n:null===(a=d.labels.find(t=>t.text))||void 0===a?void 0:a.text)&&void 0!==r?r:(null==d?void 0:d.lang)&&ix(d.lang))&&void 0!==l?l:null==d?void 0:d.lang)&&void 0!==h?h:void 0,language:null!==(o=d.lang)&&void 0!==o?o:void 0,kind:d.kind,default:d.defaultTrack});c[tg.$]={managed:!0,track:u},c[tg.na]=2,c[tg.ib]=()=>{this.d&&("showing"===c.mode?(this.d.setTextTrack(t),this.Lb=c):(this.d.setTextTrack(-1),this.Lb=null))},this.b.textTracks.add(c,s)}}qc(t){let{mediaType:e,newMediaInfo:i}=t;if("audio"===e){let e=this.b.audioTracks.getById("dash-audio-".concat(i.index));if(e){let i=this.ba(t);this.b.audioTracks[m.fa](e,!0,i)}}}_a(t){if("video"!==t.mediaType)return;let e=this.b.qualities[t.newQuality];if(e){let i=this.ba(t);this.b.qualities[m.fa](e,!0,i)}}Mi(t){if(this.b.$state.canPlay()||!this.d)return;let{type:e,mediaPresentationDuration:i}=t.data,s=this.ba(t);this.b.delegate.c("stream-type-change","static"!==e?"live":"on-demand",s),this.b.delegate.c("duration-change",i,s),this.b.qualities[ez.Xa](!0,s);let a=this.d.getVideoElement(),n=this.d.getTracksForTypeFromManifest("video",t.data),r=[...new Set(n.map(t=>t.mimeType))].find(t=>t&&j(a,t)),l=n.filter(t=>r===t.mimeType)[0],h=this.d.getTracksForTypeFromManifest("audio",t.data),o=[...new Set(h.map(t=>t.mimeType))].find(t=>t&&L(a,t));if(h=h.filter(t=>o===t.mimeType),l.bitrateList.forEach((t,e)=>{var i,a,n,r,h;let o={id:null!==(a=null===(i=t.id)||void 0===i?void 0:i.toString())&&void 0!==a?a:"dash-bitrate-".concat(e),width:null!==(n=t.width)&&void 0!==n?n:0,height:null!==(r=t.height)&&void 0!==r?r:0,bitrate:null!==(h=t.bandwidth)&&void 0!==h?h:0,codec:l.codec,index:e};this.b.qualities[m.ea](o,s)}),(0,d.j)(l.index)){let t=this.b.qualities[l.index];t&&this.b.qualities[m.fa](t,!0,s)}h.forEach((t,e)=>{var i,a,n,r;let l=t.labels.find(t=>navigator.languages.some(e=>t.lang&&e.toLowerCase().startsWith(t.lang.toLowerCase())))||t.labels[0],h={id:"dash-audio-".concat(null==t?void 0:t.index),label:null!==(n=null!==(a=null!==(i=null==l?void 0:l.text)&&void 0!==i?i:t.lang&&ix(t.lang))&&void 0!==a?a:t.lang)&&void 0!==n?n:"",language:null!==(r=t.lang)&&void 0!==r?r:"",kind:"main",mimeType:t.mimeType,codec:t.codec,index:e};this.b.audioTracks[m.ea](h,s)}),a.dispatchEvent(new d.D("canplay",{trigger:s}))}R(t){let{type:e,error:i}=t;27===i.code?this.qe(i):this.rc(i)}Ki(){this.oa>=0&&this.$a()}Li(t){"text"===t.mediaType&&requestAnimationFrame(this.Oi.bind(this,t))}qe(t){var e;this.$a(),null===(e=this.d)||void 0===e||e.play(),this.oa=window.setTimeout(()=>{this.oa=-1,this.rc(t)},5e3)}$a(){clearTimeout(this.oa),this.oa=-1}rc(t){var e;this.b.delegate.c("error",{message:null!==(e=t.message)&&void 0!==e?e:"",code:1,error:t})}ke(){var t;this.mg("video",!0);let{qualities:e}=this.b;null===(t=this.d)||void 0===t||t.setQualityFor("video",e.selectedIndex,!0)}mg(t,e){var i;null===(i=this.d)||void 0===i||i.updateSettings({streaming:{abr:{autoSwitchBitrate:{[t]:e}}}})}le(){let{qualities:t}=this.b;this.d&&!t.auto&&t.selected&&(this.mg("video",!1),this.d.setQualityFor("video",t.selectedIndex,"current"===t.switch),O&&(this.m.currentTime=this.m.currentTime))}me(){if(!this.d)return;let{audioTracks:t}=this.b,e=this.d.getTracksFor("audio").find(e=>t.selected&&t.selected.id==="dash-audio-".concat(e.index));e&&this.d.setCurrentTrack(e)}A(){this.$a(),this.Lb=null,this.pe={}}loadSource(t){var e;this.A(),(0,d.i)(t.src)&&(null===(e=this.d)||void 0===e||e.attachSource(t.src))}destroy(){var t,e;this.A(),null===(t=this.d)||void 0===t||t.destroy(),this.d=null,null===(e=this.rb)||void 0===e||e.call(this),this.rb=null}constructor(t,e){this.m=t,this.b=e,this.d=null,this.rb=null,this.sb={},this.tb=new Set,this.Lb=null,this.pe={},this.oa=-1}}function iS(t){return t instanceof Error?t:Error("string"==typeof t?t:JSON.stringify(t))}function iE(t,e){if(!t)throw Error("Assertion failed.")}class iA{async re(){let t={onLoadStart:this.Na.bind(this),onLoaded:this.ub.bind(this),onLoadError:this.se.bind(this)},e=await iq(this.M,t);return((0,d.n)(e)&&!(0,d.i)(this.M)&&(e=await iC(this.M,t)),e)?window.dashjs.supportsMediaSource()?e:(this.b.player.dispatch(new d.D("dash-unsupported")),this.b.delegate.c("error",{message:"[vidstack] `dash.js` is not supported in this environment",code:4}),null):null}Na(){this.b.player.dispatch(new d.D("dash-lib-load-start"))}ub(t){this.b.player.dispatch(new d.D("dash-lib-loaded",{detail:t})),this.Ma(t)}se(t){let e=iS(t);this.b.player.dispatch(new d.D("dash-lib-load-error",{detail:e})),this.b.delegate.c("error",{message:e.message,code:4,error:e})}constructor(t,e,i){this.M=t,this.b=e,this.Ma=i,this.re()}}async function iC(t){var e,i,s,a,n,r,l;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,d.n)(t)){if(null===(e=h.onLoadStart)||void 0===e||e.call(h),t&&t.prototype&&t.prototype!==Function)return null===(i=h.onLoaded)||void 0===i||i.call(h,t),t;if(iO(t)){let e=t.MediaPlayer;return null===(s=h.onLoaded)||void 0===s||s.call(h,e),e}try{let e=null===(a=await t())||void 0===a?void 0:a.default;if(iO(e))return null===(n=h.onLoaded)||void 0===n||n.call(h,e.MediaPlayer),e.MediaPlayer;if(e)null===(r=h.onLoaded)||void 0===r||r.call(h,e);else throw Error("");return e}catch(t){null===(l=h.onLoadError)||void 0===l||l.call(h,t)}}}async function iq(t){var e,i,s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,d.i)(t)){null===(e=a.onLoadStart)||void 0===e||e.call(a);try{if(await ta(t),!(0,d.o)(window.dashjs.MediaPlayer))throw Error("");let e=window.dashjs.MediaPlayer;return null===(i=a.onLoaded)||void 0===i||i.call(a,e),e}catch(t){null===(s=a.onLoadError)||void 0===s||s.call(a,t)}}}function iO(t){return t&&"MediaPlayer"in t}class iM extends ik{get ctor(){return this.sc}get instance(){return this.e.instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return this.e.sb}set config(t){this.e.sb=t}get library(){return this.pa}set library(t){this.pa=t}preconnect(){(0,d.i)(this.pa)&&ti(this.pa)}setup(){super.setup(),new iA(this.pa,this.b,t=>{this.sc=t,this.e.setup(t),this.b.delegate.c("provider-setup",this);let e=(0,d.p)(this.b.$state.source);e&&this.loadSource(e)})}async loadSource(t,e){if(!(0,d.i)(t.src)){this.pc();return}this.a.preload=e||"",this.he(t,"application/x-mpegurl"),this.e.loadSource(t),this.L=t}onInstance(t){let e=this.e.instance;return e&&t(e),this.e.tb.add(t),()=>this.e.tb.delete(t)}destroy(){this.e.destroy()}constructor(){super(...arguments),this.$$PROVIDER_TYPE="DASH",this.sc=null,this.e=new iP(this.video,this.b),this.pa="".concat("https://cdn.jsdelivr.net","/npm/dashjs@4.7.4/dist/dash",".all.min.js")}}iM.supported=V();var iD=Object.freeze({__proto__:null,DASHProvider:iM});let iL=class t extends ie{canPlay(e){return t.supported&&J(e)}async load(t){if(E)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return iD})).DASHProvider(this.target,t)}constructor(){super(...arguments),this.name="dash"}};iL.supported=V();let ij=class t extends ie{canPlay(e){return t.supported&&Z(e)}async load(t){if(E)throw Error("[vidstack] can not load hls provider server-side");return new(await i.e(7642).then(i.bind(i,7642))).HLSProvider(this.target,t)}constructor(){super(...arguments),this.name="hls"}};ij.supported=V();class iF{preconnect(){for(let t of["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"])ti(t)}canPlay(t){return(0,d.i)(t.src)&&"video/vimeo"===t.type}mediaType(){return"video"}async load(t){if(E)throw Error("[vidstack] can not load vimeo provider server-side");return new(await i.e(8966).then(i.bind(i,8966))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){let{resolveVimeoVideoId:a,getVimeoVideoInfo:n}=await i.e(3294).then(i.bind(i,3294));if(!(0,d.i)(t.src))return null;let{videoId:r}=a(t.src);return r?n(r,s).then(t=>t?t.poster:null):null}constructor(){this.name="vimeo"}}class iI{preconnect(){for(let t of["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"])ti(t)}canPlay(t){return(0,d.i)(t.src)&&"video/youtube"===t.type}mediaType(){return"video"}async load(t){if(E)throw Error("[vidstack] can not load youtube provider server-side");return new(await i.e(7094).then(i.bind(i,7094))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){let{findYouTubePoster:a,resolveYouTubeVideoId:n}=await i.e(4937).then(i.bind(i,4937)),r=(0,d.i)(t.src)&&n(t.src);return r?a(r,s):null}constructor(){this.name="youtube"}}let iR=Symbol(0),iW=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"];class iV extends ej{async onAttach(t){if(E)return;let e=this.$props[this.ma]();if("eager"===e)requestAnimationFrame(this.Ma);else if("idle"===e)(0,d.a1)(this.Ma);else if("visible"===e){let e,i=new IntersectionObserver(t=>{this.scope&&t[0].isIntersecting&&(null==e||e(),e=void 0,this.Ma())});i.observe(t),e=(0,d.v)(()=>i.disconnect())}}constructor(t,e){super(),this.ma=t,this.Ma=e}}class iN{async Ha(t,e){if(!E)return(0,d.q)(async()=>{var i,s,a,n,r,l,h,o,u,c,p,f,g,b,m;this.a;let{autoPlay:v,canPlay:y,started:w,duration:k,seekable:$,buffered:x,remotePlaybackInfo:T,playsInline:P,savedState:S,source:E}=this.a.$state;if(y())return;let A={duration:null!==(n=null==t?void 0:t.duration)&&void 0!==n?n:k(),seekable:null!==(r=null==t?void 0:t.seekable)&&void 0!==r?r:$(),buffered:null!==(l=null==t?void 0:t.buffered)&&void 0!==l?l:x(),provider:this.a.$provider()};this.c("can-play",A,e),(0,d.t)();let C=this.a.$provider(),{storage:q,qualities:O}=this.a,{muted:M,volume:D,clipStartTime:L,playbackRate:j}=this.a.$props;await (null==q?void 0:null===(i=q.onLoad)||void 0===i?void 0:i.call(q,E()));let F=null===(s=S())||void 0===s?void 0:s.currentTime,I=null===(a=S())||void 0===a?void 0:a.paused,R=await (null==q?void 0:q.getTime()),W=null!==(h=null!=F?F:R)&&void 0!==h?h:L(),V=I||!1!==I&&!w()&&v();if(C){C.setVolume(null!==(f=await (null==q?void 0:q.getVolume()))&&void 0!==f?f:D()),C.setMuted(M()||!!await (null==q?void 0:q.getMuted()));let t=null!==(g=await (null==q?void 0:q.getAudioGain()))&&void 0!==g?g:1;t>1&&(null===(u=C.audioGain)||void 0===u||null===(o=u.setGain)||void 0===o||o.call(u,t)),null===(c=C.setPlaybackRate)||void 0===c||c.call(C,null!==(b=await (null==q?void 0:q.getPlaybackRate()))&&void 0!==b?b:j()),null===(p=C.setPlaysInline)||void 0===p||p.call(C,P()),W>0&&C.setCurrentTime(W)}let N=await (null==q?void 0:q.getVideoQuality());if(N&&O.length){let t=null,e=1/0;for(let i of O){let s=Math.abs(N.width-i.width)+Math.abs(N.height-i.height)+(N.bitrate?Math.abs(N.bitrate-(null!==(m=i.bitrate)&&void 0!==m?m:0)):0);s<e&&(t=i,e=s)}t&&(t.selected=!0)}y()&&V?await this.lj(e):R&&R>0&&this.c("started",void 0,e),T.set(null)})}async lj(t){let{player:e,$state:{autoPlaying:i,muted:s}}=this.a;i.set(!0);let a=new d.D("auto-play-attempt",{trigger:t});try{await e.play(a)}catch(t){}}constructor(t,e){var i=this;this.W=t,this.a=e,this.c=function(t){for(var e=arguments.length,s=Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];E||i.W(new d.D(t,{detail:null==s?void 0:s[0],trigger:null==s?void 0:s[1]}))}}}class iH{k(t,e){this.i.set(t,e)}ye(t){let e=this.sg(t);return this.i.delete(t),e}sg(t){return this.i.get(t)}vb(t){this.i.delete(t)}Qm(){this.i.clear()}constructor(){this.i=new Map}}class iY{get Rm(){return this.i.size}get Sm(){return this.xc}async Tm(){this.xc||await this.ze.promise}k(t,e){if(this.xc){e();return}this.i.delete(t),this.i.set(t,e)}ye(t){var e;null===(e=this.i.get(t))||void 0===e||e(),this.i.delete(t)}Ya(){this.tg(),this.xc=!0,this.i.size>0&&this.tg()}aa(){this.xc=!1}A(){this.aa(),this.i.clear(),this.ug()}tg(){for(let t of this.i.keys())this.ye(t);this.ug()}ug(){this.ze.resolve(),this.ze=(0,d.f)()}constructor(){this.xc=!1,this.ze=(0,d.f)(),this.i=new Map}}class iG extends ej{onAttach(){this.listen("fullscreen-change",this.Rd.bind(this))}onConnect(){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Ij.bind(this);for(let i of t)i.startsWith("media-")&&this.listen(i,e);this.Jj(),(0,d.e)(this.Kj.bind(this)),(0,d.e)(this.Lj.bind(this)),(0,d.e)(this.Mj.bind(this)),(0,d.e)(this.Nj.bind(this)),(0,d.e)(this.Oj.bind(this)),(0,d.e)(this.Pj.bind(this)),(0,d.e)(this.Qj.bind(this))}onDestroy(){try{let t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:i}=this.$state;i()&&this.Mg("prefer-media",t),e()&&this.He(t)}catch(t){}this.Ac.A()}Jj(){let{load:t}=this.$props,{canLoad:e}=this.$state;if("play"!==t()||e())return;let i=this.listen("media-play-request",t=>{this.Hg(t),i()})}Kj(){let t=this.D(),e=this.$state.canPlay();return t&&e&&this.Ac.Ya(),()=>{this.Ac.aa()}}Ij(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&((0,d.p)(this.D)?this[t.type](t):this.Ac.k(t.type,()=>{(0,d.p)(this.D)&&this[t.type](t)}))}async Bc(t){if(E)return;let{canPlay:e,paused:i,autoPlaying:s}=this.$state;if(this.Hg(t)||!(0,d.p)(i))return;t&&this.g.i.k("media-play-request",t);let a=(0,d.p)(s);try{let t=(0,d.p)(this.D);return iK(t,(0,d.p)(e)),await t.play()}catch(i){let e=this.createEvent("play-fail",{detail:iS(i),trigger:t});throw e.autoPlay=a,this.Ca.W(e),i}}Hg(t){let{load:e}=this.$props,{canLoad:i}=this.$state;if("play"===e()&&!i()){let e=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(e),this.Ac.k("media-play-request",async()=>{try{await this.Bc(e)}catch(t){}}),!0}return!1}async Fe(t){if(E)return;let{canPlay:e,paused:i}=this.$state;if(!(0,d.p)(i)){t&&this.g.i.k("media-pause-request",t);try{let t=(0,d.p)(this.D);return iK(t,(0,d.p)(e)),await t.pause()}catch(t){throw this.g.i.vb("media-pause-request"),t}}}Ig(t,e){let{audioGain:i,canSetAudioGain:s}=this.$state;if(i()===t)return;let a=this.D();if(!(null==a?void 0:a.audioGain)||!s())throw Error("[vidstack] audio gain api not available");e&&this.g.i.k("media-audio-gain-change-request",e),a.audioGain.setGain(t)}Jg(t){var e;if(E)return;let{canPlay:i,live:s,liveEdge:a,canSeek:n,liveSyncPosition:r,seekableEnd:l,userBehindLiveEdge:h}=this.$state;if(h.set(!1),(0,d.p)(()=>!s()||a()||!n()))return;let o=(0,d.p)(this.D);iK(o,(0,d.p)(i)),t&&this.g.i.k("media-seek-request",t);let u=l()-2;o.setCurrentTime(Math.min(u,null!==(e=r())&&void 0!==e?e:u))}async Kg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(E)return;let i=this.Lg(t);if(iz(t,i),!i.active)return(0,d.p)(this.$state.pictureInPicture)&&(this.Ge=!0,await this.He(e)),e&&this.g.i.k("media-enter-fullscreen-request",e),i.enter()}async Mg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(E)return;let i=this.Lg(t);if(iz(t,i),i.active){e&&this.g.i.k("media-exit-fullscreen-request",e);try{let t=await i.exit();return this.Ge&&(0,d.p)(this.$state.canPictureInPicture)&&await this.Ie(),t}finally{this.Ge=!1}}}Lg(t){let e=(0,d.p)(this.D);return"prefer-media"===t&&this.qd.supported||"media"===t?this.qd:null==e?void 0:e.fullscreen}async Ie(t){if(!E&&(this.Ng(),!this.$state.pictureInPicture()))return t&&this.g.i.k("media-enter-pip-request",t),await this.D().pictureInPicture.enter()}async He(t){if(!E&&(this.Ng(),this.$state.pictureInPicture()))return t&&this.g.i.k("media-exit-pip-request",t),await this.D().pictureInPicture.exit()}Ng(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Lj(){this.zc.defaultDelay=this.$props.controlsDelay()}Mj(){var t,e;let{canSetAudioGain:i}=this.$state,s=!!(null===(e=this.D())||void 0===e?void 0:null===(t=e.audioGain)||void 0===t?void 0:t.supported);i.set(s)}Nj(){var t,e;let{canAirPlay:i}=this.$state,s=!!(null===(e=this.D())||void 0===e?void 0:null===(t=e.airPlay)||void 0===t?void 0:t.supported);i.set(s)}Oj(){let{canGoogleCast:t,source:e}=this.$state,i=O&&!C&&tt(e());t.set(i)}Pj(){var t,e;let{canFullscreen:i}=this.$state,s=this.qd.supported||!!(null===(e=this.D())||void 0===e?void 0:null===(t=e.fullscreen)||void 0===t?void 0:t.supported);i.set(s)}Qj(){var t,e;let{canPictureInPicture:i}=this.$state,s=!!(null===(e=this.D())||void 0===e?void 0:null===(t=e.pictureInPicture)||void 0===t?void 0:t.supported);i.set(s)}async "media-airplay-request"(t){try{await this.Og(t)}catch(t){}}async Og(t){try{var e;let i=null===(e=this.D())||void 0===e?void 0:e.airPlay;if(!(null==i?void 0:i.supported))throw Error("No AirPlay adapter.");return t&&this.g.i.k("media-airplay-request",t),await i.prompt()}catch(t){throw this.g.i.vb("media-airplay-request"),t}}async "media-google-cast-request"(t){try{await this.Pg(t)}catch(t){}}async Pg(t){try{let{canGoogleCast:e}=this.$state;if(!(0,d.p)(e)){let t=Error("Cast not available.");throw t.code="CAST_NOT_AVAILABLE",t}if(ti("https://www.gstatic.com"),!this.rd){let t=await i.e(7797).then(i.bind(i,7797)).then(function(t){return t.d});this.rd=new t.GoogleCastLoader}await this.rd.prompt(this.a),t&&this.g.i.k("media-google-cast-request",t);let s="disconnected"!==(0,d.p)(this.$state.remotePlaybackState);s&&this.$state.savedState.set({paused:(0,d.p)(this.$state.paused),currentTime:(0,d.p)(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.rd:null)}catch(t){throw this.g.i.vb("media-google-cast-request"),t}}"media-audio-track-change-request"(t){let{logger:e,audioTracks:i}=this.a;if(i.readonly)return;let s=i[t.detail];if(s){let e=t.type;this.g.i.k(e,t),s.selected=!0}}async "media-enter-fullscreen-request"(t){try{await this.Kg(t.detail,t)}catch(e){this._c(e,t)}}async "media-exit-fullscreen-request"(t){try{await this.Mg(t.detail,t)}catch(e){this._c(e,t)}}async Rd(t){let e=(0,d.p)(this.$props.fullscreenOrientation),i=t.detail;if(!(0,d.n)(e)&&"none"!==e&&this.cb.supported){if(i){if(this.cb.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.cb.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}}_c(t,e){this.Ca.W(this.createEvent("fullscreen-error",{detail:iS(t)}))}async "media-orientation-lock-request"(t){let e=t.type;try{this.g.i.k(e,t),await this.cb.lock(t.detail)}catch(t){this.g.i.vb(e)}}async "media-orientation-unlock-request"(t){let e=t.type;try{this.g.i.k(e,t),await this.cb.unlock()}catch(t){this.g.i.vb(e)}}async "media-enter-pip-request"(t){try{await this.Ie(t)}catch(e){this.Qg(e,t)}}async "media-exit-pip-request"(t){try{await this.He(t)}catch(e){this.Qg(e,t)}}Qg(t,e){this.Ca.W(this.createEvent("picture-in-picture-error",{detail:iS(t)}))}"media-live-edge-request"(t){let{live:e,liveEdge:i,canSeek:s}=this.$state;if(!(!e()||i())&&s()){this.g.i.k("media-seek-request",t);try{this.Jg()}catch(t){this.g.i.vb("media-seek-request")}}}async "media-loop-request"(t){try{this.g.Pb=!0,this.g.Cc=!0,await this.Bc(t)}catch(t){this.g.Pb=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async "media-pause-request"(t){if(!this.$state.paused())try{await this.Fe(t)}catch(t){}}async "media-play-request"(t){if(this.$state.paused())try{await this.Bc(t)}catch(t){}}"media-rate-change-request"(t){let{playbackRate:e,canSetPlaybackRate:i}=this.$state;if(e()===t.detail||!i())return;let s=this.D();(null==s?void 0:s.setPlaybackRate)&&(this.g.i.k("media-rate-change-request",t),s.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.Ig(t.detail,t)}catch(t){}}"media-quality-change-request"(t){var e,i;let{qualities:s,storage:a,logger:n}=this.a;if(s.readonly)return;this.g.i.k("media-quality-change-request",t);let r=t.detail;if(r<0)s.autoSelect(t),t.isOriginTrusted&&(null==a||null===(e=a.setVideoQuality)||void 0===e||e.call(a,null));else{let e=s[r];e&&(e.selected=!0,t.isOriginTrusted&&(null==a||null===(i=a.setVideoQuality)||void 0===i||i.call(a,{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate})))}}"media-pause-controls-request"(t){let e=t.type;this.g.i.k(e,t),this.zc.pause(t)}"media-resume-controls-request"(t){let e=t.type;this.g.i.k(e,t),this.zc.resume(t)}"media-seek-request"(t){let{seekableStart:e,seekableEnd:i,ended:s,canSeek:a,live:n,userBehindLiveEdge:r,clipStartTime:l}=this.$state,h=t.detail;s()&&(this.g.Cc=!0);let o=t.type;this.g.Ka=!1,this.g.i.vb(o);let d=h+l(),u=Math.floor(d)===Math.floor(i())?i():Math.min(Math.max(e()+.1,d),i()-.1);Number.isFinite(u)&&a()&&(this.g.i.k(o,t),this.D().setCurrentTime(u),n()&&t.isOriginTrusted&&Math.abs(i()-u)>=2&&r.set(!0))}"media-seeking-request"(t){let e=t.type;this.g.i.k(e,t),this.$state.seeking.set(!0),this.g.Ka=!0}"media-start-loading"(t){if(this.$state.canLoad())return;let e=t.type;this.g.i.k(e,t),this.Ca.W(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;let e=t.type;this.g.i.k(e,t),this.Ca.W(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){let{index:e,mode:i}=t.detail,s=this.a.textTracks[e];if(s){let e=t.type;this.g.i.k(e,t),s.setMode(i,t)}}"media-mute-request"(t){if(this.$state.muted())return;let e=t.type;this.g.i.k(e,t),this.D().setMuted(!0)}"media-unmute-request"(t){let{muted:e,volume:i}=this.$state;if(!e())return;let s=t.type;this.g.i.k(s,t),this.a.$provider().setMuted(!1),0===i()&&(this.g.i.k(s,t),this.D().setVolume(.25))}"media-volume-change-request"(t){let{muted:e,volume:i}=this.$state,s=t.detail;if(i()===s)return;let a=t.type;this.g.i.k(a,t),this.D().setVolume(s),s>0&&e()&&(this.g.i.k(a,t),this.D().setMuted(!1))}Ra(t,e,i){}constructor(t,e,i){super(),this.Ca=t,this.g=e,this.a=i,this.Ac=new iY,this.Ge=!1,this.D=i.$provider,this.zc=new eF,this.qd=new T,this.cb=new N}}function iK(t,e){if(!t||!e)throw Error("[vidstack] media not ready")}function iz(t,e){if(null==e||!e.supported)throw Error("[vidstack] no fullscreen support")}class iB{constructor(){this.Ka=!1,this.Pb=!1,this.Cc=!1,this.i=new iH}}let iU=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class i_ extends ej{onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){(0,d.e)(this.Rj.bind(this)),this.Sj(),this.Tj(),this.Uj(),this.Vj(),(0,d.v)(this.Wj.bind(this))}onDestroy(){let{audioTracks:t,qualities:e,textTracks:i}=this.a;t[m.A](),e[m.A](),i[m.A](),this.Je()}W(t){if(!this.scope)return;let e=t.type;(0,d.q)(()=>{var e;return null===(e=this[t.type])||void 0===e?void 0:e.call(this,t)}),E||(iU.has(e)&&this.v.set(e,t),this.dispatch(t))}Vj(){this.Dc&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new d.D("dom-connect"))}),this.Dc=!1)}Wj(){var t;this.Dc||(this.Dc=!this.$state.paused(),null===(t=this.a.$provider())||void 0===t||t.pause())}wb(){this.Rg(),this.sd=!1,this.g.Cc=!1,this.g.Pb=!1,this.td=!1,this.Qb=void 0,this.v.clear()}E(t,e){let i=this.g.i.ye(t);i&&(e.request=i,e.triggers.add(i))}Sj(){this.Ke(),this.Sg();let t=this.a.textTracks;(0,d.l)(t,"add",this.Ke.bind(this)),(0,d.l)(t,"remove",this.Ke.bind(this)),(0,d.l)(t,"mode-change",this.Sg.bind(this))}Tj(){let t=this.a.qualities;(0,d.l)(t,"add",this.md.bind(this)),(0,d.l)(t,"remove",this.md.bind(this)),(0,d.l)(t,"change",this._a.bind(this)),(0,d.l)(t,"auto-change",this.Xj.bind(this)),(0,d.l)(t,"readonly-change",this.Yj.bind(this))}Uj(){let t=this.a.audioTracks;(0,d.l)(t,"add",this.Tg.bind(this)),(0,d.l)(t,"remove",this.Tg.bind(this)),(0,d.l)(t,"change",this.Zj.bind(this))}Ke(t){let{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Sg(t){t&&this.E("media-text-track-change-request",t);let e=this.a.textTracks.selected,{textTrack:i}=this.$state;i()!==e&&(i.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Tg(t){let{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Zj(t){let{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.E("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}md(t){let{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}_a(t){let{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.E("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}Xj(){let{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.Je()}Ug(){this.Je(),this.Le=(0,d.e)(()=>{let{qualities:t}=this.a,{mediaWidth:e,mediaHeight:i}=this.$state,s=e(),a=i();if(0===s||0===a)return;let n=null,r=1/0;for(let e of t){let t=Math.abs(e.width-s)+Math.abs(e.height-a);t<r&&(r=t,n=e)}n&&t[m.fa](n,!0,new d.D("resize",{detail:{width:s,height:a}}))})}Je(){var t;null===(t=this.Le)||void 0===t||t.call(this),this.Le=null}Yj(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}Rj(){let{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}W().then(t.set)}"provider-change"(t){var e,i;let s=this.a.$provider(),a=t.detail;(null==s?void 0:s.type)!==(null==a?void 0:a.type)&&(null==s||null===(e=s.destroy)||void 0===e||e.call(s),null==s||null===(i=s.scope)||void 0===i||i.dispose(),this.a.$provider.set(t.detail),s&&null===t.detail&&this.Vg(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.wb()}"can-load"(t){this.$state.canLoad.set(!0),this.v.set("can-load",t),this.a.textTracks[tg._](),this.E("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.v.set("can-load-poster",t),this.E("media-poster-start-loading",t)}"media-type-change"(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let i=this.$state.viewType();this.$state.mediaType.set(t.detail);let s=this.$state.providedViewType(),a="unknown"===s?t.detail:s;i!==a&&(E?this.$state.inferredViewType.set(a):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:a,trigger:t}))})},0))}"stream-type-change"(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let{streamType:i,inferredStreamType:s}=this.$state;s.set(t.detail),t.detail=i()}"rate-change"(t){let{storage:e}=this.a,{canPlay:i}=this.$state;if(this.$state.playbackRate.set(t.detail),this.E("media-rate-change-request",t),i()){var s;null==e||null===(s=e.setPlaybackRate)||void 0===s||s.call(e,t.detail)}}"remote-playback-change"(t){let{remotePlaybackState:e,remotePlaybackType:i}=this.$state,{type:s,state:a}=t.detail,n="connected"===a;i.set(s),e.set(a);let r="airplay"===s?"media-airplay-request":"media-google-cast-request";if(n)this.E(r,t);else{let e=this.g.i.sg(r);e&&(t.request=e,t.triggers.add(e))}}"sources-change"(t){let e=this.$state.sources(),i=t.detail;this.$state.sources.set(i),this._j(e,i,t)}_j(t,e,i){let{qualities:s}=this.a,a=!1,n=!1;for(let a of t)if(tl(a)&&!e.some(t=>t.src===a.src)){let t=s.getBySrc(a.src);t&&(s[m.dc](t,i),n=!0)}for(let t of(n&&!s.length&&(this.$state.savedState.set(null),s[m.A](i)),e)){var r;if(!tl(t)||s.getBySrc(t.src))continue;let e={id:null!==(r=t.id)&&void 0!==r?r:t.height+"p",bitrate:null,codec:null,...t,selected:!1};s[m.ea](e,i),a=!0}a&&!s[ez.Ja]&&(this.Ug(),s[ez.Ja]=this.Ug.bind(this),s[ez.Xa](!0,i))}"source-change"(t){var e,i;t.isQualityChange=(null===(e=t.originEvent)||void 0===e?void 0:e.type)==="quality-change";let s=t.detail;this.Vg(t,t.isQualityChange),this.v.set(t.type,t),this.$state.source.set(s),null===(i=this.el)||void 0===i||i.setAttribute("aria-busy","true")}Vg(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{audioTracks:i,qualities:s}=this.a;if(!e){i[m.A](t),s[m.A](t),tC(this.$state,e),this.wb();return}tC(this.$state,e),this.wb()}abort(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let i=this.v.get("can-load");i&&!t.triggers.hasType("can-load")&&t.triggers.add(i)}"load-start"(t){let e=this.v.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);let e=this.v.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){let e=this.v.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){let e=this.v.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var e;let i=this.v.get("loaded-metadata");i&&t.triggers.add(i),this.Wg(t.detail),null===(e=this.el)||void 0===e||e.setAttribute("aria-busy","false")}"can-play-through"(t){this.Wg(t.detail);let e=this.v.get("can-play");e&&t.triggers.add(e)}Wg(t){var e;let{seekable:i,buffered:s,intrinsicDuration:a,canPlay:n}=this.$state;n.set(!0),s.set(t.buffered),i.set(t.seekable);let r=null!==(e=td(t.seekable))&&void 0!==e?e:1/0;a.set(r)}"duration-change"(t){let{live:e,intrinsicDuration:i,ended:s}=this.$state,a=t.detail;if(!e()){let e=Number.isNaN(a)?0:a;i.set(e),s()&&this.Xg(t)}}progress(t){var e,i;let{buffered:s,bufferedEnd:a,seekable:n,seekableEnd:r,live:l,intrinsicDuration:h}=this.$state,{buffered:o,seekable:d}=t.detail,u=null!==(e=td(o))&&void 0!==e?e:1/0,c=o.length!==s().length,p=u>a(),f=null!==(i=td(d))&&void 0!==i?i:1/0,g=d.length!==n().length,b=f>r();(c||p)&&s.set(o),(g||b)&&n.set(d),l()&&(h.set(f),this.dispatch("duration-change",{detail:f,trigger:t}))}play(t){let{paused:e,autoPlayError:i,ended:s,autoPlaying:a,playsInline:n,pointer:r,muted:l,viewType:h,live:o,userBehindLiveEdge:d}=this.$state;if(this.$j(),!e()){t.stopImmediatePropagation();return}t.autoPlay=a();let u=this.v.get("waiting");u&&t.triggers.add(u),this.E("media-play-request",t),this.v.set("play",t),e.set(!1),i.set(null),t.autoPlay&&(this.W(this.createEvent("auto-play",{detail:{muted:l()},trigger:t})),a.set(!1)),(s()||this.g.Cc)&&(this.g.Cc=!1,s.set(!1),this.W(this.createEvent("replay",{trigger:t}))),n()||"video"!==h()||"coarse"!==r()||this.a.remote.enterFullscreen("prefer-media",t),o()&&!d()&&this.a.remote.seekToLiveEdge(t)}$j(t){if(!(0,d.p)(this.a.$provider))return;let{ended:e,seekableStart:i,clipStartTime:s,clipEndTime:a,realCurrentTime:n,duration:r}=this.$state,l=n()<s()||a()>0&&n()>=a()||.1>Math.abs(n()-r())||e();return l&&this.dispatch("media-seek-request",{detail:(s()>0?0:i())+.1,trigger:t}),l}"play-fail"(t){let{muted:e,autoPlaying:i}=this.$state,s=this.v.get("play");s&&t.triggers.add(s),this.E("media-play-request",t);let{paused:a,playing:n}=this.$state;a.set(!0),n.set(!1),this.wb(),this.v.set("play-fail",t),t.autoPlay&&(this.W(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),i.set(!1))}playing(t){let e=this.v.get("play"),i=this.v.get("seeked");e?t.triggers.add(e):i&&t.triggers.add(i),setTimeout(()=>this.wb(),0);let{paused:s,playing:a,live:n,liveSyncPosition:r,seekableEnd:l,started:h,currentTime:o,seeking:d,ended:u}=this.$state;if(s.set(!1),a.set(!0),d.set(!1),u.set(!1),this.g.Pb){this.g.Pb=!1;return}if(n()&&!h()&&0===o()){var c;let t=null!==(c=r())&&void 0!==c?c:l()-2;Number.isFinite(t)&&this.a.$provider().setCurrentTime(t)}this.started(t)}started(t){let{started:e}=this.$state;e()||(e.set(!0),this.W(this.createEvent("started",{trigger:t})))}pause(t){var e;(null===(e=this.el)||void 0===e?void 0:e.isConnected)||(this.Dc=!0),this.E("media-pause-request",t);let i=this.v.get("seeked");i&&t.triggers.add(i);let{paused:s,playing:a}=this.$state;s.set(!0),a.set(!1),this.sd&&setTimeout(()=>{this.W(this.createEvent("end",{trigger:t})),this.sd=!1},0),this.wb()}"time-update"(t){if(this.g.Pb){t.stopImmediatePropagation();return}let{realCurrentTime:e,played:i,waiting:s,clipEndTime:a}=this.$state,n=a(),r=t.detail;for(let a of(e.set(r.currentTime),i.set(r.played),s.set(!1),this.a.textTracks))a[tg.Fb](r.currentTime,t);n>0&&r.currentTime>=n&&(this.sd=!0,this.dispatch("media-pause-request",{trigger:t})),this.ak()}Xg(t){var e;let{duration:i,played:s}=this.$state,a=null!==(e=to(s()))&&void 0!==e?e:0;this.W(this.createEvent("time-update",{detail:{currentTime:i(),played:new th(a,i())},trigger:t}))}ak(){let{storage:t}=this.a,{canPlay:e,realCurrentTime:i}=this.$state;if(e()){var s;null==t||null===(s=t.setTime)||void 0===s||s.call(t,i())}}"audio-gain-change"(t){var e;let{storage:i}=this.a,{canPlay:s,audioGain:a}=this.$state;a.set(t.detail),this.E("media-audio-gain-change-request",t),s()&&(null==i||null===(e=i.setAudioGain)||void 0===e||e.call(i,a()))}"volume-change"(t){let{storage:e}=this.a,{volume:i,muted:s,canPlay:a}=this.$state,n=t.detail;if(i.set(n.volume),s.set(n.muted||0===n.volume),this.E("media-volume-change-request",t),this.E(n.muted?"media-mute-request":"media-unmute-request",t),a()){var r,l;null==e||null===(r=e.setVolume)||void 0===r||r.call(e,i()),null==e||null===(l=e.setMuted)||void 0===l||l.call(e,s())}}seeked(t){let{seeking:e,currentTime:i,realCurrentTime:s,paused:a,seekableEnd:n,ended:r}=this.$state;if(this.g.Ka)e.set(!0),t.stopImmediatePropagation();else if(e()){let i=this.v.get("waiting");i&&t.triggers.add(i);let n=this.v.get("seeking");n&&!t.triggers.has(n)&&t.triggers.add(n),a()&&this.Rg(),e.set(!1),s.set(t.detail),this.E("media-seek-request",t);let r=null==t?void 0:t.originEvent;(null==r?void 0:r.isTrusted)&&!/seek/.test(r.type)&&this.started(t)}Math.floor(i())!==Math.floor(n())?r.set(!1):this.end(t)}waiting(t){this.td||this.g.Ka||(t.stopImmediatePropagation(),this.Qb=t,this.Me())}end(t){let{loop:e,ended:i}=this.$state;if(!(!e()&&i())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>this.mc(t),0)}}mc(t){var e;let{storage:i}=this.a,{paused:s,seeking:a,ended:n,duration:r}=this.$state;this.Xg(t),s()||this.dispatch("pause",{trigger:t}),a()&&this.dispatch("seeked",{detail:r(),trigger:t}),n.set(!0),this.wb(),null==i||null===(e=i.setTime)||void 0===e||e.call(i,r(),!0),this.dispatch("ended",{trigger:t})}Rg(){this.Me.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){let e=t.detail;this.$state.fullscreen.set(e),this.E(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.E("media-enter-fullscreen-request",t),this.E("media-exit-fullscreen-request",t)}"orientation-change"(t){let e=t.detail.lock;this.E(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){let e=t.detail;this.$state.pictureInPicture.set(e),this.E(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.E("media-enter-pip-request",t),this.E("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}constructor(t,e){super(),this.g=t,this.a=e,this.v=new Map,this.sd=!1,this.td=!1,this.Dc=!1,this.Le=null,this.seeking=eI(t=>{let{seeking:e,realCurrentTime:i,paused:s}=this.$state;e.set(!0),i.set(t.detail),this.E("media-seeking-request",t),s()&&(this.Qb=t,this.Me())},150,{leading:!0}),this.Me=eN(()=>{if(!this.Qb)return;this.td=!0;let{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);let i=this.createEvent("waiting",{trigger:this.Qb});this.v.set("waiting",i),this.dispatch(i),this.Qb=void 0,this.td=!1},300)}}class iQ extends ej{onSetup(){this.Ib(),E||((0,d.e)(this.ck.bind(this)),(0,d.e)(this.dk.bind(this)),(0,d.e)(this.ek.bind(this)),(0,d.e)(this.Yd.bind(this)),(0,d.e)(this.Da.bind(this)),(0,d.e)(this.fk.bind(this)),(0,d.e)(this.gk.bind(this)),(0,d.e)(this.hk.bind(this)),(0,d.e)(this.ik.bind(this)),(0,d.e)(this.jk.bind(this)),(0,d.e)(this.Ne.bind(this)),(0,d.e)(this.kk.bind(this)),(0,d.e)(this.lk.bind(this)),(0,d.e)(this.ud.bind(this)))}Ib(){let t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(let a of Object.keys(this.$props)){var i,s;e.has(a)||null===(i=this.$state[null!==(s=t[a])&&void 0!==s?s:a])||void 0===i||i.set(this.$props[a]())}this.$state.muted.set(this.$props.muted()||0===this.$props.volume())}lk(){let{viewType:t,streamType:e,title:i,poster:s,loop:a}=this.$props,n=this.$state;n.providedPoster.set(s()),n.providedStreamType.set(e()),n.providedViewType.set(t()),n.providedTitle.set(i()),n.providedLoop.set(a())}bk(){}ck(){let{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}ud(){let{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}dk(){let t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}jk(){let t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Yd(){let t=this.$props.controls();this.$state.controls.set(t)}kk(){let{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Da(){var t;let e=null!==(t=this.$props.crossOrigin())&&void 0!==t?t:this.$props.crossorigin();this.$state.crossOrigin.set(!0===e?"":e)}fk(){let{providedDuration:t}=this.$state;t.set(this.$props.duration())}Ne(){let t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}ek(){let{clipStartTime:t,clipEndTime:e}=this.$props;this.$state.clipStartTime.set(t()),this.$state.clipEndTime.set(e())}gk(){this.dispatch("live-change",{detail:this.$state.live()})}ik(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}hk(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let iX=class t extends ej{onConnect(){(0,d.e)(this.mk.bind(this)),(0,d.e)(this.nk.bind(this));let e=this.ok.bind(this);for(let i of t.Yg)navigator.mediaSession.setActionHandler(i,e);(0,d.v)(this.Ga.bind(this))}Ga(){for(let e of t.Yg)navigator.mediaSession.setActionHandler(e,null)}mk(){var t;let{title:e,artist:i,artwork:s,poster:a}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:e(),artist:i(),artwork:null!==(t=s())&&void 0!==t?t:[{src:a()}]})}nk(){let{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}ok(t){let e=new d.D("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":var i;this.dispatch("media-seek-request",{detail:(0,d.j)(t.seekTime)?t.seekTime:this.$state.currentTime()+(null!==(i=t.seekOffset)&&void 0!==i?i:10),trigger:e})}}constructor(){super()}};iX.Yg=["play","pause","seekforward","seekbackward","seekto"];let iZ=(0,d.s)(!1);E||((0,d.l)(document,"pointerdown",()=>{iZ.set(!1)}),(0,d.l)(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||iZ.set(!0)}));class iJ extends d.V{onConnect(t){(0,d.e)(()=>{if(!iZ()){this.Ec.set(!1),i0(t,!1),this.listen("pointerenter",this.Pe.bind(this)),this.listen("pointerleave",this.Qe.bind(this));return}let e=document.activeElement===t;this.Ec.set(e),i0(t,e),this.listen("focus",this.Fc.bind(this)),this.listen("blur",this.rk.bind(this))})}focused(){return this.Ec()}Fc(){this.Ec.set(!0),i0(this.el,!0)}rk(){this.Ec.set(!1),i0(this.el,!1)}Pe(){i1(this.el,!0)}Qe(){i1(this.el,!1)}constructor(){super(...arguments),this.Ec=(0,d.s)(!1)}}function i0(t,e){(0,d.Y)(t,"data-focus",e),(0,d.Y)(t,"data-hocus",e)}function i1(t,e){(0,d.Y)(t,"data-hocus",e),(0,d.Y)(t,"data-hover",e)}var i2=Object.defineProperty,i3=Object.getOwnPropertyDescriptor,i5=(t,e,i,s)=>{for(var a,n=s>1?void 0:s?i3(e,i):e,r=t.length-1;r>=0;r--)(a=t[r])&&(n=(s?a(e,i,n):a(n))||n);return s&&n&&i2(e,i,n),n};let i4=class t extends d.W{get p(){return this.a.$provider()}get wd(){return this.$props}onSetup(){this.sk(),(0,d.e)(this.tk.bind(this)),(0,d.e)(this.uk.bind(this)),(0,d.e)(this.gc.bind(this)),(0,d.e)(this.Gc.bind(this)),(0,d.e)(this.Rb.bind(this)),(0,d.e)(this.Ne.bind(this)),(0,d.e)(this.Re.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),eP(t,"tabindex","0"),eP(t,"role","region"),(0,d.e)(this.vk.bind(this)),E?this.ud():(0,d.e)(this.ud.bind(this)),E?this.Zg():(0,d.e)(this.Zg.bind(this)),(0,d.l)(t,"find-media-player",this.wk.bind(this))}onConnect(t){q&&(0,d.Y)(t,"data-iphone","");let e=window.matchMedia("(pointer: coarse)");this._g(e),e.onchange=this._g.bind(this);let i=new ResizeObserver((0,d.b)(this.qa.bind(this)));i.observe(t),(0,d.e)(this.qa.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),(0,d.v)(()=>{i.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.A()}ud(){let t=this.$el,{title:e,live:i,viewType:s,providedTitle:a}=this.$state,n=i(),r=(0,d.w)(s()),l="Unknown"!==r?"".concat(n?"Live ":"").concat(r):n?"Live":"Media",h=e();(0,d.Y)(this.el,"aria-label","".concat(l," Player")+(h?" - ".concat(h):"")),!E&&(null==t?void 0:t.hasAttribute("title"))&&(this.Se=!0,null==t||t.removeAttribute("title"))}Zg(){let t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),(0,d.Y)(this.el,"data-orientation",t),this.qa()}tk(){this.$state.canPlay()&&this.p?this.canPlayQueue.Ya():this.canPlayQueue.aa()}sk(){if(t[iR]){this.setAttributes(t[iR]);return}let e={"data-load":function(){return this.$props.load()},"data-captions":function(){let t=this.$state.textTrack();return!!t&&tw(t)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:t,canPlay:e,waiting:i}=this.$state;return t()&&(!e()||i())},"data-error":function(){let{error:t}=this.$state;return!!t()},"data-autoplay-error":function(){let{autoPlayError:t}=this.$state;return!!t()}},i={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let t of iW){var s;e["data-"+(null!==(s=i[t])&&void 0!==s?s:(0,d.m)(t))]=function(){return this.$state[t]()}}delete e.title,t[iR]=e,this.setAttributes(e)}wk(t){t.detail(this)}qa(){if(E||!this.el)return;let t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),(0,d._)(this.el,"--player-width",t+"px"),(0,d._)(this.el,"--player-height",e+"px")}_g(t){if(E)return;let e=t.matches?"coarse":"fine";(0,d.Y)(this.el,"data-pointer",e),this.$state.pointer.set(e),this.qa()}get provider(){return this.p}get controls(){return this.X.zc}set controls(t){this.wd.controls.set(t)}get title(){return(0,d.p)(this.$state.providedTitle)}set title(t){if(this.Se){this.Se=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.wd.duration.set(t)}get paused(){return(0,d.p)(this.$state.paused)}set paused(t){this.$g(t)}gc(){this.$g(this.$props.paused())}$g(t){t?this.canPlayQueue.k("paused",()=>this.X.Fe()):this.canPlayQueue.k("paused",()=>this.X.Bc())}get muted(){return(0,d.p)(this.$state.muted)}set muted(t){this.wd.muted.set(t)}uk(){this.xk(this.$props.muted())}xk(t){this.canPlayQueue.k("muted",()=>{this.p&&this.p.setMuted(t)})}get currentTime(){return(0,d.p)(this.$state.currentTime)}set currentTime(t){this.ah(t)}Rb(){this.ah(this.$props.currentTime())}ah(t){this.canPlayQueue.k("currentTime",()=>{let{currentTime:e,clipStartTime:i,seekableStart:s,seekableEnd:a}=this.$state;t!==(0,d.p)(e)&&(0,d.p)(()=>{if(!this.p)return;let e=t+i(),n=Math.floor(e)===Math.floor(a())?a():Math.min(Math.max(s()+.1,e),a()-.1);Number.isFinite(n)&&this.p.setCurrentTime(n)})})}get volume(){return(0,d.p)(this.$state.volume)}set volume(t){this.wd.volume.set(t)}Gc(){this.yk(this.$props.volume())}yk(t){let e=ek(0,t,1);this.canPlayQueue.k("volume",()=>{this.p&&this.p.setVolume(e)})}get playbackRate(){return(0,d.p)(this.$state.playbackRate)}set playbackRate(t){this.bh(t)}Re(){this.bh(this.$props.playbackRate())}bh(t){this.canPlayQueue.k("rate",()=>{var e,i;this.p&&(null===(e=(i=this.p).setPlaybackRate)||void 0===e||e.call(i,t))})}Ne(){this.zk(this.$props.playsInline())}zk(t){this.canPlayQueue.k("playsinline",()=>{var e,i;this.p&&(null===(e=(i=this.p).setPlaysInline)||void 0===e||e.call(i,t))})}vk(){let t=this.$props.storage(),e=(0,d.i)(t)?new eR:t;if(null==e?void 0:e.onChange){var i;let{source:s}=this.$state,a=(0,d.i)(t)?t:null===(i=this.el)||void 0===i?void 0:i.id,n=(0,d.L)(this.Ak.bind(this));(0,d.e)(()=>e.onChange(s(),n(),a||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),(0,d.v)(()=>{var t;null==e||null===(t=e.onDestroy)||void 0===t||t.call(e),this.a.storage=null,this.a.textTracks.setStorage(null)})}Ak(){let{clipStartTime:t,clipEndTime:e}=this.$props,{source:i}=this.$state,s=i();return s.src?"".concat(s.src,":").concat(t(),":").concat(e()):null}async play(t){return this.X.Bc(t)}async pause(t){return this.X.Fe(t)}async enterFullscreen(t,e){return this.X.Kg(t,e)}async exitFullscreen(t,e){return this.X.Mg(t,e)}enterPictureInPicture(t){return this.X.Ie(t)}exitPictureInPicture(t){return this.X.He(t)}seekToLiveEdge(t){this.X.Jg(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.X.Og(t)}requestGoogleCast(t){return this.X.Pg(t)}setAudioGain(t,e){return this.X.Ig(t,e)}destroy(){super.destroy(),this.a.remote.setPlayer(null),this.dispatch("destroy")}constructor(){super(),this.canPlayQueue=new iY,this.Se=!1,new iQ;let t={player:this,qualities:new eB,audioTracks:new eK,storage:null,$provider:(0,d.s)(null),$providerSetup:(0,d.s)(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new tM(void 0),t.remote.setPlayer(this),t.textTracks=new eH,t.textTracks[tg.Eb]=this.$state.crossOrigin,t.textRenderers=new eV(t),t.ariaKeys={},this.a=t,(0,d.a2)(tq,t),this.orientation=new N,new iJ,new eJ(t);let e=new iB;this.Ca=new i_(e,t),this.X=new iG(this.Ca,e,t),t.delegate=new iN(this.Ca.W.bind(this.Ca),t),"undefined"!=typeof navigator&&"mediaSession"in navigator&&new iX,new iV("load",this.startLoading.bind(this)),new iV("posterLoad",this.startLoadingPoster.bind(this))}};i4.props={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:{togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},storage:null},i4.state=tk,i5([d.a3],i4.prototype,"canPlayQueue",2),i5([d.a3],i4.prototype,"remoteControl",2),i5([d.a3],i4.prototype,"provider",1),i5([d.a3],i4.prototype,"controls",1),i5([d.a3],i4.prototype,"orientation",2),i5([d.a3],i4.prototype,"title",1),i5([d.a3],i4.prototype,"qualities",1),i5([d.a3],i4.prototype,"audioTracks",1),i5([d.a3],i4.prototype,"textTracks",1),i5([d.a3],i4.prototype,"textRenderers",1),i5([d.a3],i4.prototype,"duration",1),i5([d.a3],i4.prototype,"paused",1),i5([d.a3],i4.prototype,"muted",1),i5([d.a3],i4.prototype,"currentTime",1),i5([d.a3],i4.prototype,"volume",1),i5([d.a3],i4.prototype,"playbackRate",1),i5([d.a4],i4.prototype,"play",1),i5([d.a4],i4.prototype,"pause",1),i5([d.a4],i4.prototype,"enterFullscreen",1),i5([d.a4],i4.prototype,"exitFullscreen",1),i5([d.a4],i4.prototype,"enterPictureInPicture",1),i5([d.a4],i4.prototype,"exitPictureInPicture",1),i5([d.a4],i4.prototype,"seekToLiveEdge",1),i5([d.a4],i4.prototype,"startLoading",1),i5([d.a4],i4.prototype,"startLoadingPoster",1),i5([d.a4],i4.prototype,"requestAirPlay",1),i5([d.a4],i4.prototype,"requestGoogleCast",1),i5([d.a4],i4.prototype,"setAudioGain",1);let i7=i4,i9=new Map;class i6{get c(){return this.a.delegate.c}connect(){let t=this.Y();this.Te&&(this.ch(this.a.$state.source(),t),this.dh(t),this.Te=!1),(0,d.e)(this.Bk.bind(this)),(0,d.e)(this.Ck.bind(this)),(0,d.e)(this.Dk.bind(this)),(0,d.e)(this.Ek.bind(this)),(0,d.e)(this.Fk.bind(this))}Bk(){this.c("sources-change",[...i8(this.a.$props.src()),...this.xd()])}Ck(){var t;let{$state:e}=this.a,i=e.sources(),s=(0,d.p)(e.source),a=this.eh(s,i);if((null===(t=i[0])||void 0===t?void 0:t.src)&&!a.src&&!a.type){let{crossOrigin:t}=e,s=tn(t()),a=new AbortController;return Promise.all(i.map(t=>(0,d.i)(t.src)&&"?"===t.type?fetch(t.src,{method:"HEAD",credentials:s,signal:a.signal}).then(e=>(t.type=e.headers.get("content-type")||"??",i9.set(t.src,t.type),t)).catch(()=>t):t)).then(t=>{a.signal.aborted||(this.eh((0,d.p)(e.source),t),(0,d.t)())}),()=>a.abort()}(0,d.t)()}eh(t,e){let i={src:"",type:""},s=null,a=new d.D("sources-change",{detail:{sources:e}}),n=this.Ue(),{started:r,paused:l,currentTime:h,quality:o,savedState:u}=this.a.$state;for(let t of e){let e=n.find(e=>e.canPlay(t));if(e){i=t,s=e;break}}if(tl(i)){let t=o(),s=e.find(e=>e.src===(null==t?void 0:t.src));(0,d.p)(r)?u.set({paused:(0,d.p)(l),currentTime:(0,d.p)(h)}):u.set(null),s&&(i=s,a=new d.D("quality-change",{detail:{quality:t}}))}return se(t,i)||this.ch(i,s,a),s!==(0,d.p)(this.Y)&&this.dh(s,a),i}ch(t,e,i){this.c("source-change",t,i),this.c("media-type-change",(null==e?void 0:e.mediaType(t))||"unknown",i)}dh(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&(0,d.p)(()=>{var e;return null===(e=t.preconnect)||void 0===e?void 0:e.call(t,this.a)}),this.Y.set(t),this.c("provider-loader-change",t,e)}Dk(){let t=this.a.$provider();if(!(!t||(0,d.p)(this.a.$providerSetup))){if(this.a.$state.canLoad()){(0,d.a)(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}(0,d.p)(()=>{var e;return null===(e=t.preconnect)||void 0===e?void 0:e.call(t)})}}Ek(){if(!this.a.$providerSetup())return;let t=this.a.$provider(),e=this.a.$state.source(),i=(0,d.p)(this.a.$state.crossOrigin),s=(0,d.p)(this.a.$props.preferNativeHLS);if(!se(null==t?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){let a=new AbortController;return Z(e)?(s||!V())&&(function t(e,i){return fetch(e,i).then(t=>t.text()).then(s=>{let a=function(t){let e=t.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return e?e[0].split("\n")[1].trim():null}(s);if(a)return t(/^https?:/.test(a)?a:new URL(a,e).href,i);let n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(s)?"on-demand":"live";return"live"===n&&function(t){for(let e of t.split("\n"))if(e.startsWith("#EXT-X-TARGETDURATION")){let t=parseFloat(e.split(":")[1]);if(!isNaN(t))return t}return -1}(s)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(s)||s.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})})(e.src,{credentials:tn(i),signal:a.signal}).then(t=>{this.c("stream-type-change",t)}).catch(d.A):J(e)?fetch(e.src,{credentials:tn(i),signal:a.signal}).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live").then(t=>{this.c("stream-type-change",t)}).catch(d.A):this.c("stream-type-change","on-demand"),(0,d.p)(()=>{let i=(0,d.p)(this.a.$state.preload);return null==t?void 0:t.loadSource(e,i).catch(t=>{})}),()=>a.abort()}try{(0,d.i)(e.src)&&ti(new URL(e.src).origin)}catch(t){}}}Fk(){let t=this.Y(),{providedPoster:e,source:i,canLoadPoster:s}=this.a.$state;if(!t||!t.loadPoster||!i()||!s()||e())return;let a=new AbortController,n=new d.D("source-change",{detail:i});return t.loadPoster(i(),this.a,a).then(t=>{this.c("poster-change",t||"",n)}).catch(()=>{this.c("poster-change","",n)}),()=>{a.abort()}}constructor(t,e,i,s=[]){this.xd=t,this.a=e,this.Y=i,this.Te=!1;let a=new iL,n=new ij,r=new ie,l=new it,h=[new iI,new iF];this.Ue=(0,d.L)(()=>{let t=e.$state.remotePlaybackLoader(),i=e.$props.preferNativeHLS()?[r,l,a,n,...h,...s]:[n,r,l,a,...h,...s];return t?[t,...i]:i});let{$state:o}=e;for(let t of(o.sources.set(i8(e.$props.src())),o.sources())){let e=this.Ue().find(e=>e.canPlay(t));if(!e)continue;let i=e.mediaType(t);this.a.$state.source.set(t),this.a.$state.mediaType.set(i),this.a.$state.inferredViewType.set(i),this.Y.set(e),this.Te=!0}}}function i8(t){return((0,d.g)(t)?t:[t]).map(t=>(0,d.i)(t)?{src:t,type:st(t)}:{...t,type:st(t.src,t.type)}).sort(t=>"?"===t.type?1:-1)}function st(t,e){if((0,d.i)(e)&&e.length)return e;if((0,d.i)(t)&&i9.has(t))return i9.get(t);if(!e&&Z({src:t,type:""}))return"application/x-mpegurl";if(!e&&J({src:t,type:""}))return"application/dash+xml";if(!(0,d.i)(t)||t.startsWith("blob:"))return"video/object";if(t.includes("youtube")||t.includes("youtu.be"))return"video/youtube";if(t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8"))return"video/vimeo";return"?"}function se(t,e){return(null==t?void 0:t.src)===(null==e?void 0:e.src)&&(null==t?void 0:t.type)===(null==e?void 0:e.type)}class si{Gk(){let t=this.yd();for(let e of this.fh)if(!t.some(t=>t.id===e.id)){let t=e.id&&this.a.textTracks.getById(e.id);t&&this.a.textTracks.remove(t)}for(let e of t){let t=e.id||tv.createId(e);this.a.textTracks.getById(t)||(e.id=t,this.a.textTracks.add(e))}this.fh=t}constructor(t,e){this.yd=t,this.a=e,this.fh=[],(0,d.e)(this.Gk.bind(this))}}var ss=Object.defineProperty,sa=Object.getOwnPropertyDescriptor;class sn extends d.W{onSetup(){this.a=tO(),this.gh=new i6(this.xd,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.gh.connect(),new si(this.yd,this.a);let e=new ResizeObserver((0,d.b)(this.qa.bind(this)));e.observe(t);let i=new MutationObserver(this.Hc.bind(this));i.observe(t,{attributes:!0,childList:!0}),this.qa(),this.Hc(),(0,d.v)(()=>{e.disconnect(),i.disconnect()})}load(t){window.cancelAnimationFrame(this.Ve),this.Ve=requestAnimationFrame(()=>this.Hk(t)),(0,d.v)(()=>{window.cancelAnimationFrame(this.Ve)})}Hk(t){if(!this.scope)return;let e=this.$state.loader(),{$provider:i}=this.a;!(this.Y===e&&(null==e?void 0:e.target)===t&&(0,d.p)(i))&&(this.hh(),this.Y=e,e&&(e.target=t||null),e&&t&&e.load(this.a).then(t=>{this.scope&&(0,d.p)(this.$state.loader)===e&&this.a.delegate.c("provider-change",t)}))}onDestroy(){this.Y=null,this.hh()}hh(){this.a.delegate.c("provider-change",null)}qa(){if(!this.el)return;let{player:t,$state:e}=this.a,i=this.el.offsetWidth,s=this.el.offsetHeight;t&&(e.mediaWidth.set(i),e.mediaHeight.set(s),t.el&&((0,d._)(t.el,"--media-width",i+"px"),(0,d._)(t.el,"--media-height",s+"px")))}Hc(){let t=[],e=[];for(let i of this.el.children)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){let e={id:i.id,src:i.src,type:i.type};for(let t of["id","src","width","height","bitrate","codec"]){let s=i.getAttribute("data-".concat(t));(0,d.i)(s)&&(e[t]=/id|src|codec/.test(t)?s:Number(s))}t.push(e)}else if(i instanceof HTMLTrackElement){let t={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||tv.createId(t),...t})}}this.xd.set(t),this.yd.set(e),(0,d.t)()}constructor(){super(...arguments),this.xd=(0,d.s)([]),this.yd=(0,d.s)([]),this.Y=null,this.Ve=-1}}function sr(t,e){let i=String(t),s=i.length;if(s<e){let i="0".repeat(e-s);return"".concat(i).concat(t)}return i}function sl(t){let e=Number((t-Math.trunc(t)).toPrecision(3));return{hours:Math.trunc(t/3600),minutes:Math.trunc(t%3600/60),seconds:Math.trunc(t%60),fraction:e}}function sh(t){let{padHrs:e=null,padMins:i=null,showHrs:s=!1,showMs:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hours:n,minutes:r,seconds:l,fraction:h}=sl(t),o=e?sr(n,2):n,u=i||(0,d.R)(i)&&t>=3600?sr(r,2):r,c=sr(l,2),p=a&&h>0?".".concat(String(h).replace(/^0?\./,"")):"",f="".concat(u,":").concat(c).concat(p);return n>0||s?"".concat(o,":").concat(f):f}function so(t){let e=[],{hours:i,minutes:s,seconds:a}=sl(t);return i>0&&e.push("".concat(i," hour")),s>0&&e.push("".concat(s," min")),(a>0||0===e.length)&&e.push("".concat(a," sec")),e.join(" ")}sn.props={loaders:[]},sn.state=new d.T({loader:null}),((t,e,i,s)=>{for(var a,n=sa(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&ss(e,i,n)})([d.a4],sn.prototype,"load");class sd extends d.W{onSetup(){this.a=tO()}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),eP(t,"role","status"),eP(t,"aria-live","polite");let{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),this.We=!0,(0,d.e)(this.gc.bind(this)),(0,d.e)(this.Gc.bind(this)),(0,d.e)(this.Ik.bind(this)),(0,d.e)(this.Jk.bind(this)),(0,d.e)(this.Kk.bind(this)),(0,d.e)(this.Lk.bind(this)),(0,d.e)(this.Mk.bind(this)),(0,d.t)(),this.We=!1}gc(){let{paused:t}=this.a.$state;this.Sb(t()?"Pause":"Play")}Jk(){let{fullscreen:t}=this.a.$state;this.Sb(t()?"Enter Fullscreen":"Exit Fullscreen")}Kk(){let{pictureInPicture:t}=this.a.$state;this.Sb(t()?"Enter PiP":"Exit PiP")}Ik(){let{textTrack:t}=this.a.$state;this.Sb(t()?"Closed-Captions On":"Closed-Captions Off")}Gc(){var t;let{muted:e,volume:i,audioGain:s}=this.a.$state;this.Sb(e()||0===i()?"Mute":"".concat(Math.round(i()*(null!==(t=s())&&void 0!==t?t:1)*100),"% ").concat(this.Xe("Volume")))}Lk(){let{seeking:t,currentTime:e}=this.a.$state,i=t();this.Ic>0?(window.clearTimeout(this.Ye),this.Ye=window.setTimeout(()=>{let t=(0,d.p)(e),i=Math.abs(t-this.Ic);if(i>=1){let e=t>=this.Ic,s=so(i);this.Sb("".concat(this.Xe(e?"Seek Forward":"Seek Backward")," ").concat(s))}this.Ic=-1,this.Ye=-1},300)):i&&(this.Ic=(0,d.p)(e))}Xe(t){var e,i;let{translations:s}=this.$props;return null!==(i=null==s?void 0:null===(e=s())||void 0===e?void 0:e[t||""])&&void 0!==i?i:t}Mk(){let{label:t,busy:e}=this.$state,i=this.Xe(t());if(this.We)return;e.set(!0);let s=window.setTimeout(()=>void e.set(!1),150);return this.el&&(0,d.Y)(this.el,"aria-label",i),(0,d.i)(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(s)}Sb(t){let{label:e}=this.$state;e.set(t)}constructor(){super(...arguments),this.We=!1,this.Ic=-1,this.Ye=-1}}sd.props={translations:null},sd.state=new d.T({label:null,busy:!1});class su extends d.W{onSetup(){this.a=tO(),(0,d.e)(this.Nk.bind(this))}onAttach(t){let{pictureInPicture:e,fullscreen:i}=this.a.$state;(0,d._)(t,"pointer-events","none"),eP(t,"role","group"),this.setAttributes({"data-visible":this.ih.bind(this),"data-fullscreen":i,"data-pip":e}),(0,d.e)(()=>{this.dispatch("change",{detail:this.ih()})}),(0,d.e)(this.Ok.bind(this)),(0,d.e)(()=>{let e=i();for(let i of["top","right","bottom","left"])(0,d._)(t,"padding-".concat(i),e&&"env(safe-area-inset-".concat(i,")"))})}Ok(){if(!this.el)return;let{nativeControls:t}=this.a.$state,e=t();(0,d.Y)(this.el,"aria-hidden",e?"true":null),(0,d._)(this.el,"display",e?"none":null)}Nk(){let{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:i}=this.$props;t.defaultDelay=2e3===e()?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=i()}ih(){let{controlsVisible:t}=this.a.$state;return t()}}su.props={hideDelay:2e3,hideOnMouseLeave:!1};class sc extends d.W{onAttach(t){t.style.pointerEvents||(0,d._)(t,"pointer-events","auto")}}class sp extends d.V{onDestroy(){var t;null===(t=this.xb)||void 0===t||t.call(this),this.xb=null}Pk(){let t=this.j.N();if(!t){this.hide();return}let e=this.show.bind(this),i=this.hide.bind(this);this.j.zd(t,e,i)}show(t){var e,i,s,a;this.Ze(),window.cancelAnimationFrame(this.Bd),this.Bd=-1,null===(e=this.xb)||void 0===e||e.call(this),this.xb=null,this.Ad=window.setTimeout(()=>{this.Ad=-1;let e=this.j.q();e&&e.style.removeProperty("display"),(0,d.p)(()=>this.j.F(!0,t))},null!==(a=null===(i=(s=this.j).jh)||void 0===i?void 0:i.call(s))&&void 0!==a?a:0)}hide(t){this.Ze(),(0,d.p)(()=>this.j.F(!1,t)),this.Bd=requestAnimationFrame(()=>{this.Ze(),this.Bd=-1;let t=this.j.q();if(t){let i=()=>{t.style.display="none",this.xb=null};if("none"!==getComputedStyle(t).animationName){var e;null===(e=this.xb)||void 0===e||e.call(this);let s=(0,d.l)(t,"animationend",i,{once:!0});this.xb=s}else i()}})}Ze(){window.clearTimeout(this.Ad),this.Ad=-1}constructor(t){super(),this.j=t,this.Ad=-1,this.Bd=-1,this.xb=null,(0,d.e)(this.Pk.bind(this))}}let sf=(0,d.U)(),sg=0;class sb extends d.W{onAttach(t){t.style.setProperty("display","contents")}onSetup(){(0,d.a2)(sf,{N:this.N,q:this.q,_e:this._e.bind(this),$e:this.$e.bind(this),af:this.af.bind(this),bf:this.bf.bind(this)})}_e(t){this.N.set(t);let e=t.getAttribute("data-media-tooltip");if(e){var i;null===(i=this.el)||void 0===i||i.setAttribute("data-media-".concat(e,"-tooltip"),"")}(0,d.Y)(t,"data-describedby",this.za)}$e(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.N.set(null)}af(t){t.setAttribute("id",this.za),t.style.display="none",eP(t,"role","tooltip"),this.q.set(t)}bf(t){t.removeAttribute("id"),t.removeAttribute("role"),this.q.set(null)}Qk(t){let e=this.N(),i=this.q();for(let s of(e&&(0,d.Y)(e,"aria-describedby",t?this.za:null),[this.el,e,i]))s&&(0,d.Y)(s,"data-visible",t)}constructor(){super(),this.za="media-tooltip-".concat(++sg),this.N=(0,d.s)(null),this.q=(0,d.s)(null),new iJ;let{showDelay:t}=this.$props;new sp({N:this.N,q:this.q,jh:t,zd(t,e,i){(0,d.l)(t,"touchstart",t=>t.preventDefault(),{passive:!1}),(0,d.e)(()=>{iZ()&&(0,d.l)(t,"focus",e),(0,d.l)(t,"blur",i)}),(0,d.l)(t,"mouseenter",e),(0,d.l)(t,"mouseleave",i)},F:this.Qk.bind(this)})}}sb.props={showDelay:700};class sm extends d.W{onConnect(t){(0,d.v)(eM(()=>{if(!this.connectScope)return;this.yb();let t=(0,d.O)(sf);(0,d.v)(()=>{let e=this.Cd();e&&t.$e(e)})}))}yb(){let t=this.Cd(),e=(0,d.O)(sf);t&&e._e(t)}Cd(){let t=this.el.firstElementChild;return(null==t?void 0:t.localName)==="button"||(null==t?void 0:t.getAttribute("role"))==="button"?t:this.el}constructor(){super(),new iJ}}class sv extends d.W{onAttach(t){this.yb(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.yb(t);let e=(0,d.O)(sf);(0,d.v)(()=>e.bf(t)),(0,d.v)(eM(()=>{this.connectScope&&(0,d.e)(this.cf.bind(this))}))}yb(t){(0,d.O)(sf).af(t)}cf(){let{placement:t,offset:e,alignOffset:i}=this.$props;return eD(this.el,this.Rk(),t(),{offsetVarName:"media-tooltip",xOffset:i(),yOffset:e()})}Rk(){return(0,d.O)(sf).N()}constructor(){super(),new iJ;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}sv.props={placement:"top center",offset:0,alignOffset:0};class sy extends d.V{onSetup(){let{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.o,"aria-pressed":this.Sk.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){eP(t,"tabindex","0"),eP(t,"role","button"),eP(t,"type","button")}onConnect(t){for(let e of(eq(t,this.Tk.bind(this)),["click","touchstart"]))this.listen(e,this.Uk.bind(this))}Sk(){return(0,d.a5)(this.j.o())}Vk(t){(0,d.a6)(this.j.o)&&this.j.o.set(t=>!t)}Tk(t){var e;if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(null!==(e=this.j.s)&&void 0!==e?e:this.Vk).call(this,t)}Uk(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}constructor(t){super(),this.j=t,new iJ,t.Tb&&new e1(t.Tb)}}sy.props={disabled:!1};var sw=Object.defineProperty,sk=Object.getOwnPropertyDescriptor;class s$ extends d.W{get pressed(){return this.kh()}constructor(){super(),this.kh=(0,d.s)(!1),new sy({o:this.kh})}}function sx(t){return()=>t()?"true":"false"}s$.props={disabled:!1,defaultPressed:!1},((t,e,i,s)=>{for(var a,n=sk(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&sw(e,i,n)})([d.a3],s$.prototype,"pressed");class sT extends d.W{onSetup(){this.a=tO();let{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Jc.bind(this),"aria-hidden":sx(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),eS(t,this.Kc.bind(this))}s(t){this.a.remote.requestAirPlay(t)}o(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"airplay"===t()&&"disconnected"!==e()}Jc(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"airplay"===t()&&e()}Kc(){let{remotePlaybackState:t}=this.a.$state;return"AirPlay ".concat(t())}constructor(){super(),new sy({o:this.o.bind(this),s:this.s.bind(this)})}}sT.props=sy.props;class sP extends d.W{onSetup(){this.a=tO();let{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Jc.bind(this),"aria-hidden":sx(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),eS(t,this.Kc.bind(this))}s(t){this.a.remote.requestGoogleCast(t)}o(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"google-cast"===t()&&"disconnected"!==e()}Jc(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"google-cast"===t()&&e()}Kc(){let{remotePlaybackState:t}=this.a.$state;return"Google Cast ".concat(t())}constructor(){super(),new sy({o:this.o.bind(this),s:this.s.bind(this)})}}sP.props=sy.props;class sS extends d.W{onSetup(){this.a=tO();let{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),eS(t,"Play")}s(t){let e=this.a.remote;this.o()?e.pause(t):e.play(t)}o(){let{paused:t}=this.a.$state;return!t()}constructor(){super(),new sy({o:this.o.bind(this),Tb:"togglePaused",s:this.s.bind(this)})}}sS.props=sy.props;class sE extends d.W{onSetup(){this.a=tO(),this.setAttributes({"data-active":this.o.bind(this),"data-supported":()=>!this.Ub(),"aria-hidden":sx(this.Ub.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),eS(t,"Captions")}s(t){this.a.remote.toggleCaptions(t)}o(){let{textTrack:t}=this.a.$state,e=t();return!!e&&tw(e)}Ub(){let{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),new sy({o:this.o.bind(this),Tb:"toggleCaptions",s:this.s.bind(this)})}}sE.props=sy.props;class sA extends d.W{onSetup(){this.a=tO();let{fullscreen:t}=this.a.$state,e=this.Lc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":sx(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),eS(t,"Fullscreen")}s(t){let e=this.a.remote,i=this.$props.target();this.o()?e.exitFullscreen(i,t):e.enterFullscreen(i,t)}o(){let{fullscreen:t}=this.a.$state;return t()}Lc(){let{canFullscreen:t}=this.a.$state;return t()}constructor(){super(),new sy({o:this.o.bind(this),Tb:"toggleFullscreen",s:this.s.bind(this)})}}sA.props={...sy.props,target:"prefer-media"};class sC extends d.W{onSetup(){this.a=tO(),this.setAttributes({"data-muted":this.o.bind(this),"data-state":this.Jc.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),eS(t,"Mute")}s(t){let e=this.a.remote;this.o()?e.unmute(t):e.mute(t)}o(){let{muted:t,volume:e}=this.a.$state;return t()||0===e()}Jc(){let{muted:t,volume:e}=this.a.$state,i=e();return t()||0===i?"muted":i>=.5?"high":i<.5?"low":void 0}constructor(){super(),new sy({o:this.o.bind(this),Tb:"toggleMuted",s:this.s.bind(this)})}}sC.props=sy.props;class sq extends d.W{onSetup(){this.a=tO();let{pictureInPicture:t}=this.a.$state,e=this.Lc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":sx(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),eS(t,"PiP")}s(t){let e=this.a.remote;this.o()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}o(){let{pictureInPicture:t}=this.a.$state;return t()}Lc(){let{canPictureInPicture:t}=this.a.$state;return t()}constructor(){super(),new sy({o:this.o.bind(this),Tb:"togglePictureInPicture",s:this.s.bind(this)})}}sq.props=sy.props;class sO extends d.W{onSetup(){this.a=tO();let{seeking:t}=this.a.$state,{seconds:e}=this.$props,i=this.Lc.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":i,"aria-hidden":sx(()=>!i())})}onAttach(t){eP(t,"tabindex","0"),eP(t,"role","button"),eP(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),eS(t,this.Kc.bind(this))}onConnect(t){eq(t,this.s.bind(this))}Lc(){let{canSeek:t}=this.a.$state;return t()}Kc(){let{seconds:t}=this.$props;return"Seek ".concat(t()>0?"forward":"backward"," ").concat(t()," seconds")}s(t){let{seconds:e,disabled:i}=this.$props;if(i())return;let{currentTime:s}=this.a.$state,a=s()+e();this.a.remote.seek(a,t)}constructor(){super(),new iJ}}sO.props={disabled:!1,seconds:30};class sM extends d.W{onSetup(){this.a=tO();let{disabled:t}=this.$props,{live:e,liveEdge:i}=this.a.$state,s=()=>!e();this.setAttributes({"data-edge":i,"data-hidden":s,"aria-disabled":sx(()=>t()||i()),"aria-hidden":sx(s)})}onAttach(t){eP(t,"tabindex","0"),eP(t,"role","button"),eP(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){eq(t,this.s.bind(this))}s(t){let{disabled:e}=this.$props,{liveEdge:i}=this.a.$state;e()||i()||this.a.remote.seekToLiveEdge(t)}constructor(){super(),new iJ}}sM.props={disabled:!1};let sD=new d.T({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return sL(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return sL(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function sL(t,e,i){let s=e-t;return s>0?(i-t)/s:0}class sj extends d.V{onConnect(t){this.Sa=new IntersectionObserver(t=>{var e,i;null===(e=(i=this.Ib).callback)||void 0===e||e.call(i,t,this.Sa)},this.Ib),this.Sa.observe(t),(0,d.v)(this.Wk.bind(this))}Wk(){var t;null===(t=this.Sa)||void 0===t||t.disconnect(),this.Sa=void 0}constructor(t){super(),this.Ib=t}}let sF=(0,d.U)(),sI=(0,d.U)(),sR={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class sW extends d.V{onSetup(){(0,d.a7)(sI)&&(this.Sa=(0,d.O)(sI))}onConnect(){(0,d.e)(this.Xk.bind(this)),(0,d.e)(this.Yk.bind(this)),this.j.lh&&(0,d.e)(this.Zk.bind(this))}Zk(){var t;let{pointer:e}=this.a.$state;if("coarse"!==e()||!this.j.lh()){this.p=null;return}this.p=null===(t=this.a.player.el)||void 0===t?void 0:t.querySelector("media-provider,[data-media-provider]"),this.p&&((0,d.l)(this.p,"touchstart",this._k.bind(this),{passive:!0}),(0,d.l)(this.p,"touchmove",this.$k.bind(this),{passive:!1}))}_k(t){this.db=t.touches[0]}$k(t){if((0,d.R)(this.db)||eO(t))return;let e=t.touches[0],i=e.clientX-this.db.clientX,s=e.clientY-this.db.clientY,a=this.$state.dragging();!a&&Math.abs(s)>5||a||(t.preventDefault(),Math.abs(i)>20&&(this.db=e,this.Vb=this.$state.value(),this.df(this.Vb,t)))}Xk(){let{hidden:t}=this.$props;this.listen("focus",this.Fc.bind(this)),this.listen("keydown",this.jc.bind(this)),this.listen("keyup",this.ic.bind(this)),t()||this.j.z()||(this.listen("pointerenter",this.Pe.bind(this)),this.listen("pointermove",this.al.bind(this)),this.listen("pointerleave",this.Qe.bind(this)),this.listen("pointerdown",this.bl.bind(this)))}Yk(){!this.j.z()&&this.$state.dragging()&&((0,d.l)(document,"pointerup",this.cl.bind(this),{capture:!0}),(0,d.l)(document,"pointermove",this.dl.bind(this)),(0,d.l)(document,"touchmove",this.fl.bind(this),{passive:!1}))}Fc(){this.eb(this.$state.value())}ef(t,e){var i,s,a,n;let{value:r,min:l,max:h,dragging:o}=this.$state,d=Math.max(l(),Math.min(t,h()));r.set(d);let u=this.createEvent("value-change",{detail:d,trigger:e});if(this.dispatch(u),null===(i=(s=this.j).l)||void 0===i||i.call(s,u),o()){let t=this.createEvent("drag-value-change",{detail:d,trigger:e});this.dispatch(t),null===(a=(n=this.j).T)||void 0===a||a.call(n,t)}}eb(t,e){let{pointerValue:i,dragging:s}=this.$state;i.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),s()&&this.ef(t,e)}Dd(t){var e,i,s,a;let n,r=this.el.getBoundingClientRect(),{min:l,max:h}=this.$state;if("vertical"===this.$props.orientation()){let{bottom:e,height:i}=r;n=(e-t.clientY)/i}else if(this.db&&(0,d.j)(this.Vb)){let{width:e}=this.p.getBoundingClientRect(),i=(t.clientX-this.db.clientX)/e,s=h()-l(),a=s*Math.abs(i);n=(i<0?this.Vb-a:this.Vb+a)/s}else{let{left:e,width:i}=r;n=(t.clientX-e)/i}return Math.max(l(),Math.min(h(),this.j.Ea((e=l(),i=h(),s=n,e+(a=this.j.ra())*Math.round((i-e)*ek(0,s,1)/a)))))}Pe(t){this.$state.pointing.set(!0)}al(t){let{dragging:e}=this.$state;e()||this.eb(this.Dd(t),t)}Qe(t){this.$state.pointing.set(!1)}bl(t){if(0!==t.button)return;let e=this.Dd(t);this.df(e,t),this.eb(e,t)}df(t,e){var i,s,a,n;let{dragging:r}=this.$state;if(r())return;r.set(!0),this.a.remote.pauseControls(e);let l=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(l),null===(i=(s=this.j).ff)||void 0===i||i.call(s,l),null===(n=this.Sa)||void 0===n||null===(a=n.onDragStart)||void 0===a||a.call(n)}mh(t,e){var i,s,a,n;let{dragging:r}=this.$state;if(!r())return;r.set(!1),this.a.remote.resumeControls(e);let l=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(l),null===(i=(s=this.j).Ed)||void 0===i||i.call(s,l),this.db=null,this.Vb=null,null===(n=this.Sa)||void 0===n||null===(a=n.onDragEnd)||void 0===a||a.call(n)}jc(t){if(!Object.keys(sR).includes(t.key))return;let{key:e}=t,i=this.Ln(t);if(!(0,d.R)(i)){this.eb(i,t),this.ef(i,t);return}let s=this.Mn(t);this.Kn||(this.Kn=e===this.gf,!this.$state.dragging()&&this.Kn&&this.df(s,t)),this.eb(s,t),this.gf=e}ic(t){if(!Object.keys(sR).includes(t.key)||!(0,d.R)(this.Ln(t)))return;let e=this.Kn?this.$state.pointerValue():this.Mn(t);this.ef(e,t),this.mh(e,t),this.gf="",this.Kn=!1}Ln(t){let e=t.key,{min:i,max:s}=this.$state;return"Home"===e||"PageUp"===e?i():"End"===e||"PageDown"===e?s():!t.metaKey&&/^[0-9]$/.test(e)?(s()-i())/10*Number(e):null}Mn(t){var e,i,s;let{key:a,shiftKey:n}=t;t.preventDefault(),t.stopPropagation();let{shiftKeyMultiplier:r}=this.$props,{min:l,max:h,value:o,pointerValue:d}=this.$state,u=this.j.ra(),c=this.j.fb(),p=n?c*r():c,f=Number(sR[a]),g=this.Kn?d():null!==(s=null===(e=(i=this.j).Z)||void 0===e?void 0:e.call(i))&&void 0!==s?s:o();return Math.max(l(),Math.min(h(),Number(((g+p*f)/u*u).toFixed(3))))}cl(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();let e=this.Dd(t);this.eb(e,t),this.mh(e,t)}fl(t){t.preventDefault()}constructor(t,e){super(),this.j=t,this.a=e,this.p=null,this.db=null,this.Vb=null,this.Kn=!1,this.dl=eI(t=>{this.eb(this.Dd(t),t)},20,{leading:!0})}}let sV=(0,d.U)(()=>({}));class sN extends d.V{onSetup(){this.a=tO();let t=new iJ;t.attach(this),this.$state.focused=t.focused.bind(t),(0,d.a7)(sV)||(0,d.a2)(sV,{default:"value"}),(0,d.a2)(sF,{cb:this.$props.orientation,Fd:this.j.z,oh:(0,d.s)(null)}),(0,d.e)(this.O.bind(this)),(0,d.e)(this.gl.bind(this)),(0,d.e)(this.Oc.bind(this)),this.il(),new sW(this.j,this.a).attach(this),new sj({callback:this.hf.bind(this)}).attach(this)}onAttach(t){eP(t,"role","slider"),eP(t,"tabindex","0"),eP(t,"autocomplete","off"),E?this.ph():(0,d.e)(this.ph.bind(this))}onConnect(t){(0,d.v)(eA(t,this.Mc.set)),(0,d.e)(this.Fa.bind(this))}hf(t){this.Nc.set(t[0].isIntersecting)}Fa(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Mc()||!this.Nc.bind(this))}O(){let{dragging:t,value:e,min:i,max:s}=this.$state;if(!(0,d.p)(t)){var a,n;e.set((a=i(),n=s(),ek(a,ey(e(),ew(this.j.ra())),n)))}}gl(){this.$state.step.set(this.j.ra())}Oc(){if(!this.j.z())return;let{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}jl(){return(0,d.a5)(this.j.z())}il(){var t,e;let{orientation:i}=this.$props,{dragging:s,active:a,pointing:n}=this.$state;this.setAttributes({"data-dragging":s,"data-pointing":n,"data-active":a,"aria-disabled":this.jl.bind(this),"aria-valuemin":null!==(t=this.j.Um)&&void 0!==t?t:this.$state.min,"aria-valuemax":null!==(e=this.j.jf)&&void 0!==e?e:this.$state.max,"aria-valuenow":this.j.P,"aria-valuetext":this.j.Q,"aria-orientation":i})}ph(){let{fillPercent:t,pointerPercent:e}=this.$state;this.kl(ey(t(),3),ey(e(),3))}constructor(t){super(),this.j=t,this.Mc=(0,d.s)(!0),this.Nc=(0,d.s)(!0),this.kl=(0,d.b)((t,e)=>{var i,s;null===(i=this.el)||void 0===i||i.style.setProperty("--slider-fill",t+"%"),null===(s=this.el)||void 0===s||s.style.setProperty("--slider-pointer",e+"%")})}}sN.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class sH extends d.W{onSetup(){(0,d.e)(this.O.bind(this)),(0,d.e)(this.Pc.bind(this))}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let{value:t,max:e}=this.$state;return ey(t()/e()*100,2)+"%"}O(){let{value:t}=this.$props;this.$state.value.set(t())}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}constructor(){super(),new sN({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.$props.disabled,P:this.P.bind(this),Q:this.Q.bind(this)})}}sH.props={...sN.props,min:0,max:100,value:0},sH.state=sD;let sY=new Map,sG=new Map;class sK{static create(t,e){return new sK(t,e,tO())}ll(){let{canLoad:t}=this.a.$state;if(!t())return;let e=this.$src(),s=new AbortController;if(e){if((0,d.i)(e)&&sY.has(e)){let t=sY.get(e);if(sY.delete(e),sY.set(e,t),sY.size>30){let t=sY.keys().next().value;sY.delete(t)}this.$images.set(sY.get(e))}else if((0,d.i)(e)){var a;let t=this.$crossOrigin(),n=e+"::"+t;if(!sG.has(n)){let a=new Promise(async(a,n)=>{try{let r=await fetch(e,{signal:s.signal,credentials:tn(t)});if("application/json"===r.headers.get("content-type")){let t=await r.json();if((0,d.g)(t)){if(t[0]&&"text"in t[0])a(this.qh(t));else{for(let e=0;e<t.length;e++){let i=t[e];iE((0,d.h)(i),!1),iE("url"in i&&(0,d.i)(i.url),!1),iE("startTime"in i&&(0,d.j)(i.startTime),!1)}a(t)}}else a(this.rh(t));return}i.e(7922).then(i.bind(i,7922)).then(async t=>{let{parseResponse:e}=t;try{let{cues:t}=await e(r);a(this.qh(t))}catch(t){n(t)}})}catch(t){n(t)}}).then(t=>(s.signal.aborted||sY.set(n,t),t)).catch(t=>{s.signal.aborted||this.R(e,t)}).finally(()=>{(0,d.i)(n)&&sG.delete(n)});sG.set(n,a)}null===(a=sG.get(n))||void 0===a||a.then(t=>{s.signal.aborted||this.$images.set(t||[])})}else if((0,d.g)(e))try{this.$images.set(this.ml(e))}catch(t){this.R(e,t)}else try{this.$images.set(this.rh(e))}catch(t){this.R(e,t)}return()=>{s.abort(),this.$images.set([])}}}ml(t){let e=this.sh();return t.map((t,i)=>(iE(t.url&&(0,d.i)(t.url)),iE("startTime"in t&&(0,d.j)(t.startTime)),{...t,url:(0,d.i)(t.url)?this.th(t.url,e):t.url}))}rh(t){var e;iE((0,d.i)(t.url)),iE((0,d.g)(t.tiles)&&(null===(e=t.tiles)||void 0===e?void 0:e.length));let i=new URL(t.url),s=[],a="tile_width"in t?t.tile_width:t.tileWidth,n="tile_height"in t?t.tile_height:t.tileHeight;for(let e of t.tiles)s.push({url:i,startTime:"start"in e?e.start:e.startTime,width:a,height:n,coords:{x:e.x,y:e.y}});return s}qh(t){for(let e=0;e<t.length;e++){let i=t[e];iE("startTime"in i&&(0,d.j)(i.startTime)),iE("text"in i&&(0,d.i)(i.text))}let e=[],i=this.sh();for(let s of t){let[t,a]=s.text.split("#"),n=this.nl(a);e.push({url:this.th(t,i),startTime:s.startTime,endTime:s.endTime,width:null==n?void 0:n.w,height:null==n?void 0:n.h,coords:n&&(0,d.j)(n.x)&&(0,d.j)(n.y)?{x:n.x,y:n.y}:void 0})}return e}sh(){let t=(0,d.p)(this.$src);return(0,d.i)(t)&&/^https?:/.test(t)?t:location.href}th(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}nl(t){if(!t)return{};let[e,i]=t.split("="),s=null==i?void 0:i.split(","),a={};if(!e||!s)return null;for(let t=0;t<e.length;t++){let i=+s[t];isNaN(i)||(a[e[t]]=i)}return a}R(t,e){}constructor(t,e,i){this.$src=t,this.$crossOrigin=e,this.a=i,this.$images=(0,d.s)([]),(0,d.e)(this.ll.bind(this))}}class sz extends d.W{onSetup(){this.a=tO(),this.Y=sK.create(this.$props.src,this.$state.crossOrigin),this.Da(),this.setAttributes({"data-loading":this.Qc.bind(this),"data-error":this.gb.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":sx(this.$state.hidden)})}onConnect(t){(0,d.e)(this.lf.bind(this)),(0,d.e)(this.Fa.bind(this)),(0,d.e)(this.Da.bind(this)),(0,d.e)(this.Na.bind(this)),(0,d.e)(this.ol.bind(this)),(0,d.e)(this.uh.bind(this))}lf(){let t=this.$state.img();t&&((0,d.l)(t,"load",this.ub.bind(this)),(0,d.l)(t,"error",this.R.bind(this)))}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.a.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}Na(){let{src:t,loading:e,error:i}=this.$state;return t()&&(e.set(!0),i.set(null)),()=>{this.pl(),e.set(!1),i.set(null)}}ub(){let{loading:t,error:e}=this.$state;this.uh(),t.set(!1),e.set(null)}R(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}Qc(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}gb(){let{error:t}=this.$state;return!(0,d.R)(t())}Fa(){let{hidden:t}=this.$state,{duration:e}=this.a.$state,i=this.Y.$images();t.set(this.gb()||!Number.isFinite(e())||0===i.length)}vh(){return this.$props.time()}ol(){let t=this.Y.$images();if(!t.length)return;let e=this.vh(),{src:i,activeThumbnail:s}=this.$state,a=-1,n=null;for(let i=t.length-1;i>=0;i--){let s=t[i];if(e>=s.startTime&&(!s.endTime||e<s.endTime)){a=i;break}}t[a]&&(n=t[a]),s.set(n),i.set((null==n?void 0:n.url.href)||"")}uh(){var t,e;if(!this.scope||this.$state.hidden())return;let i=this.el,s=this.$state.img(),a=this.$state.activeThumbnail();if(!s||!a||!i)return;let n=null!==(t=a.width)&&void 0!==t?t:s.naturalWidth,r=null!==(e=null==a?void 0:a.height)&&void 0!==e?e:s.naturalHeight,{maxWidth:l,maxHeight:h,minWidth:o,minHeight:d,width:u,height:c}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(u)+""),"100%"===d&&(d=parseFloat(c)+"");let p=Math.max(parseInt(o)/n,parseInt(d)/r),f=Math.min(Math.max(parseInt(o),parseInt(l))/n,Math.max(parseInt(d),parseInt(h))/r),g=!isNaN(f)&&f<1?f:p>1?p:1;this.Wb(i,"--thumbnail-width","".concat(n*g,"px")),this.Wb(i,"--thumbnail-height","".concat(r*g,"px")),this.Wb(s,"width","".concat(s.naturalWidth*g,"px")),this.Wb(s,"height","".concat(s.naturalHeight*g,"px")),this.Wb(s,"transform",a.coords?"translate(-".concat(a.coords.x*g,"px, -").concat(a.coords.y*g,"px)"):""),this.Wb(s,"max-width","none")}Wb(t,e,i){t.style.setProperty(e,i),this.kf.push(()=>t.style.removeProperty(e))}pl(){for(let t of this.kf)t();this.kf=[]}constructor(){super(...arguments),this.kf=[]}}sz.props={src:null,time:0,crossOrigin:null},sz.state=new d.T({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});class sB extends sz{onAttach(t){this.ja=(0,d.a8)(sH.state)}vh(){let{duration:t,clipStartTime:e}=this.a.$state;return e()+this.ja.pointerRate()*t()}}var sU=Object.defineProperty,s_=Object.getOwnPropertyDescriptor;class sQ extends d.W{get video(){return this.$state.video()}onSetup(){this.a=tO(),this.ja=(0,d.a8)(sH.state),this.Da(),this.setAttributes({"data-loading":this.Qc.bind(this),"data-hidden":this.$state.hidden,"data-error":this.gb.bind(this),"aria-hidden":sx(this.$state.hidden)})}onAttach(t){(0,d.e)(this.ql.bind(this)),(0,d.e)(this.Nb.bind(this)),(0,d.e)(this.Da.bind(this)),(0,d.e)(this.Fa.bind(this)),(0,d.e)(this.rl.bind(this)),(0,d.e)(this.sl.bind(this))}ql(){let t=this.$state.video();t&&(t.readyState>=2&&this.fd(),(0,d.l)(t,"canplay",this.fd.bind(this)),(0,d.l)(t,"error",this.R.bind(this)))}Nb(){let{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.a.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}Qc(){let{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}gb(){let{error:t}=this.$state;return!(0,d.R)(t)}Fa(){let{src:t,hidden:e}=this.$state,{canLoad:i,duration:s}=this.a.$state;e.set(i()&&(!t()||this.gb()||!Number.isFinite(s())))}rl(){let{src:t,canPlay:e,error:i}=this.$state;t(),e.set(!1),i.set(null)}fd(t){let{canPlay:e,error:i}=this.$state;e.set(!0),i.set(null),this.dispatch("can-play",{trigger:t})}R(t){let{canPlay:e,error:i}=this.$state;e.set(!1),i.set(t),this.dispatch("error",{trigger:t})}sl(){let{video:t,canPlay:e}=this.$state,{duration:i}=this.a.$state,{pointerRate:s}=this.ja,a=t();e()&&a&&Number.isFinite(i())&&Number.isFinite(s())&&(a.currentTime=s()*i())}}sQ.props={src:null,crossOrigin:null},sQ.state=new d.T({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}),((t,e,i,s)=>{for(var a,n=s_(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&sU(e,i,n)})([d.a3],sQ.prototype,"video");var sX=Object.defineProperty,sZ=Object.getOwnPropertyDescriptor;class sJ extends d.W{onSetup(){this.ja=(0,d.a8)(sH.state),this.Rc=(0,d.O)(sV),this.tl=(0,d.L)(this.getValueText.bind(this))}getValueText(){var t,e,i,s,a,n;let{type:r,format:l,decimalPlaces:h,padHours:o,padMinutes:d,showHours:u,showMs:c}=this.$props,{value:p,pointerValue:f,min:g,max:b}=this.ja,m=null!==(t=null==l?void 0:l())&&void 0!==t?t:this.Rc.default,v="current"===r()?p():f();if("percent"===m){let t=b()-g();return(null!==(e=this.Rc.percent)&&void 0!==e?e:ey)(v/t*100,h())+"%"}return"time"===m?(null!==(i=this.Rc.time)&&void 0!==i?i:sh)(v,{padHrs:o(),padMins:d(),showHrs:u(),showMs:c()}):(null!==(n=null===(s=(a=this.Rc).value)||void 0===s?void 0:s.call(a,v))&&void 0!==n?n:v.toFixed(2))+""}}sJ.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2},((t,e,i,s)=>{for(var a,n=sZ(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&sX(e,i,n)})([d.a4],sJ.prototype,"getValueText");class s0 extends d.W{onSetup(){this.ja=(0,d.O)(sF);let{active:t}=(0,d.a8)(sH.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){let{oh:e}=this.ja;e.set(t),(0,d.v)(()=>e.set(null)),(0,d.e)(this.wh.bind(this));let i=new ResizeObserver(this.wh.bind(this));i.observe(t),(0,d.v)(()=>i.disconnect())}constructor(){super(...arguments),this.wh=(0,d.b)(()=>{let{Fd:t,cb:e}=this.ja;if(t())return;let i=this.el,{offset:s,noClamp:a}=this.$props;i&&function(t,e){let{clamp:i,offset:s,orientation:a}=e,n=getComputedStyle(t),r=parseFloat(n.width),l=parseFloat(n.height),h={top:null,right:null,bottom:null,left:null};if(h["horizontal"===a?"bottom":"left"]="calc(100% + var(--media-slider-preview-offset, ".concat(s,"px))"),"horizontal"===a){let t=r/2;if(i){let e="max(0px, calc(var(--slider-pointer) - ".concat(t,"px))");h.left="min(".concat(e,", ").concat("calc(100% - ".concat(r,"px)"),")")}else h.left="calc(var(--slider-pointer) - ".concat(t,"px)")}else{let t=l/2;if(i){let e="max(".concat(t,"px, calc(var(--slider-pointer) - ").concat(t,"px))");h.bottom="min(".concat(e,", ").concat("calc(100% - ".concat(l,"px)"),")")}else h.bottom="calc(var(--slider-pointer) - ".concat(t,"px)")}Object.assign(t.style,h)}(i,{clamp:!a(),offset:s(),orientation:e()})})}}s0.props={offset:0,noClamp:!1};class s1 extends d.W{onSetup(){this.a=tO();let{audioGain:t}=this.a.$state;(0,d.a2)(sV,{default:"percent",value(e){var i;return(e*(null!==(i=t())&&void 0!==i?i:1)).toFixed(2)},percent(e){var i;return Math.round(e*(null!==(i=t())&&void 0!==i?i:1))}}),new sN({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),jf:this.jf.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,d.e)(this.Gc.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),eP(t,"aria-label","Volume");let{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sx(()=>!e())})}P(){var t;let{value:e}=this.$state,{audioGain:i}=this.a.$state;return Math.round(e()*(null!==(t=i())&&void 0!==t?t:1))}Q(){var t;let{value:e,max:i}=this.$state,{audioGain:s}=this.a.$state;return ey(e()/i()*(null!==(t=s())&&void 0!==t?t:1)*100,2)+"%"}jf(){var t;let{audioGain:e}=this.a.$state;return this.$state.max()*(null!==(t=e())&&void 0!==t?t:1)}z(){let{disabled:t}=this.$props,{canSetVolume:e}=this.a.$state;return t()||!e()}Gc(){let{muted:t,volume:e}=this.a.$state,i=t()?0:100*e();this.$state.value.set(i),this.dispatch("value-change",{detail:i})}Oa(t){if(!t.trigger)return;let e=ey(t.detail/100,3);this.a.remote.changeVolume(e,t)}l(t){this.xh(t)}T(t){this.xh(t)}constructor(){super(...arguments),this.xh=eI(this.Oa.bind(this),25)}}s1.props={...sN.props,keyStep:5,shiftKeyMultiplier:2},s1.state=sD;class s2 extends d.W{onSetup(){this.a=tO(),(0,d.a2)(sV,{default:"percent",percent:(t,e)=>ey(this.$state.value(),e)+"%"}),new sN({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,d.e)(this.Pc.bind(this)),(0,d.e)(this.ul.bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),eP(t,"aria-label","Audio Boost");let{canSetAudioGain:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sx(()=>!e())})}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let{value:t}=this.$state;return t()+"%"}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}ul(){var t;let{audioGain:e}=this.a.$state,i=((null!==(t=e())&&void 0!==t?t:1)-1)*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})}z(){let{disabled:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return t()||!e()}yh(t){if(!t.trigger)return;let e=ey(1+t.detail/100,2);this.a.remote.changeAudioGain(e,t)}l(t){this.yh(t)}T(t){this.yh(t)}}s2.props={...sN.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},s2.state=sD;class s3 extends d.W{onSetup(){this.a=tO(),new sN({ra:this.$props.step,fb:this.$props.keyStep,Ea:this.Ea,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,d.e)(this.Pc.bind(this)),(0,d.e)(this.Re.bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),eP(t,"aria-label","Speed");let{canSetPlaybackRate:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sx(()=>!e())})}P(){let{value:t}=this.$state;return t()}Q(){let{value:t}=this.$state;return t()+"x"}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}Re(){let{playbackRate:t}=this.a.$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}Ea(t){return ey(t,2)}z(){let{disabled:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return t()||!e()}vl(t){if(!t.trigger)return;let e=t.detail;this.a.remote.changePlaybackRate(e,t)}l(t){this.zh(t)}T(t){this.zh(t)}constructor(){super(...arguments),this.zh=eI(this.vl.bind(this),25)}}s3.props={...sN.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},s3.state=sD;class s5 extends d.W{onSetup(){this.a=tO(),new sN({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,d.e)(this.wl.bind(this)),(0,d.e)(this.xl.bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),eP(t,"aria-label","Video Quality");let{qualities:e,canSetQuality:i}=this.a.$state,s=(0,d.L)(()=>i()&&e().length>0);this.setAttributes({"data-supported":s,"aria-hidden":sx(()=>!s())})}P(){let{value:t}=this.$state;return t()}Q(){let{quality:t}=this.a.$state;if(!t())return"";let{height:e,bitrate:i}=t(),s=i&&i>0?"".concat((i/1e6).toFixed(2)," Mbps"):null;return e?"".concat(e,"p").concat(s?" (".concat(s,")"):""):"Auto"}wl(){let t=this.Sc();this.$state.max.set(Math.max(0,t.length-1))}xl(){let{quality:t}=this.a.$state,e=Math.max(0,this.Sc().indexOf(t()));this.$state.value.set(e),this.dispatch("value-change",{detail:e})}z(){let{disabled:t}=this.$props,{canSetQuality:e,qualities:i}=this.a.$state;return t()||i().length<=1||!e()}_a(t){if(!t.trigger)return;let{qualities:e}=this.a,i=(0,d.p)(this.Sc)[t.detail];this.a.remote.changeQuality(e.indexOf(i),t)}l(t){this.Ah(t)}T(t){this.Ah(t)}constructor(){super(...arguments),this.Sc=(0,d.L)(()=>{let{qualities:t}=this.a.$state;return eU(t())}),this.Ah=eI(this._a.bind(this),25)}}s5.props={...sN.props,step:1,keyStep:1,shiftKeyMultiplier:1},s5.state=sD;class s4 extends d.W{onSetup(){this.a=tO(),(0,d.a2)(sV,{default:"time",value:this.yl.bind(this),time:this.zl.bind(this)}),this.setAttributes({"data-chapters":this.Al.bind(this)}),this.setStyles({"--slider-progress":this.Bl.bind(this)}),(0,d.e)(this.Rb.bind(this)),(0,d.e)(this.Cl.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),eP(t,"aria-label","Seek")}onConnect(t){(0,d.e)(this.Dl.bind(this)),tm(this.a.textTracks,"chapters",this.Bh.set)}Bl(){let{bufferedEnd:t,duration:e}=this.a.$state;return ey(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}Al(){var t;let{duration:e}=this.a.$state;return(null===(t=this.Bh())||void 0===t?void 0:t.cues.length)&&Number.isFinite(e())&&e()>0}Cl(){this.mf=eI(this.Ka.bind(this),this.$props.seekingRequestThrottle())}Rb(){if(this.$state.hidden())return;let{value:t,dragging:e}=this.$state,i=this.Z();(0,d.p)(e)||(t.set(i),this.dispatch("value-change",{detail:i}))}Dl(){let t=this.a.player.el,{oh:e}=(0,d.O)(sF);t&&e()&&(0,d.Y)(t,"data-preview",this.$state.active())}Ka(t,e){this.a.remote.seeking(t,e)}El(t,e,i){this.mf.cancel();let{live:s}=this.a.$state;if(s()&&e>=99){this.a.remote.seekToLiveEdge(i);return}this.a.remote.seek(t,i)}ff(t){let{pauseWhileDragging:e}=this.$props;if(e()){let{paused:e}=this.a.$state;this.nf=!e(),this.a.remote.pause(t)}}T(t){this.mf(this.Xb(t.detail),t)}Ed(t){let{seeking:e}=this.a.$state;(0,d.p)(e)||this.Ka(this.Xb(t.detail),t);let i=t.detail;this.El(this.Xb(i),i,t);let{pauseWhileDragging:s}=this.$props;s()&&this.nf&&(this.a.remote.play(t),this.nf=!1)}l(t){let{dragging:e}=this.$state;!e()&&t.trigger&&this.Ed(t)}Z(){let{currentTime:t}=this.a.$state;return this.Fl(t())}ra(){let t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}fb(){let t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ea(t){return ey(t,3)}z(){let{disabled:t}=this.$props,{canSeek:e}=this.a.$state;return t()||!e()}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let t=this.Xb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?"".concat(so(t)," out of ").concat(so(e())):"live"}Xb(t){let{duration:e}=this.a.$state;return ey(t/100*e(),5)}Fl(t){let{liveEdge:e,duration:i}=this.a.$state,s=Math.max(0,Math.min(1,e()?1:Math.min(t,i())/i()));return Number.isNaN(s)?0:Number.isFinite(s)?100*s:100}yl(t){let e=this.Xb(t),{live:i,duration:s}=this.a.$state;return Number.isFinite(e)?(i()?e-s():e).toFixed(0):"LIVE"}zl(t,e){let i=this.Xb(t),{live:s,duration:a}=this.a.$state,n=s()?i-a():i;return Number.isFinite(i)?"".concat(n<0?"-":"").concat(sh(Math.abs(n),e)):"LIVE"}constructor(){super(),this.Bh=(0,d.s)(null),this.nf=!1;let{noSwipeGesture:t}=this.$props;new sN({lh:()=>!t(),Z:this.Z.bind(this),ra:this.ra.bind(this),fb:this.fb.bind(this),Ea:this.Ea,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),ff:this.ff.bind(this),T:this.T.bind(this),Ed:this.Ed.bind(this),l:this.l.bind(this)})}}s4.props={...sN.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},s4.state=sD;var s7=Object.defineProperty,s9=Object.getOwnPropertyDescriptor,s6=(t,e,i,s)=>{for(var a,n=s9(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&s7(e,i,n),n};class s8 extends d.W{get cues(){return this.la()}get activeCue(){return this.la()[this.Yb()]||null}get activePointerCue(){return this.la()[this.Id()]||null}onSetup(){this.a=tO(),this.Gd=(0,d.a8)(s4.state)}onAttach(t){tm(this.a.textTracks,"chapters",this.Ch.bind(this)),(0,d.e)(this.Gl.bind(this))}onConnect(){(0,d.v)(()=>this.A.bind(this))}onDestroy(){this.Ch(null)}setRefs(t){var e;if(this.ka=t,null===(e=this.of)||void 0===e||e.dispose(),1===this.ka.length){let t=this.ka[0];t.style.width="100%",t.style.setProperty("--chapter-fill","var(--slider-fill)"),t.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.ka.length>0&&(0,d.a)(()=>this.Hl(),this.of=(0,d.d)())}Ch(t){(0,d.p)(this.Hd)!==t&&(this.A(),this.Hd.set(t))}A(){var t;this.ka=[],this.la.set([]),this.Yb.set(-1),this.Id.set(-1),this.Tc=0,null===(t=this.of)||void 0===t||t.dispose()}Hl(){this.ka.length&&(0,d.e)(this.Il.bind(this))}Il(){let{hidden:t}=this.Gd;t()||((0,d.e)(this.Jl.bind(this)),(0,d.e)(this.Kl.bind(this)),(0,d.e)(this.Ll.bind(this)),(0,d.e)(this.Ml.bind(this)))}Jl(){let t=this.la();if(!t.length)return;let e,{clipStartTime:i,clipEndTime:s}=this.a.$state,a=i(),n=(s()||t[t.length-1].endTime)-a,r=100;for(let i=0;i<t.length;i++)if(e=t[i],this.ka[i]){let s=i===t.length-1?r:ey((e.endTime-Math.max(a,e.startTime))/n*100,3);this.ka[i].style.width=s+"%",r-=s}}Kl(){let{liveEdge:t,clipStartTime:e,duration:i}=this.a.$state,{fillPercent:s,value:a}=this.Gd,n=this.la(),r=t(),l=(0,d.p)(this.Yb),h=n[l],o=r?this.la.length-1:this.Dh(h&&h.startTime/i()*100<=(0,d.p)(a)?l:0,s());r||!h?this.pf(0,n.length,100):o>l?this.pf(l,o,100):o<l&&this.pf(o+1,l+1,0);let u=r?100:this.qf(n[o],s(),e(),this.rf(n));this.Eh(this.ka[o],u),this.Yb.set(o)}Ll(){let{pointing:t,pointerPercent:e}=this.Gd;if(!t()){this.Id.set(-1);return}let i=this.Dh(0,e());this.Id.set(i)}pf(t,e,i){for(let s=t;s<e;s++)this.Eh(this.ka[s],i)}Eh(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),(0,d.Y)(t,"data-active",e>0&&e<100),(0,d.Y)(t,"data-ended",100===e))}Dh(t,e){let i=0,s=this.la();if(0===e)return 0;if(100===e)return s.length-1;let{clipStartTime:a}=this.a.$state,n=a(),r=this.rf(s);for(let a=t;a<s.length;a++)if((i=this.qf(s[a],e,n,r))>=0&&i<100)return a;return 0}Ml(){this.Nl(this.Ol())}Pl(){let{bufferedEnd:t,duration:e}=this.a.$state;return 100*ey(Math.min(t()/Math.max(e(),1),1),3)}rf(t){var e;let{clipEndTime:i}=this.a.$state,s=i();return s>0?s:(null===(e=t[t.length-1])||void 0===e?void 0:e.endTime)||0}qf(t,e,i,s){if(0===this.la().length)return 0;let a=s-i,n=Math.max(0,t.startTime-i),r=Math.min(s,t.endTime)-i,l=n/a,h=100*l,o=100*Math.min(1,l+(r-n)/a);return Math.max(0,ey(e>=o?100:(e-h)/(o-h)*100,3))}Ql(t){let e=[],{clipStartTime:i,clipEndTime:s,duration:a}=this.a.$state,n=i(),r=s()||1/0,l=(t=t.filter(t=>t.startTime<=r&&t.endTime>=n))[0];l&&l.startTime>n&&e.push(new window.VTTCue(n,l.startTime,""));for(let i=0;i<t.length-1;i++){let s=t[i],a=t[i+1];if(e.push(s),a){let t=a.startTime-s.endTime;t>0&&e.push(new window.VTTCue(s.endTime,s.endTime+t,""))}}let h=t[t.length-1];if(h){e.push(h);let t=a();t>=0&&t-h.endTime>1&&e.push(new window.VTTCue(h.endTime,a(),""))}return e}Gl(){let{source:t}=this.a.$state;t(),this.qc()}qc(){if(!this.scope)return;let{disabled:t}=this.$props;if(t()){this.la.set([]),this.Yb.set(0),this.Tc=0;return}let e=this.Hd();if(e){let t=this.Jd.bind(this);t(),(0,d.v)((0,d.l)(e,"add-cue",t)),(0,d.v)((0,d.l)(e,"remove-cue",t)),(0,d.e)(this.Rl.bind(this))}return this.zb=this.Sl(),this.zb&&(0,d.e)(this.Tl.bind(this)),()=>{this.zb&&(this.zb.textContent="",this.zb=null)}}Rl(){this.a.$state.duration(),this.Jd()}Tl(){let t=this.activePointerCue||this.activeCue;this.zb&&(this.zb.textContent=(null==t?void 0:t.text)||"")}Ul(){let t=this.el;for(;t&&"slider"!==t.getAttribute("role");)t=t.parentElement;return t}Sl(){let t=this.Ul();return t?t.querySelector('[data-part="chapter-title"]'):null}constructor(){super(...arguments),this.zb=null,this.ka=[],this.Hd=(0,d.s)(null),this.la=(0,d.s)([]),this.Yb=(0,d.s)(-1),this.Id=(0,d.s)(-1),this.Tc=0,this.Nl=(0,d.b)(t=>{let e,i=this.la(),{clipStartTime:s}=this.a.$state,a=s(),n=this.rf(i);for(let s=this.Tc;s<this.ka.length;s++){var r;if(e=this.qf(i[s],t,a,n),null===(r=this.ka[s])||void 0===r||r.style.setProperty("--chapter-progress",e+"%"),e<100){this.Tc=s;break}}}),this.Ol=(0,d.L)(this.Pl.bind(this)),this.Jd=eN(()=>{let t=(0,d.p)(this.Hd);this.scope&&t&&t.cues.length&&(this.la.set(this.Ql(t.cues)),this.Yb.set(0),this.Tc=0)},150,!0)}}s8.props={disabled:!1},s6([d.a3],s8.prototype,"cues"),s6([d.a3],s8.prototype,"activeCue"),s6([d.a3],s8.prototype,"activePointerCue"),s6([d.a4],s8.prototype,"setRefs");let at=(0,d.U)(),ae=t=>"object"==typeof t&&null!=t&&1===t.nodeType,ai=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,as=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let i=getComputedStyle(t,null);return ai(i.overflowY,e)||ai(i.overflowX,e)||(t=>{let e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},aa=(t,e,i,s,a,n,r,l)=>n<t&&r>e||n>t&&r<e?0:n<=t&&l<=i||r>=e&&l>=i?n-t-s:r>e&&l<i||n<t&&l>i?r-e+a:0,an=t=>{let e=t.parentElement;return null==e?t.getRootNode().host||null:e},ar=(t,e)=>{var i,s,a,n;if("undefined"==typeof document)return[];let{scrollMode:r,block:l,inline:h,boundary:o,skipOverflowHiddenElements:d}=e,u="function"==typeof o?o:t=>t!==o;if(!ae(t))throw TypeError("Invalid target");let c=document.scrollingElement||document.documentElement,p=[],f=t;for(;ae(f)&&u(f);){if((f=an(f))===c){p.push(f);break}null!=f&&f===document.body&&as(f)&&!as(document.documentElement)||null!=f&&as(f,d)&&p.push(f)}let g=null!=(s=null==(i=window.visualViewport)?void 0:i.width)?s:innerWidth,b=null!=(n=null==(a=window.visualViewport)?void 0:a.height)?n:innerHeight,{scrollX:m,scrollY:v}=window,{height:y,width:w,top:k,right:$,bottom:x,left:T}=t.getBoundingClientRect(),{top:P,right:S,bottom:E,left:A}=(t=>{let e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t),C="start"===l||"nearest"===l?k-P:"end"===l?x+E:k+y/2-P+E,q="center"===h?T+w/2-A+S:"end"===h?$+S:T-A,O=[];for(let t=0;t<p.length;t++){let e=p[t],{height:i,width:s,top:a,right:n,bottom:o,left:d}=e.getBoundingClientRect();if("if-needed"===r&&k>=0&&T>=0&&x<=b&&$<=g&&k>=a&&x<=o&&T>=d&&$<=n)break;let u=getComputedStyle(e),f=parseInt(u.borderLeftWidth,10),P=parseInt(u.borderTopWidth,10),S=parseInt(u.borderRightWidth,10),E=parseInt(u.borderBottomWidth,10),A=0,M=0,D="offsetWidth"in e?e.offsetWidth-e.clientWidth-f-S:0,L="offsetHeight"in e?e.offsetHeight-e.clientHeight-P-E:0,j="offsetWidth"in e?0===e.offsetWidth?0:s/e.offsetWidth:0,F="offsetHeight"in e?0===e.offsetHeight?0:i/e.offsetHeight:0;if(c===e)A="start"===l?C:"end"===l?C-b:"nearest"===l?aa(v,v+b,b,P,E,v+C,v+C+y,y):C-b/2,M="start"===h?q:"center"===h?q-g/2:"end"===h?q-g:aa(m,m+g,g,f,S,m+q,m+q+w,w),A=Math.max(0,A+v),M=Math.max(0,M+m);else{A="start"===l?C-a-P:"end"===l?C-o+E+L:"nearest"===l?aa(a,o,i,P,E+L,C,C+y,y):C-(a+i/2)+L/2,M="start"===h?q-d-f:"center"===h?q-(d+s/2)+D/2:"end"===h?q-n+S+D:aa(d,n,s,f,S+D,q,q+w,w);let{scrollLeft:t,scrollTop:r}=e;A=0===F?0:Math.max(0,Math.min(r+A/F,e.scrollHeight-i/F+L)),M=0===j?0:Math.max(0,Math.min(t+M/j,e.scrollWidth-s/j+D)),C+=r-A,q+=t-M}O.push({el:e,top:A,left:M})}return O},al=["a[href]","[tabindex]","input","select","button"].map(t=>"".concat(t,":not([aria-hidden='true'])")).join(","),ah=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class ao{get B(){return this.sa}Vl(t){(0,d.l)(t,"focus",this.Fc.bind(this)),this.Ta=t,(0,d.v)(()=>{this.Ta=null})}zd(){this.Ta&&(this.Ia(),(0,d.l)(this.Ta,"keyup",this.ic.bind(this)),(0,d.l)(this.Ta,"keydown",this.jc.bind(this)),(0,d.v)(()=>{this.Uc=-1,this.sa=[]}))}Ia(){this.Uc=0,this.sa=this.Wl()}Fh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Gh(),e=this.sa[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){for(let{el:i,top:s,left:a}of ar(t,e))i.scroll({top:s,left:a,behavior:e.behavior})}(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}Hh(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=this.Gh();this.Zb(e>=0?e:0,t)}Zb(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(this.Uc=t,this.sa[t])this.sa[t].focus({preventScroll:!0}),e&&this.Fh(t);else{var i;null===(i=this.Ta)||void 0===i||i.focus({preventScroll:!0})}}Gh(){return this.sa.findIndex(t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked"))}Fc(){this.Uc>=0||(this.Ia(),this.Hh())}Ih(t){let e=t.target;if((0,d.a9)(t)&&e instanceof Element){let t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return ah.has(t.key)}ic(t){this.Ih(t)&&(t.stopPropagation(),t.preventDefault())}jc(t){if(this.Ih(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.Xl(t);break;case"Tab":this.Zb(this.sf(t.shiftKey?-1:1));break;case"ArrowUp":this.Zb(this.sf(-1));break;case"ArrowDown":this.Zb(this.sf(1));break;case"Home":case"PageUp":this.Zb(0);break;case"End":case"PageDown":this.Zb(this.sa.length-1)}}sf(t){var e;let i=this.Uc;do i=(i+t+this.sa.length)%this.sa.length;while((null===(e=this.sa[i])||void 0===e?void 0:e.offsetParent)===null);return i}Wl(){if(!this.Ta)return[];let t=this.Ta.querySelectorAll(al),e=[],i=t=>"menu"===t.getAttribute("role");for(let s of t)eL(s)&&null!==s.offsetParent&&eC(this.Ta,s,i)&&e.push(s);return e}constructor(t){this.j=t,this.Uc=-1,this.Ta=null,this.sa=[]}}var ad=Object.defineProperty,au=Object.getOwnPropertyDescriptor,ac=(t,e,i,s)=>{for(var a,n=au(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&ad(e,i,n),n};let ap=0;class af extends d.W{get triggerElement(){return this.N()}get contentElement(){return this.q()}get isSubmenu(){return!!this.Vc}onSetup(){this.a=tO();let t=++ap;this.tf="media-menu-".concat(t),this.uf="media-menu-button-".concat(t),this._b=new ao({Xl:this.close.bind(this)}),(0,d.a7)(at)&&(this.Vc=(0,d.O)(at)),this._l(),this.setAttributes({"data-open":this.U,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.z.bind(this)}),(0,d.a2)(at,{$l:this.N,q:this.q,U:this.U,$b:(0,d.s)(""),Vm:!!this.Vc,hb:this.hb.bind(this),vf:this.vf.bind(this),wf:this.wf.bind(this),xf:this.xf.bind(this),yf:this.yf.bind(this),zf:this.zf.bind(this),am:t=>{this.Nd.add(t),(0,d.v)(()=>{this.Nd.delete(t)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){if((0,d.e)(this.bm.bind(this)),this.isSubmenu){var e;null===(e=this.Vc)||void 0===e||e.zf(this)}}onDestroy(){this.N.set(null),this.q.set(null),this.Kd=null,this.Nd.clear()}_l(){let t=-1,e=(0,d.a7)(sI)?(0,d.O)(sI):null;(0,d.a2)(sI,{onDragStart:()=>{var i;null==e||null===(i=e.onDragStart)||void 0===i||i.call(e),window.clearTimeout(t),t=-1,this.Md=!0},onDragEnd:()=>{var i;null==e||null===(i=e.onDragEnd)||void 0===i||i.call(e),t=window.setTimeout(()=>{this.Md=!1,t=-1},300)}})}bm(){let t=this.cm();this.isSubmenu||this.qa(),this.Kh(t),t&&((0,d.e)(()=>{let{height:t}=this.a.$state,e=this.q();e&&(0,d._)(e,"--player-height",t()+"px")}),this._b.zd(),this.listen("pointerup",this.dm.bind(this)),(0,d.l)(window,"pointerup",this.em.bind(this)))}vf(t){let e=t.el,i=this.isSubmenu,s=sx(this.z.bind(this));eP(e,"tabindex",i?"-1":"0"),eP(e,"role",i?"menuitem":"button"),(0,d.Y)(e,"id",this.uf),(0,d.Y)(e,"aria-haspopup","menu"),(0,d.Y)(e,"aria-expanded","false"),(0,d.Y)(e,"data-root",!this.isSubmenu),(0,d.Y)(e,"data-submenu",this.isSubmenu);let a=()=>{(0,d.Y)(e,"data-open",this.U()),(0,d.Y)(e,"aria-disabled",s())};E?a():(0,d.e)(a),this.N.set(e),(0,d.v)(()=>{this.N.set(null)})}wf(t){let e=t.el;e.style.setProperty("display","none"),(0,d.Y)(e,"id",this.tf),eP(e,"role","menu"),eP(e,"tabindex","-1"),(0,d.Y)(e,"data-root",!this.isSubmenu),(0,d.Y)(e,"data-submenu",this.isSubmenu),this.q.set(e),(0,d.v)(()=>this.q.set(null));let i=()=>(0,d.Y)(e,"data-open",this.U());E?i():(0,d.e)(i),this._b.Vl(e),this.Kh(!1);let s=this.fm.bind(this);if(this.isSubmenu){var a;null===(a=this.Vc)||void 0===a||a.am(s)}else t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.qa),t.listen("vds-menu-resize",this.qa)}xf(t){this.Kd=t}Kh(t){let e=(0,d.p)(this.q);e&&(0,d.Y)(e,"aria-hidden",(0,d.a5)(!t))}yf(t){this.Jh.set(t)}Zl(t,e){var i,s,a,n,r,l;if(this.Af=(0,d.y)(e),null==e||e.stopPropagation(),this.U()===t)return;if(this.z()){t&&this.Ld.hide(e);return}null===(i=this.el)||void 0===i||i.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let h=this.N(),o=this.q();if(h&&((0,d.Y)(h,"aria-controls",t&&this.tf),(0,d.Y)(h,"aria-expanded",(0,d.a5)(t))),o&&(0,d.Y)(o,"aria-labelledby",t&&this.uf),this.U.set(t),this.gm(e),(0,d.t)(),this.Af)for(let e of(t?null==o||o.focus():null==h||h.focus(),[this.el,o]))e&&e.setAttribute("data-keyboard","");else for(let t of[this.el,o])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||this.a.activeMenu===this||(null===(n=this.a.activeMenu)||void 0===n||n.close(e),this.a.activeMenu=this),null===(a=this.Kd)||void 0===a||null===(s=a.Bf)||void 0===s||s.call(a,e);else{if(this.isSubmenu)for(let t of this.Wc)t.close(e);else this.a.activeMenu=null;null===(l=this.Kd)||void 0===l||null===(r=l.Wm)||void 0===r||r.call(l,e)}t&&requestAnimationFrame(this.Lh.bind(this))}Lh(){this.Cf||this.Df||(this._b.Ia(),requestAnimationFrame(()=>{this.Af?this._b.Hh():this._b.Fh()}))}cm(){return!this.z()&&this.U()}z(){return this.Fd()||this.Jh()}hb(t){this.Fd.set(t)}dm(t){let e=this.q();this.Md||e&&ex(e,t)||t.stopPropagation()}em(t){let e=this.q();this.Md||e&&ex(e,t)||this.close(t)}Yl(){var t;let e=null===(t=this.el)||void 0===t?void 0:t.querySelector('[data-part="close-target"]');return this.el&&e&&eC(this.el,e,t=>"menu"===t.getAttribute("role"))?e:null}gm(t){this.isSubmenu||(this.U()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}zf(t){this.Wc.add(t),(0,d.l)(t,"open",this.hm),(0,d.l)(t,"close",this.im),(0,d.v)(this.jm)}km(t){this.Wc.delete(t)}lm(t){this.Df=!0;let e=this.q();if(this.isSubmenu){var i;null===(i=this.triggerElement)||void 0===i||i.setAttribute("aria-hidden","true")}for(let e of this.Wc)if(e!==t.target)for(let t of[e.el,e.triggerElement])null==t||t.setAttribute("aria-hidden","true");if(e){let i=t.target.el;for(let t of e.children)t.contains(i)?t.setAttribute("data-open",""):t!==i&&t.setAttribute("data-hidden","")}}mm(t){this.Df=!1;let e=this.q();if(this.isSubmenu){var i;null===(i=this.triggerElement)||void 0===i||i.setAttribute("aria-hidden","false")}for(let t of this.Wc)for(let e of[t.el,t.triggerElement])null==e||e.setAttribute("aria-hidden","false");if(e)for(let t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}fm(t){let e=this.q();for(let i of(e&&"height"===t.propertyName&&(this.Cf="transitionstart"===t.type,(0,d.Y)(e,"data-transition",this.Cf?"height":null),this.U()&&this.Lh()),this.Nd))i(t)}open(t){(0,d.p)(this.U)||(this.Ld.show(t),(0,d.t)())}close(t){(0,d.p)(this.U)&&(this.Ld.hide(t),(0,d.t)())}constructor(){super(),this.U=(0,d.s)(!1),this.Fd=(0,d.s)(!1),this.N=(0,d.s)(null),this.q=(0,d.s)(null),this.Wc=new Set,this.Kd=null,this.Md=!1,this.Jh=(0,d.s)(!1),this.Nd=new Set,this.Af=!1,this.jm=this.km.bind(this),this.Df=!1,this.hm=this.lm.bind(this),this.im=this.mm.bind(this),this.qa=(0,d.b)(()=>{let t=(0,d.p)(this.q);if(!t||E)return;let e=0,i=getComputedStyle(t),s=[...t.children];for(let t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(i[t])||0;for(let t of s)if(eL(t)&&"contents"===t.style.display)s.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if(eL(t)){if(!eE(t))continue;let i=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(i.marginTop)||0)+(parseFloat(i.marginBottom)||0)}(0,d._)(t,"--menu-height",e+"px")}),this.Cf=!1;let{showDelay:t}=this.$props;this.Ld=new sp({N:this.N,q:this.q,jh:t,zd:(t,e,i)=>{eq(t,t=>{this.U()?i(t):e(t)});let s=this.Yl();s&&eq(s,t=>{t.stopPropagation(),i(t)})},F:this.Zl.bind(this)})}}af.props={showDelay:0},ac([d.a3],af.prototype,"triggerElement"),ac([d.a3],af.prototype,"contentElement"),ac([d.a3],af.prototype,"isSubmenu"),ac([d.a4],af.prototype,"open"),ac([d.a4],af.prototype,"close");var ag=Object.defineProperty,ab=Object.getOwnPropertyDescriptor;class am extends d.W{get expanded(){var t,e;return null!==(e=null===(t=this.n)||void 0===t?void 0:t.U())&&void 0!==e&&e}onSetup(){this.n=(0,d.O)(at)}onAttach(t){this.n.vf(this),(0,d.e)(this.Oc.bind(this)),eP(t,"type","button")}onConnect(t){(0,d.e)(this.nm.bind(this)),this.Hc();let e=new MutationObserver(this.Hc.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,d.v)(()=>e.disconnect()),eq(t,t=>{this.dispatch("select",{trigger:t})})}Oc(){this.n.yf(this.$props.disabled())}nm(){let t=this.Mh();t&&(0,d.e)(()=>{let e=this.n.$b();e&&(t.textContent=e)})}Hc(){var t;let e=null===(t=this.el)||void 0===t?void 0:t.querySelector('[data-part="hint"]');this.Mh.set(null!=e?e:null)}constructor(){super(),this.Mh=(0,d.s)(null),new iJ}}am.props={disabled:!1},((t,e,i,s)=>{for(var a,n=ab(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&ag(e,i,n)})([d.a3],am.prototype,"expanded");class av extends am{}class ay extends d.W{onSetup(){this.a=tO(),(0,d.a2)(aw,{yb:this.om.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;null===(t=this.H)||void 0===t||t.remove(),this.H=null}om(t){this.Nh(!1),this.H=t,eM(()=>{eM(()=>{this.connectScope&&(0,d.e)(this.Oc.bind(this))})})}Oc(){let{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,i=e();this.Nh("fullscreen"===i?!t():!i)}Nh(t){if(!this.H)return;let e=this.pm(this.$props.container());if(!e)return;let i=this.H.parentElement===e;if((0,d.Y)(this.H,"data-portal",t),t)i||(this.H.remove(),e.append(this.H));else if(i&&this.H.parentElement===e){var s;this.H.remove(),null===(s=this.el)||void 0===s||s.append(this.H)}}pm(t){return eL(t)?t:t?document.querySelector(t):document.body}constructor(){super(...arguments),this.H=null}}ay.props={container:null,disabled:!1};let aw=(0,d.U)();class ak extends d.W{onAttach(t){if(this.n=(0,d.O)(at),this.n.wf(this),(0,d.a7)(aw)){let e=(0,d.O)(aw);e&&((0,d.a2)(aw,null),e.yb(t),(0,d.v)(()=>e.yb(null)))}}onConnect(t){(0,d.e)(this.cf.bind(this))}cf(){if(!this.el)return;let t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:e,alignOffset:i}=this.$props;return eD(this.el,this.Cd(),t,{offsetVarName:"media-menu",xOffset:i(),yOffset:e()})}this.el.removeAttribute("style"),this.el.style.display="none"}Cd(){return this.n.$l()}constructor(){super(),new iJ;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}ak.props={placement:null,offset:0,alignOffset:0};let a$=(0,d.U)();class ax extends d.V{get qm(){return Array.from(this.ac).map(t=>t.Ua())}get value(){return this.Ua()}set value(t){this.F(t)}onSetup(){(0,d.a2)(a$,{add:this.rm.bind(this),remove:this.sm.bind(this)})}onAttach(t){(0,d.a7)(at)||eP(t,"role","radiogroup"),this.setAttributes({value:this.Ua})}onDestroy(){this.ac.clear()}rm(t){this.ac.has(t)||(this.ac.add(t),t.Od=this.tm,t.Xc(t.Ua()===this.Ua()))}sm(t){t.Od=null,this.ac.delete(t)}F(t,e){var i;let s=(0,d.p)(this.Ua);if(!t||t===s)return;let a=this.Oh(s),n=this.Oh(t);null==a||a.Xc(!1,e),null==n||n.Xc(!0,e),this.Ua.set(t),null===(i=this.l)||void 0===i||i.call(this,t,e)}Oh(t){for(let e of this.ac)if(t===(0,d.p)(e.Ua))return e;return null}constructor(){super(...arguments),this.ac=new Set,this.Ua=(0,d.s)(""),this.e=null,this.tm=this.F.bind(this)}}var aT=Object.defineProperty,aP=Object.getOwnPropertyDescriptor,aS=(t,e,i,s)=>{for(var a,n=aP(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aT(e,i,n),n};class aE extends d.W{get values(){return this.e.qm}get value(){return this.e.value}set value(t){this.e.value=t}onSetup(){E?this.O():(0,d.e)(this.O.bind(this))}O(){this.e.value=this.$props.value()}l(t,e){let i=this.createEvent("change",{detail:t,trigger:e});this.dispatch(i)}constructor(){super(),this.e=new ax,this.e.l=this.l.bind(this)}}aE.props={value:""},aS([d.a3],aE.prototype,"values"),aS([d.a3],aE.prototype,"value");var aA=Object.defineProperty,aC=Object.getOwnPropertyDescriptor;class aq extends d.W{get checked(){return this.Ab()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Ab,"aria-checked":sx(this.Ab)})}onAttach(t){let e=(0,d.a7)(at);eP(t,"tabindex",e?"-1":"0"),eP(t,"role",e?"menuitemradio":"radio"),(0,d.e)(this.O.bind(this))}onConnect(t){this.um(),eq(t,this.s.bind(this)),(0,d.v)(this.Ga.bind(this))}Ga(){(0,d.a)(()=>{(0,d.O)(a$).remove(this.e)},this.connectScope)}um(){(0,d.O)(a$).add(this.e)}O(){let{value:t}=this.$props,e=t();if((0,d.p)(this.Ab)){var i,s;null===(i=(s=this.e).Od)||void 0===i||i.call(s,e)}}s(t){var e,i;(0,d.p)(this.Ab)||(this.F(!0,t),this.vm(t),null===(e=(i=this.e).Od)||void 0===e||e.call(i,(0,d.p)(this.$props.value),t))}Xc(t,e){(0,d.p)(this.Ab)!==t&&this.F(t,e)}F(t,e){this.Ab.set(t),this.dispatch("change",{detail:t,trigger:e})}vm(t){this.dispatch("select",{trigger:t})}constructor(){super(),this.Ab=(0,d.s)(!1),this.e={Ua:this.$props.value,Xc:this.Xc.bind(this),Od:null},new iJ}}aq.props={value:""},((t,e,i,s)=>{for(var a,n=aC(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aA(e,i,n)})([d.a3],aq.prototype,"checked");var aO=Object.defineProperty,aM=Object.getOwnPropertyDescriptor,aD=(t,e,i,s)=>{for(var a,n=aM(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aO(e,i,n),n};class aL extends d.W{get value(){return this.e.value}get disabled(){var t;return!(null===(t=this.C())||void 0===t?void 0:t.length)}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at));let{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;null===(e=this.n)||void 0===e||e.xf({Bf:this.Bf.bind(this)})}getOptions(){let{clipStartTime:t,clipEndTime:e}=this.a.$state,i=t(),s=e()||1/0;return this.C().map((t,e)=>({cue:t,value:e.toString(),label:t.text,startTime:sh(Math.max(0,t.startTime-i)),duration:so(Math.min(s,t.endTime)-Math.max(i,t.startTime))}))}Bf(){(0,d.p)(()=>this.Rb())}onConnect(t){(0,d.e)(this.Rb.bind(this)),(0,d.e)(this.ta.bind(this)),(0,d.e)(this.wm.bind(this)),tm(this.a.textTracks,"chapters",this.K.set)}wm(){let t=this.K();if(!t)return;let e=this.Jd.bind(this,t);return e(),(0,d.l)(t,"add-cue",e),(0,d.l)(t,"remove-cue",e),()=>{this.C.set([])}}Jd(t){let{clipStartTime:e,clipEndTime:i}=this.a.$state,s=e(),a=i()||1/0;this.C.set([...t.cues].filter(t=>t.startTime<=a&&t.endTime>=s))}Rb(){var t;if(!(null===(t=this.n)||void 0===t?void 0:t.U()))return;if(!this.K()){this.e.value="-1";return}let{realCurrentTime:e,clipStartTime:i,clipEndTime:s}=this.a.$state,a=i(),n=s()||1/0,r=e(),l=this.C().findIndex(t=>tb(t,r));this.e.value=l.toString(),l>=0&&eM(()=>{if(!this.connectScope)return;let t=this.C()[l],e=this.el.querySelector("[aria-checked='true']"),i=Math.max(a,t.startTime),s=Math.min(n,t.endTime)-i;e&&(0,d._)(e,"--progress",ey(Math.max(0,r-i)/s*100,3)+"%")})}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}l(t,e){if(this.disabled||!e)return;let i=+t,s=this.C(),{clipStartTime:a}=this.a.$state;(0,d.j)(i)&&(null==s?void 0:s[i])&&(this.e.value=i.toString(),this.a.remote.seek(s[i].startTime-a(),e),this.dispatch("change",{detail:s[i],trigger:e}))}constructor(){super(),this.K=(0,d.s)(null),this.C=(0,d.s)([]),this.e=new ax,this.e.l=this.l.bind(this)}}aL.props={thumbnails:null},aD([d.a3],aL.prototype,"value"),aD([d.a3],aL.prototype,"disabled"),aD([d.a4],aL.prototype,"getOptions");var aj=Object.defineProperty,aF=Object.getOwnPropertyDescriptor,aI=(t,e,i,s)=>{for(var a,n=aF(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aj(e,i,n),n};class aR extends d.W{get value(){return this.e.value}get disabled(){let{audioTracks:t}=this.a.$state;return t().length<=1}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at))}onConnect(t){(0,d.e)(this.O.bind(this)),(0,d.e)(this.ta.bind(this)),(0,d.e)(this.Va.bind(this))}getOptions(){let{audioTracks:t}=this.a.$state;return t().map(t=>({track:t,label:t.label,value:t.label.toLowerCase()}))}O(){this.e.value=this.Z()}Va(){var t,e;let{emptyLabel:i}=this.$props,{audioTrack:s}=this.a.$state,a=s();null===(t=this.n)||void 0===t||t.$b.set(null!==(e=null==a?void 0:a.label)&&void 0!==e?e:i())}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}Z(){let{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}l(t,e){if(this.disabled)return;let i=this.a.audioTracks.toArray().findIndex(e=>e.label.toLowerCase()===t);if(i>=0){let t=this.a.audioTracks[i];this.a.remote.changeAudioTrack(i,e),this.dispatch("change",{detail:t,trigger:e})}}constructor(){super(),this.e=new ax,this.e.l=this.l.bind(this)}}aR.props={emptyLabel:"Default"},aI([d.a3],aR.prototype,"value"),aI([d.a3],aR.prototype,"disabled"),aI([d.a4],aR.prototype,"getOptions");var aW=Object.defineProperty,aV=Object.getOwnPropertyDescriptor,aN=(t,e,i,s)=>{for(var a,n=aV(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aW(e,i,n),n};class aH extends d.W{get value(){return this.e.value}get disabled(){let{gains:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return!e()||0===t().length}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at))}onConnect(t){(0,d.e)(this.O.bind(this)),(0,d.e)(this.Va.bind(this)),(0,d.e)(this.ta.bind(this))}getOptions(){let{gains:t,normalLabel:e}=this.$props;return t().map(t=>({label:1===t||null===t?e:String(100*t)+"%",value:t.toString()}))}O(){this.e.value=this.Z()}Va(){var t;let{normalLabel:e}=this.$props,{audioGain:i}=this.a.$state,s=i();null===(t=this.n)||void 0===t||t.$b.set(1===s||null==s?e():String(100*s)+"%")}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}Z(){var t,e;let{audioGain:i}=this.a.$state;return null!==(e=null===(t=i())||void 0===t?void 0:t.toString())&&void 0!==e?e:"1"}l(t,e){if(this.disabled)return;let i=+t;this.a.remote.changeAudioGain(i,e),this.dispatch("change",{detail:i,trigger:e})}constructor(){super(),this.e=new ax,this.e.l=this.l.bind(this)}}aH.props={normalLabel:"Disabled",gains:[1,1.25,1.5,1.75,2,2.5,3,4]},aN([d.a3],aH.prototype,"value"),aN([d.a3],aH.prototype,"disabled"),aN([d.a4],aH.prototype,"getOptions");var aY=Object.defineProperty,aG=Object.getOwnPropertyDescriptor,aK=(t,e,i,s)=>{for(var a,n=aG(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aY(e,i,n),n};class az extends d.W{get value(){return this.e.value}get disabled(){let{hasCaptions:t}=this.a.$state;return!t()}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at))}onConnect(t){var e;null===(e=super.onConnect)||void 0===e||e.call(this,t),(0,d.e)(this.O.bind(this)),(0,d.e)(this.ta.bind(this)),(0,d.e)(this.Va.bind(this))}getOptions(){let{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(tw).map(t=>({track:t,label:t.label,value:this.Ef(t)}))]}O(){this.e.value=this.Z()}Va(){var t;let{offLabel:e}=this.$props,{textTrack:i}=this.a.$state,s=i();null===(t=this.n)||void 0===t||t.$b.set(s&&tw(s)&&"showing"===s.mode?s.label:e())}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}Z(){let{textTrack:t}=this.a.$state,e=t();return e&&tw(e)&&"showing"===e.mode?this.Ef(e):"off"}l(t,e){if(this.disabled)return;if("off"===t){let t=this.a.textTracks.selected;if(t){let i=this.a.textTracks.indexOf(t);this.a.remote.changeTextTrackMode(i,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}let i=this.a.textTracks.toArray().findIndex(e=>this.Ef(e)===t);if(i>=0){let t=this.a.textTracks[i];this.a.remote.changeTextTrackMode(i,"showing",e),this.dispatch("change",{detail:t,trigger:e})}}Ef(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}constructor(){super(),this.e=new ax,this.e.l=this.l.bind(this)}}az.props={offLabel:"Off"},aK([d.a3],az.prototype,"value"),aK([d.a3],az.prototype,"disabled"),aK([d.a4],az.prototype,"getOptions");var aB=Object.defineProperty,aU=Object.getOwnPropertyDescriptor,a_=(t,e,i,s)=>{for(var a,n=aU(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aB(e,i,n),n};class aQ extends d.W{get value(){return this.e.value}get disabled(){let{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||0===t().length}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at))}onConnect(t){(0,d.e)(this.O.bind(this)),(0,d.e)(this.Va.bind(this)),(0,d.e)(this.ta.bind(this))}getOptions(){let{rates:t,normalLabel:e}=this.$props;return t().map(t=>({label:1===t?e:t+"\xd7",value:t.toString()}))}O(){this.e.value=this.Z()}Va(){var t;let{normalLabel:e}=this.$props,{playbackRate:i}=this.a.$state,s=i();null===(t=this.n)||void 0===t||t.$b.set(1===s?e():s+"\xd7")}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}Z(){let{playbackRate:t}=this.a.$state;return t().toString()}l(t,e){if(this.disabled)return;let i=+t;this.a.remote.changePlaybackRate(i,e),this.dispatch("change",{detail:i,trigger:e})}constructor(){super(),this.e=new ax,this.e.l=this.l.bind(this)}}aQ.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]},a_([d.a3],aQ.prototype,"value"),a_([d.a3],aQ.prototype,"disabled"),a_([d.a4],aQ.prototype,"getOptions");var aX=Object.defineProperty,aZ=Object.getOwnPropertyDescriptor,aJ=(t,e,i,s)=>{for(var a,n=aZ(e,i),r=t.length-1;r>=0;r--)(a=t[r])&&(n=a(e,i,n)||n);return n&&aX(e,i,n),n};class a0 extends d.W{get value(){return this.e.value}get disabled(){let{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length<=1}onSetup(){this.a=tO(),(0,d.a7)(at)&&(this.n=(0,d.O)(at))}onConnect(t){(0,d.e)(this.O.bind(this)),(0,d.e)(this.ta.bind(this)),(0,d.e)(this.Va.bind(this))}getOptions(){let{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Sc().map(t=>{let i=t.bitrate&&t.bitrate>=0?"".concat(ey(t.bitrate/1e6,2)," Mbps"):null;return{quality:t,label:t.height+"p",value:this.Ff(t),bitrate:()=>e()?null:i}})]}O(){this.e.value=this.Z()}Va(){var t;let{autoLabel:e}=this.$props,{autoQuality:i,quality:s}=this.a.$state,a=s()?s().height+"p":"";null===(t=this.n)||void 0===t||t.$b.set(i()?e()+(a?" (".concat(a,")"):""):a)}ta(){var t;null===(t=this.n)||void 0===t||t.hb(this.disabled)}l(t,e){if(this.disabled)return;if("auto"===t){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}let{qualities:i}=this.a.$state,s=(0,d.p)(i).findIndex(e=>this.Ff(e)===t);if(s>=0){let t=(0,d.p)(i)[s];this.a.remote.changeQuality(s,e),this.dispatch("change",{detail:t,trigger:e})}}Z(){let{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";let i=t();return i?this.Ff(i):"auto"}Ff(t){return t.height+"_"+t.bitrate}constructor(){super(),this.Sc=(0,d.L)(()=>{let{sort:t}=this.$props,{qualities:e}=this.a.$state;return eU(e(),"descending"===t())}),this.e=new ax,this.e.l=this.l.bind(this)}}a0.props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"},aJ([d.a3],a0.prototype,"value"),aJ([d.a3],a0.prototype,"disabled"),aJ([d.a4],a0.prototype,"getOptions");class a1 extends d.W{onSetup(){this.a=tO();let{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.p=null===(e=this.a.player.el)||void 0===e?void 0:e.querySelector("[data-media-provider]"),(0,d.e)(this.xm.bind(this))}xm(){let t=this.$props.event(),e=this.$props.disabled();this.p&&t&&!e&&(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),("pointerup"===t||"pointerdown"===t)&&"coarse"===this.a.$state.pointer()&&(t="pointerup"===t?"touchend":"touchstart"),(0,d.l)(this.p,t,this.ym.bind(this),{passive:!1}))}ym(t){if(this.$props.disabled()||(0,d.K)(t)&&(0!==t.button||this.a.activeMenu)||(0,d.Z)(t)&&this.a.activeMenu||eO(t)||!this.zm(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();let e=(0,d.p)(this.$props.event);if(null==e?void 0:e.startsWith("dbl")){if(1===this.Bb){queueMicrotask(()=>this.Qh(t)),clearTimeout(this.Ph),this.Bb=0;return}}else 0===this.Bb&&setTimeout(()=>{1===this.Bb&&this.Qh(t)},250);0===this.Bb&&(this.Ph=window.setTimeout(()=>{this.Bb=0},275)),this.Bb++}Qh(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Am()&&this.Bm((0,d.p)(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}zm(t){if(!this.el)return!1;if((0,d.K)(t)||(0,d.aa)(t)||(0,d.Z)(t)){var e,i,s;let a=(0,d.Z)(t)?null!==(e=t.changedTouches[0])&&void 0!==e?e:t.touches[0]:void 0,n=null!==(i=null==a?void 0:a.clientX)&&void 0!==i?i:t.clientX,r=null!==(s=null==a?void 0:a.clientY)&&void 0!==s?s:t.clientY,l=this.el.getBoundingClientRect(),h=r>=l.top&&r<=l.bottom&&n>=l.left&&n<=l.right;return t.type.includes("leave")?!h:h}return!0}Am(){return Array.from(this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]")).sort((t,e)=>+getComputedStyle(e).zIndex-+getComputedStyle(t).zIndex)[0]===this.el}Bm(t,e){if(!t)return;let i=new d.D("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(i),i.defaultPrevented)return;let[s,a]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek((0,d.p)(this.a.$state.currentTime)+(+a||0),e):this.a.remote[(0,d.ab)(s)](e),this.dispatch("trigger",{detail:t,trigger:e})}constructor(){super(...arguments),this.p=null,this.Bb=0,this.Ph=-1}}a1.props={disabled:!1,event:void 0,action:void 0};class a2{attach(){}canRender(){return!0}detach(){this.Za.empty(),this.da.reset(),this.K=null}changeTrack(t){t&&this.K!==t&&(this.Za.empty(),t.readyState<2?(this.da.reset(),this.Za.add((0,d.l)(t,"load",()=>this.Rh(t),{once:!0}))):this.Rh(t),this.Za.add((0,d.l)(t,"add-cue",t=>{this.da.addCue(t.detail)}),(0,d.l)(t,"remove-cue",t=>{this.da.removeCue(t.detail)})),this.K=t)}Rh(t){this.da.changeTrack({cues:[...t.cues],regions:[...t.regions]})}constructor(t){this.da=t,this.priority=10,this.K=null,this.Za=(0,d.c)()}}class a3 extends d.W{onSetup(){this.a=tO(),this.setAttributes({"aria-hidden":sx(this.Ub.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){let e=this.a.player;if(e&&(0,d.l)(e,"vds-font-change",this.Cm.bind(this)),this.da){(0,d.e)(this.Sh.bind(this));return}i.e(7922).then(i.bind(i,7922)).then(e=>{this.connectScope&&(0,d.a)(()=>{this.M=e;let{CaptionsRenderer:i}=this.M;this.da=new i(t),this.Cb=new a2(this.da),(0,d.e)(this.Sh.bind(this))},this.connectScope)})}onDestroy(){var t;this.Cb&&(this.Cb.detach(),this.a.textRenderers.remove(this.Cb)),null===(t=this.da)||void 0===t||t.destroy()}Ub(){let{textTrack:t,remotePlaybackState:e,iOSControls:i}=this.a.$state,s=t();return i()||"connected"===e()||!s||!tw(s)}Sh(){let{viewType:t}=this.a.$state;return"audio"===t()?this.Dm():this.Em()}Dm(){return(0,d.e)(this.qc.bind(this)),()=>{this.el.textContent=""}}qc(){if(this.Ub())return;let{textTrack:t}=this.a.$state;this.Th(),(0,d.l)(t(),"cue-change",this.Th.bind(this)),(0,d.e)(this.Fm.bind(this))}Th(){this.el.textContent="",this.bc>=0&&this.Gf();let{realCurrentTime:t,textTrack:e}=this.a.$state,{renderVTTCueString:i}=this.M,s=(0,d.p)(t);for(let t of(0,d.p)(e).activeCues){let e=this.Uh(),a=this.Vh();a.innerHTML=i(t,s),e.append(a),this.el.append(a)}}Fm(){let{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.M;e(this.el,t())}Em(){return(0,d.e)(this.Gm.bind(this)),(0,d.e)(this.Hm.bind(this)),this.a.textRenderers.add(this.Cb),()=>{this.el.textContent="",this.Cb.detach(),this.a.textRenderers.remove(this.Cb)}}Gm(){this.da.dir=this.$props.textDir()}Hm(){var t;if(this.Ub())return;let{realCurrentTime:e,textTrack:i}=this.a.$state;this.da.currentTime=e(),this.bc>=0&&(null===(t=i())||void 0===t?void 0:t.activeCues[0])&&this.Gf()}Cm(){var t,e;if(this.bc>=0){this.Wh();return}let{textTrack:i}=this.a.$state;(null===(t=i())||void 0===t?void 0:t.activeCues[0])?null===(e=this.da)||void 0===e||e.update(!0):this.Im()}Im(){var t,e;let i=this.Uh();(0,d.Y)(i,"data-example","");let s=this.Vh();(0,d.Y)(s,"data-example",""),s.textContent=this.$props.exampleText(),null==i||i.append(s),null===(t=this.el)||void 0===t||t.append(i),null===(e=this.el)||void 0===e||e.setAttribute("data-example",""),this.Wh()}Wh(){window.clearTimeout(this.bc),this.bc=window.setTimeout(this.Gf.bind(this),2500)}Gf(){var t,e;null===(t=this.el)||void 0===t||t.removeAttribute("data-example"),(null===(e=this.el)||void 0===e?void 0:e.querySelector("[data-example]"))&&(this.el.textContent=""),this.bc=-1}Uh(){let t=document.createElement("div");return(0,d.Y)(t,"data-part","cue-display"),t}Vh(){let t=document.createElement("div");return(0,d.Y)(t,"data-part","cue"),t}constructor(){super(...arguments),this.bc=-1}}a3.props={textDir:"ltr",exampleText:"Captions look like this."};class a5 extends d.W{onSetup(){this.a=tO(),this.Nb(),this.Xh(),this.Da(),this.Fa()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,d.e)(this.lf.bind(this)),(0,d.e)(this.Nb.bind(this)),(0,d.e)(this.Xh.bind(this)),(0,d.e)(this.Da.bind(this)),(0,d.e)(this.Fa.bind(this));let{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Qc.bind(this),"data-error":this.gb.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,d.e)(this.Jm.bind(this)),(0,d.e)(this.Na.bind(this))}gb(){let{error:t}=this.$state;return!(0,d.R)(t())}Jm(){let{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&ti(e(),"preconnect")}Fa(){let{src:t}=this.$props,{poster:e,nativeControls:i}=this.a.$state;this.el&&(0,d.Y)(this.el,"display",i()?"none":null),this.$state.hidden.set(this.gb()||!(t()||e())||i())}Qc(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}lf(){let t=this.$state.img();t&&((0,d.l)(t,"load",this.hd.bind(this)),(0,d.l)(t,"error",this.R.bind(this)))}Nb(){let{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:i,inferredPoster:s}=this.a.$state,a=this.$props.src()||"",n=a||t()||s();this.Yh===i()&&i.set(a),this.$state.src.set(e()&&n.length?n:null),this.Yh=a}Xh(){let{src:t}=this.$props,{alt:e}=this.$state,{poster:i}=this.a.$state;e.set(t()||i()?this.$props.alt():null)}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i,poster:s}=this.a.$state,a=null!==t()?t():i();e.set(/ytimg\.com|vimeo/.test(s()||"")?null:!0===a?"anonymous":a)}Na(){let{loading:t,error:e}=this.$state,{canLoadPoster:i,poster:s}=this.a.$state;t.set(i()&&!!s()),e.set(null)}hd(){let{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}R(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}constructor(){super(...arguments),this.Yh=""}}a5.props={src:null,alt:null,crossOrigin:null},a5.state=new d.T({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});class a4 extends d.W{onSetup(){this.a=tO(),this.Zh();let{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this._h.bind(this)}),new sj({callback:this.hf.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,d.e)(this.Km.bind(this)),(0,d.e)(this.Zh.bind(this))}onConnect(t){(0,d.v)(eA(t,this.Mc.set)),(0,d.e)(this.Fa.bind(this)),(0,d.e)(this.Lm.bind(this))}hf(t){this.Nc.set(t[0].isIntersecting)}Fa(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Mc()||!this.Nc())}Lm(){if(!this.$props.toggle()){this.Yc.set(null);return}this.el&&eq(this.el,this.Mm.bind(this))}Zh(){let{hidden:t,timeText:e}=this.$state,{duration:i}=this.a.$state;if(t())return;let{type:s,padHours:a,padMinutes:n,showHours:r}=this.$props,l=this.Nm(s()),h=i(),o=this._h();if(!Number.isFinite(l+h)){e.set("LIVE");return}let d=sh(o?Math.max(0,h-l):l,{padHrs:a(),padMins:n(),showHrs:r()});e.set((o?"-":"")+d)}Km(){if(!this.el)return;let{toggle:t}=this.$props;(0,d.Y)(this.el,"role",t()?"timer":null),(0,d.Y)(this.el,"tabindex",t()?0:null)}Nm(t){let{bufferedEnd:e,duration:i,currentTime:s}=this.a.$state;switch(t){case"buffered":return e();case"duration":return i();default:return s()}}_h(){return this.$props.remainder()&&!1!==this.Yc()}Mm(t){if(t.preventDefault(),null===this.Yc()){this.Yc.set(!this.$props.remainder());return}this.Yc.set(t=>!t)}constructor(){super(...arguments),this.Yc=(0,d.s)(null),this.Mc=(0,d.s)(!0),this.Nc=(0,d.s)(!0)}}a4.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},a4.state=new d.T({timeText:"",hidden:!1});let a7=(0,d.U)();class a9 extends d.W{onSetup(){this.a=tO(),(0,d.a2)(a7,{...this.$props,previewTime:(0,d.s)(0)})}}a9.props={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};class a6 extends i7{}class a8 extends sn{}class nt extends sd{}class ne extends su{}class ni extends sc{}class ns extends s${}class na extends sE{}class nn extends sA{}class nr extends sM{}class nl extends sC{}class nh extends sq{}class no extends sS{}class nd extends sT{}class nu extends sP{}class nc extends sO{}class np extends sb{}class nf extends sm{}class ng extends sv{}class nb extends sH{}class nm extends s4{}class nv extends s1{}class ny extends s2{}class nw extends s3{}class nk extends s5{}class n$ extends sB{}class nx extends sJ{}class nT extends sQ{}class nP extends s0{}class nS extends s8{}class nE extends af{}class nA extends am{}class nC extends ak{}class nq extends av{}class nO extends aE{}class nM extends aq{}class nD extends a3{}class nL extends a1{}class nj extends a5{}class nF extends sz{}class nI extends a4{}let nR=o.forwardRef((t,e)=>{let{children:i,...s}=t,a=o.Children.toArray(i),n=a.find(nN);if(n){let t=n.props.children,i=a.map(e=>e!==n?e:o.Children.count(t)>1?o.Children.only(null):o.isValidElement(t)?t.props.children:null);return o.createElement(nW,{...s,ref:e},o.isValidElement(t)?o.cloneElement(t,void 0,i):null)}return o.createElement(nW,{...s,ref:e},i)});nR.displayName="Slot";let nW=o.forwardRef((t,e)=>{let{children:i,...s}=t;return o.isValidElement(i)?o.cloneElement(i,{...function(t,e){let i={...e};for(let s in e){let a=t[s],n=e[s];/^on[A-Z]/.test(s)?a&&n?i[s]=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];n(...e),a(...e)}:a&&(i[s]=a):"style"===s?i[s]={...a,...n}:"className"===s&&(i[s]=[a,n].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:e?(0,d.x)(e,i.ref):i.ref}):o.Children.count(i)>1?o.Children.only(null):null});nW.displayName="SlotClone";let nV=t=>{let{children:e}=t;return o.createElement(o.Fragment,null,e)};function nN(t){return o.isValidElement(t)&&t.type===nV}let nH=["button","div","span","img","video","audio"].reduce((t,e)=>{let i=o.forwardRef((t,i)=>{let{asChild:s,...a}=t,n=s?nR:e;return o.createElement(n,{...a,ref:i})});return i.displayName="Primitive.".concat(e),{...t,[e]:i}},{});function nY(t){return(null==t?void 0:t.$$PROVIDER_TYPE)==="REMOTION"}function nG(t){return(null==t?void 0:t.type)==="video/remotion"}let nK=nb.state.record,nz=Object.keys(nK).reduce((t,e)=>({...t,[e]:()=>nK[e]}),{});function nB(t,e){var i;let s=(0,d.C)(sD);return(0,d.u)(((null==e?void 0:null===(i=e.current)||void 0===i?void 0:i.$state)||s||nz)[t])}let nU=a6.state.record,n_=Object.keys(nU).reduce((t,e)=>({...t,[e]:()=>nU[e]}),{});function nQ(t,e){var i;let s=(0,d.C)(tk);return(0,d.u)(((null==e?void 0:null===(i=e.current)||void 0===i?void 0:i.$state)||s||n_)[t])}}}]);